[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "About",
    "section": "",
    "text": "This project is a comprehensive guide to the R programming language, built with Quarto. It covers a wide range of topics, from the fundamentals of R to advanced applications in data manipulation, visualization, and publishing.\n\nKey Sections:\n\nIntro to R:\n\nBasic R: Covers fundamental concepts like working with files, handling errors, using conditional statements (if/else), loops (for, while, map), creating functions, managing packages, and using version control with renv. It also touches on interacting with Python using reticulate.\nProbability: Explores concepts like random numbers, permutations, combinations, conditional probability, the derangement problem, and key probability distributions (Binomial, Normal). It also demonstrates how to check for normality using histograms, Q-Q plots, and the Shapiro-Wilk test.\nStatistics: Introduces basic statistical concepts, including different types of variables, measures of centrality and spread, covariance, and correlation.\nError Handling: Provides practical tips for troubleshooting common issues, such as Python version conflicts with reticulate.\n\nData Manipulation:\n\nI/O: Reading and writing data from various formats.\nData Structures: Understanding and working with R’s data structures (vectors, lists, data frames, etc.).\nTidyverse: A deep dive into the tidyverse ecosystem for data manipulation and wrangling.\ndata.table: High-performance data manipulation using the data.table package.\nRecipes: Preprocessing data for modeling using the recipes package.\nResampling: Techniques for creating training and testing sets for model validation.\nSQL Databases: Interacting with SQL databases from within R.\nData Management: Best practices for organizing and managing data in your projects.\n\nPlotting:\n\nggplot2: Creating a wide variety of static visualizations.\nplotly: Building interactive plots.\nImage Processing: Basic image manipulation and analysis.\nFinancial Data: Visualizing financial time-series data.\nMapping: Creating maps and spatial visualizations.\n\nPublishing:\n\nShiny: Building interactive web applications.\nQuarto: Creating dynamic documents, presentations, and websites.\nDashboards: Designing and building data dashboards.\nEmail: Sending emails from R, potentially with embedded reports or plots.\nGit: Using Git for version control and collaboration.\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "intro/1 basic R.html#get-current-directory",
    "href": "intro/1 basic R.html#get-current-directory",
    "title": "Basic R",
    "section": "2.1 Get current directory",
    "text": "2.1 Get current directory\nThe getwd() function returns your current working directory as a string.\n\n\nCode\ngetwd()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-all-file-name-under-current-directory",
    "href": "intro/1 basic R.html#get-all-file-name-under-current-directory",
    "title": "Basic R",
    "section": "2.2 get all file name under current directory",
    "text": "2.2 get all file name under current directory\n\n\nCode\nlist.files()\n\n\n [1] \"1 basic R_files\"               \"1 basic R.qmd\"                \n [3] \"1 basic R.rmarkdown\"           \"1-basic-R.rmarkdown\"          \n [5] \"2 probability.qmd\"             \"3 Statistics.qmd\"             \n [7] \"5 R boook.qmd\"                 \"6 data analytic in R book.qmd\"\n [9] \"7 error handling.qmd\"          \"hotels.csv\"                   \n[11] \"images\"                        \"renv\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-all-file-name-under-currrents-parent-directory",
    "href": "intro/1 basic R.html#get-all-file-name-under-currrents-parent-directory",
    "title": "Basic R",
    "section": "2.4 get all file name under currrents parent directory",
    "text": "2.4 get all file name under currrents parent directory\n\n\nCode\nlist.files(\"../\")\n\n\n [1] \"_extensions\"           \"_freeze\"               \"_publish.yml\"         \n [4] \"_quarto.yml\"           \"_site\"                 \"data manipulation\"    \n [7] \"docs\"                  \"foldableCodeBlcok.lua\" \"images\"               \n[10] \"index.qmd\"             \"intro\"                 \"Intro R.Rproj\"        \n[13] \"LICENSE\"               \"other\"                 \"Plot\"                 \n[16] \"Publish\"               \"README.md\"             \"Rlogo.png\"            \n[19] \"sidebar.png\"           \"site_libs\"             \"styles.css\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-file-info",
    "href": "intro/1 basic R.html#get-file-info",
    "title": "Basic R",
    "section": "2.4 Get file info",
    "text": "2.4 Get file info\nThe file.info() function returns a data frame with information about the specified file, such as its size, creation time, and modification time.\n\n\nCode\nfile.info(\"6 data analytic in R book.qmd\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#create-folder",
    "href": "intro/1 basic R.html#create-folder",
    "title": "Basic R",
    "section": "2.5 Create folder",
    "text": "2.5 Create folder\nThe dir.create() function creates a new directory (folder).\n\n\nCode\ndir.create('testing_folder')",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#delete-folderfile",
    "href": "intro/1 basic R.html#delete-folderfile",
    "title": "Basic R",
    "section": "2.6 Delete folder/file",
    "text": "2.6 Delete folder/file\nThe file.remove() function can be used to delete files. To delete an empty directory, you can also use unlink().\n\n\nCode\nfile.remove('testing_folder')",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#copy-file",
    "href": "intro/1 basic R.html#copy-file",
    "title": "Basic R",
    "section": "2.7 Copy file",
    "text": "2.7 Copy file\nThe file_copy() function from the fs package copies files from one location to another.\n\n\nCode\nlibrary(fs)\nfile_copy('test.csv', 'test2.csv')",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#download-file-from-internet",
    "href": "intro/1 basic R.html#download-file-from-internet",
    "title": "Basic R",
    "section": "2.9 download file from internet",
    "text": "2.9 download file from internet\n\n\nCode\nurl=\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-11/hotels.csv\"\n\ndownload.file(url = url, destfile = \"hotels.csv\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#download-table-from-internet",
    "href": "intro/1 basic R.html#download-table-from-internet",
    "title": "Basic R",
    "section": "2.10 download table from internet",
    "text": "2.10 download table from internet\n\n\nCode\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(janitor)\n\nnba_wiki_url='https://en.wikipedia.org/wiki/List_of_NBA_champions'\n  \nnba_wiki_data001=nba_wiki_url %&gt;% read_html() %&gt;% html_table()\n\nnba_wiki_data002=nba_wiki_data001[[2]] %&gt;% clean_names()\n\nnba_wiki_data003=nba_wiki_data002 %&gt;%filter(!row_number() %in% c(1, 5)) %&gt;% mutate(year=str_sub(year, 1, 4))\n\ntail(nba_wiki_data003)\n\n\n# A tibble: 6 × 8\n  year  western_champion      coach result eastern_champion coach_2 finals_mvp_a\n  &lt;chr&gt; &lt;chr&gt;                 &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;   &lt;chr&gt;       \n1 2020  Los Angeles Lakers (… Fran… 4–2    Miami Heat (5) … Erik S… LeBron James\n2 2021  Phoenix Suns (2) (3,… Mont… 2–4    Milwaukee Bucks… Mike B… Giannis Ant…\n3 2022  Golden State Warrior… Stev… 4–2    Boston Celtics … Ime Ud… Stephen Cur…\n4 2023  Denver Nuggets (1) (… Mich… 4–1    Miami Heat (8) … Erik S… Nikola Jokić\n5 2024  Dallas Mavericks (5)… Jaso… 1–4    Boston Celtics … Joe Ma… Jaylen Brown\n6 2025  Oklahoma City Thunde… Mark… 3–3    Indiana Pacers … Rick C… TBD         \n# ℹ 1 more variable:\n#   mw_parser_output_tooltip_dotted_border_bottom_1px_dotted_cursor_help_ref &lt;chr&gt;",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#for-loop",
    "href": "intro/1 basic R.html#for-loop",
    "title": "Basic R",
    "section": "5.1 for Loop",
    "text": "5.1 for Loop\nA for loop iterates over a sequence of values.\n\n\nCode\nfor (x in 1:4) {\n  print(x)\n}\n\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n\n\nbreak exits the loop prematurely.\n\n\nCode\nfor (x in 1:6) {\n  if (x == 4) {break}\n  print(x)\n}\n\n\n[1] 1\n[1] 2\n[1] 3\n\n\nnext skips the current iteration and proceeds to the next one.\n\n\nCode\nfor (x in 1:6) {\n  if (x == 4) {next}\n  print(x)\n}\n\n\n[1] 1\n[1] 2\n[1] 3\n[1] 5\n[1] 6",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#error-handling-on-for-loopprint-out-error",
    "href": "intro/1 basic R.html#error-handling-on-for-loopprint-out-error",
    "title": "Basic R",
    "section": "5.3 Error handling on for Loop:print out error",
    "text": "5.3 Error handling on for Loop:print out error\n\n\nCode\nstuff &lt;- list(12, 9, 2, \"cat\", 25, 10, \"bird\")\n#stuff\n\n\n\n\nCode\nloop_num=0\n\nfor (i in 1:6) {\n  loop_num=loop_num+1\n  tryCatch (print(1+i),\n           \n           error = function(e){\n           message(paste(\"An error occurred for loop num\", loop_num,\":\\n\"), e)\n             \n         })\n}\n\n\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n[1] 6\n[1] 7",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#while-loop",
    "href": "intro/1 basic R.html#while-loop",
    "title": "Basic R",
    "section": "5.4 while Loop",
    "text": "5.4 while Loop\nA while loop continues as long as a condition is true.\n\n\nCode\ni &lt;- 1\nwhile (i &lt; 6) {\n  print(i)\n  i &lt;- i + 1\n}\n\n\n[1] 1\n[1] 2\n[1] 3\n[1] 4\n[1] 5",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#error-handling-on-whie-loop-try-when-the-error-gone",
    "href": "intro/1 basic R.html#error-handling-on-whie-loop-try-when-the-error-gone",
    "title": "Basic R",
    "section": "5.5 Error handling on whie Loop: try when the error gone",
    "text": "5.5 Error handling on whie Loop: try when the error gone\n\n\nCode\ni=0\na=0\nwhile (i &lt; 4) {\n  a=a+1\n  print(i)\n  tryCatch({\n  asdfgaergae5gh5hae5h\n    i=i+1\n  },error = function(msg){print('eeeeeeee')\n    i=i-1\n    print(paste0(\"new i : \",i))\n   \n    })\n   if(a&gt;10){break}\n  }\n\n\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#without-arguments",
    "href": "intro/1 basic R.html#without-arguments",
    "title": "Basic R",
    "section": "6.1 Without Arguments",
    "text": "6.1 Without Arguments\nThis defines and calls a simple function that takes no arguments.\n\n\nCode\nmy_function &lt;- function() { \n  print(\"Hello World!\")\n}\n\nmy_function()\n\n\n[1] \"Hello World!\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#with-arguments",
    "href": "intro/1 basic R.html#with-arguments",
    "title": "Basic R",
    "section": "6.2 With Arguments",
    "text": "6.2 With Arguments\nThis function takes one argument, x, and returns its value plus 10.\n\n\nCode\nadding_ten &lt;- function(x) { \n  a=x+10\n  return(a)\n}\n\nadding_ten(5)\n\n\n[1] 15",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#with-default-arguments",
    "href": "intro/1 basic R.html#with-default-arguments",
    "title": "Basic R",
    "section": "6.3 With default Arguments",
    "text": "6.3 With default Arguments\nThis function has a default value for x. If the function is called without an argument for x, the default value of 10 is used.\n\n\nCode\nadding_ten &lt;- function(x=10) { \n  a=x+10\n  return(a)\n}\n\nadding_ten()\n\n\n[1] 20",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-function-arguments",
    "href": "intro/1 basic R.html#check-function-arguments",
    "title": "Basic R",
    "section": "6.4 Check function Arguments",
    "text": "6.4 Check function Arguments\nThe args() function displays the arguments of a function.\n\n\nCode\nargs(adding_ten)\n\n\nfunction (x = 10) \nNULL",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#warning-in-function",
    "href": "intro/1 basic R.html#warning-in-function",
    "title": "Basic R",
    "section": "6.5 Warning in function",
    "text": "6.5 Warning in function\nThe warning() function issues a warning message without stopping the execution of the function.\n\n\nCode\nadding_ten &lt;- function(x=10) { \n  a=x+10\n  if(a&gt;50){\n    warning('its better than 50')\n  }\n  return(a)\n}\n\nadding_ten(100)\n\n\n[1] 110",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#stop-in-function",
    "href": "intro/1 basic R.html#stop-in-function",
    "title": "Basic R",
    "section": "6.6 Stop in function",
    "text": "6.6 Stop in function\nThe stop() function halts the execution of the function and prints an error message.\n\n\nCode\nadding_ten &lt;- function(x=10) { \n  a=x+10\n  if(a&gt;50){\n    stop('its better than 50')\n  }\n  return(a)\n}",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#use-try-to-by-pass-error",
    "href": "intro/1 basic R.html#use-try-to-by-pass-error",
    "title": "Basic R",
    "section": "6.7 use try to by pass error",
    "text": "6.7 use try to by pass error\n\n\nCode\ntry(adding_ten(100))\n\n\n[1] 110\n\n\nCode\n5+10\n\n\n[1] 15",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-r-version",
    "href": "intro/1 basic R.html#check-r-version",
    "title": "Basic R",
    "section": "7.1 check R version",
    "text": "7.1 check R version\n\n\nCode\nversion\n\n\n               _                           \nplatform       aarch64-apple-darwin20      \narch           aarch64                     \nos             darwin20                    \nsystem         aarch64, darwin20           \nstatus                                     \nmajor          4                           \nminor          4.1                         \nyear           2024                        \nmonth          06                          \nday            14                          \nsvn rev        86737                       \nlanguage       R                           \nversion.string R version 4.4.1 (2024-06-14)\nnickname       Race for Your Life",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#install-r-package",
    "href": "intro/1 basic R.html#install-r-package",
    "title": "Basic R",
    "section": "8.1 Install R package",
    "text": "8.1 Install R package\n\n8.1.1 Install from CRAN\ninstall.packages() is the standard way to install packages from CRAN.\n\n\nCode\ninstall.packages('dplyr',repos = \"http://cran.us.r-project.org\")\n\n\n\n\n8.1.2 Install old version from CRAN\nThe remotes package allows you to install specific versions of packages.\n\n\nCode\nrequire(remotes)\ninstall_version(\"plotly\", version = \"4.10.2\")\n\n\n\n\n8.1.3 Install from Github\nThe pak package can install packages directly from GitHub repositories.\n\n\nCode\npak::pkg_install(\"tidymodels/learntidymodels\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-one-package-version",
    "href": "intro/1 basic R.html#check-one-package-version",
    "title": "Basic R",
    "section": "8.2 Check one package version",
    "text": "8.2 Check one package version\npackageVersion() returns the version of the specified package.\n\n\nCode\npackageVersion(\"tidyverse\")\n\n\n[1] '2.0.0'",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-pacakge-relationship",
    "href": "intro/1 basic R.html#check-pacakge-relationship",
    "title": "Basic R",
    "section": "8.3 check pacakge relationship",
    "text": "8.3 check pacakge relationship\n\n\nCode\npak::pkg_deps_explain(\"tibble\", \"rlang\")\n\n\ntibble -&gt; lifecycle -&gt; rlang\ntibble -&gt; pillar -&gt; lifecycle -&gt; rlang\ntibble -&gt; pillar -&gt; rlang\ntibble -&gt; pillar -&gt; vctrs -&gt; lifecycle -&gt; rlang\ntibble -&gt; pillar -&gt; vctrs -&gt; rlang\ntibble -&gt; rlang\ntibble -&gt; vctrs -&gt; lifecycle -&gt; rlang\ntibble -&gt; vctrs -&gt; rlang",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-pacakge-dependencies",
    "href": "intro/1 basic R.html#check-pacakge-dependencies",
    "title": "Basic R",
    "section": "8.4 check pacakge dependencies",
    "text": "8.4 check pacakge dependencies\n\n\nCode\npak::pkg_deps_tree(\"tibble\")\n\n\ntibble 3.3.0 ✨🔧 ⬇ (692.99 kB)\n├─cli 3.6.5 ✨🔧\n├─lifecycle 1.0.4 ✨\n│ ├─cli\n│ ├─glue 1.8.0 ✨🔧\n│ └─rlang 1.1.6 ✨🔧\n├─magrittr 2.0.3 ✨🔧\n├─pillar 1.10.2 ✨\n│ ├─cli\n│ ├─glue\n│ ├─lifecycle\n│ ├─rlang\n│ ├─utf8 1.2.6 ✨🔧 ⬇ (209.74 kB)\n│ └─vctrs 0.6.5 ✨🔧\n│   ├─cli\n│   ├─glue\n│   ├─lifecycle\n│   └─rlang\n├─pkgconfig 2.0.3 ✨\n├─rlang\n└─vctrs\n\nKey:  ✨ new |  ⬇ download | 🔧 compile",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-current-loaded-package",
    "href": "intro/1 basic R.html#check-current-loaded-package",
    "title": "Basic R",
    "section": "8.6 check current loaded package",
    "text": "8.6 check current loaded package\n\n\nCode\nlibrary(dplyr)\ninstalled_pacakge = as.data.frame(installed.packages()[,c(1,3:4)])\ninstalled_pacakge = installed_pacakge[is.na(installed_pacakge$Priority),1:2,drop=FALSE]\ninstalled_pacakge |&gt; filter(Package %in% (.packages()))|&gt; gt() |&gt; opt_interactive()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-all-package-version",
    "href": "intro/1 basic R.html#check-all-package-version",
    "title": "Basic R",
    "section": "8.7 check all package version",
    "text": "8.7 check all package version\n\n\nCode\nip = as.data.frame(installed.packages()[,c(1,3:4)])\nip = ip[is.na(ip$Priority),1:2,drop=FALSE]\nhead(ip)\n\n\n                Package  Version\nabind             abind    1.4-8\nannotater     annotater    0.2.3\nanytime         anytime    0.3.9\narrow             arrow 17.0.0.1\nAsioHeaders AsioHeaders 1.22.1-2\naskpass         askpass    1.2.1",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-package-install-loaciton",
    "href": "intro/1 basic R.html#check-package-install-loaciton",
    "title": "Basic R",
    "section": "8.10 check package install loaciton",
    "text": "8.10 check package install loaciton\n\n\nCode\n.libPaths()\n\n\n[1] \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#uninstall-pacakge",
    "href": "intro/1 basic R.html#uninstall-pacakge",
    "title": "Basic R",
    "section": "8.11 uninstall pacakge",
    "text": "8.11 uninstall pacakge\n\n\nCode\nremove.packages('xxxxx')",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#centrality-mean-median-mode",
    "href": "intro/1 basic R.html#centrality-mean-median-mode",
    "title": "Basic R",
    "section": "11.1 Centrality: Mean, Median, Mode",
    "text": "11.1 Centrality: Mean, Median, Mode",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#spread-variance-standard-deviation-and-the-interquartile-range",
    "href": "intro/1 basic R.html#spread-variance-standard-deviation-and-the-interquartile-range",
    "title": "Basic R",
    "section": "11.2 Spread: Variance, Standard Deviation, and the Interquartile Range",
    "text": "11.2 Spread: Variance, Standard Deviation, and the Interquartile Range",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#covariance-and-correlation",
    "href": "intro/1 basic R.html#covariance-and-correlation",
    "title": "Basic R",
    "section": "11.3 Covariance and Correlation",
    "text": "11.3 Covariance and Correlation\nWhen analyzing data, it’s often useful to be able to investigate the rela- tionship between two numeric variables to assess trends. For example, you might expect height and weight observations to have a noticeable positive relationship—taller people tend to weigh more. Conversely, you might imag- ine that handspan and length of hair would have less of an association. One of the simplest and most common ways such associations are quantified and compared is through the idea of correlation, for which you need the covariance. The covariance expresses how much two numeric variables “change together” and the nature of that relationship,",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#correlationpearsons-product-moment-correlation-coefficient",
    "href": "intro/1 basic R.html#correlationpearsons-product-moment-correlation-coefficient",
    "title": "Basic R",
    "section": "11.4 Correlation,Pearson’s product-moment correlation coefficient",
    "text": "11.4 Correlation,Pearson’s product-moment correlation coefficient\nPearson’s sample correlation coef- ficient ρxy is computed by dividing the sample covariance by the product of the standard deviation of each data set\n\nSome Correlation Example:\n\n\n\nCode\nsessionInfo()\n\n\nsessionInfo()\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS 15.3.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Asia/Bangkok\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] gt_0.11.1       janitor_2.2.0   rvest_1.0.4     lubridate_1.9.4\n [5] forcats_1.0.0   stringr_1.5.1   dplyr_1.1.4     purrr_1.0.2    \n [9] readr_2.1.5     tidyr_1.3.1     tibble_3.2.1    ggplot2_3.5.1  \n[13] tidyverse_2.0.0\n\nloaded via a namespace (and not attached):\n [1] sass_0.4.9        utf8_1.2.4        generics_0.1.3    xml2_1.3.6       \n [5] stringi_1.8.4     hms_1.1.3         digest_0.6.37     magrittr_2.0.3   \n [9] evaluate_1.0.1    grid_4.4.1        timechange_0.3.0  fastmap_1.2.0    \n[13] jsonlite_1.8.9    processx_3.8.4    chromote_0.4.0    ps_1.8.1         \n[17] promises_1.3.0    httr_1.4.7        crosstalk_1.2.1   scales_1.3.0     \n[21] cli_3.6.4         rlang_1.1.5       pak_0.8.0         munsell_0.5.1    \n[25] reactR_0.6.1      withr_3.0.2       yaml_2.3.10       tools_4.4.1      \n[29] tzdb_0.4.0        colorspace_2.1-1  curl_6.2.0        vctrs_0.6.5      \n[33] R6_2.6.1          lifecycle_1.0.4   reactable_0.4.4   snakecase_0.11.1 \n[37] htmlwidgets_1.6.4 callr_3.7.6       pkgconfig_2.0.3   pillar_1.10.1    \n[41] later_1.3.2       gtable_0.3.6      glue_1.8.0        Rcpp_1.0.13-1    \n[45] xfun_0.48         tidyselect_1.2.1  rstudioapi_0.17.1 knitr_1.48       \n[49] htmltools_0.5.8.1 websocket_1.4.2   rmarkdown_2.28    compiler_4.4.1",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "Publish/4 email/1 email.html",
    "href": "Publish/4 email/1 email.html",
    "title": "Email",
    "section": "",
    "text": "Code\nlibrary(blastula)\nlibrary(keyring)\n\n\n\n\n\n\n\n\nCode\ncreate_smtp_creds_key(\n  id = \"gmail001_creds\",\n  provider = \"gmail\",\n  user = \"verykoala@gmail.com\",\n  overwrite = TRUE\n  )\n\n\n\n\n\n\n\nCode\n# create_smtp_creds_key(\n#   id = \"outlook001_creds\",\n#   provider = \"outlook\",\n#   user = \"jcpartner@outlook.com\",\n#   overwrite = TRUE\n#   )\n\ncreate_smtp_creds_file(file = \"ggnot_throwaway_creds\",\n                       user = \"jcpartner@outlook.com\",\n                       provider = \"outlook\")\n\n\n\n\nCode\n#delete_credential_key(\"gmail001_creds\")\n\n\n\n\nCode\nview_credential_keys()\n\n\n\n\n\n\n\n\nCode\nlibrary(blastula)\nmsg=compose_email(\n  body = md(\n  \"Hi there 👋,\n  \n  This is an email to let you now thatrunning job **finished**.\n\n  Best,&lt;br&gt;\n  Tony\"\n  )\n)\n\nmsg\n\n\n\n\n\n\n\n\n\nCode\nmsg %&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nlibrary(Microsoft365R)\noutl &lt;- get_personal_outlook()\n\n\n\n\nCode\n# list the most recent emails in your Inbox\n#outl$list_emails()\n\n\n\n\nCode\nem &lt;- outl$create_email(msg, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\n\n\n\n\nCode\nem$send()\n\n\n\n\n\n\n\n\nCode\nemail_obj=render_email('.quarto_email.Rmd')\n\n\n\n\nCode\nemail_obj\n\n\n\n\n\n\nCode\nemail_obj%&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nem &lt;- outl$create_email(email_obj, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\nem$send()",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/4 email/1 email.html#create-smtp-credentials",
    "href": "Publish/4 email/1 email.html#create-smtp-credentials",
    "title": "Email",
    "section": "",
    "text": "Code\ncreate_smtp_creds_key(\n  id = \"gmail001_creds\",\n  provider = \"gmail\",\n  user = \"verykoala@gmail.com\",\n  overwrite = TRUE\n  )\n\n\n\n\n\n\n\nCode\n# create_smtp_creds_key(\n#   id = \"outlook001_creds\",\n#   provider = \"outlook\",\n#   user = \"jcpartner@outlook.com\",\n#   overwrite = TRUE\n#   )\n\ncreate_smtp_creds_file(file = \"ggnot_throwaway_creds\",\n                       user = \"jcpartner@outlook.com\",\n                       provider = \"outlook\")\n\n\n\n\nCode\n#delete_credential_key(\"gmail001_creds\")\n\n\n\n\nCode\nview_credential_keys()",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/4 email/1 email.html#email-content",
    "href": "Publish/4 email/1 email.html#email-content",
    "title": "Email",
    "section": "",
    "text": "Code\nlibrary(blastula)\nmsg=compose_email(\n  body = md(\n  \"Hi there 👋,\n  \n  This is an email to let you now thatrunning job **finished**.\n\n  Best,&lt;br&gt;\n  Tony\"\n  )\n)\n\nmsg",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/4 email/1 email.html#send-email",
    "href": "Publish/4 email/1 email.html#send-email",
    "title": "Email",
    "section": "",
    "text": "Code\nmsg %&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nlibrary(Microsoft365R)\noutl &lt;- get_personal_outlook()\n\n\n\n\nCode\n# list the most recent emails in your Inbox\n#outl$list_emails()\n\n\n\n\nCode\nem &lt;- outl$create_email(msg, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\n\n\n\n\nCode\nem$send()",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/4 email/1 email.html#send-email-with-quarto-content",
    "href": "Publish/4 email/1 email.html#send-email-with-quarto-content",
    "title": "Email",
    "section": "",
    "text": "Code\nemail_obj=render_email('.quarto_email.Rmd')\n\n\n\n\nCode\nemail_obj\n\n\n\n\n\n\nCode\nemail_obj%&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nem &lt;- outl$create_email(email_obj, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\nem$send()",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/2 quarto/6 quarto parameters.html",
    "href": "Publish/2 quarto/6 quarto parameters.html",
    "title": "quarto parameters",
    "section": "",
    "text": "Code\nlibrary(quarto)\nquarto_render(\"_parameters in R.qmd\"\n,output_file='R.html'\n,execute_params = list(name='new me',key=9999))",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto parameters"
    ]
  },
  {
    "objectID": "Publish/2 quarto/6 quarto parameters.html#render-qmd-file-with-parameters-input",
    "href": "Publish/2 quarto/6 quarto parameters.html#render-qmd-file-with-parameters-input",
    "title": "quarto parameters",
    "section": "",
    "text": "Code\nlibrary(quarto)\nquarto_render(\"_parameters in R.qmd\"\n,output_file='R.html'\n,execute_params = list(name='new me',key=9999))",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto parameters"
    ]
  },
  {
    "objectID": "Publish/2 quarto/2 quarto blog.html",
    "href": "Publish/2 quarto/2 quarto blog.html",
    "title": "quarto blog",
    "section": "",
    "text": "Code\n---\ntitle: \"title\"\n\nauthor: \"name\"\ndate: \"2024-05-03\"\ncategories: [R,quarto]\nexecute:\n  warning: false\n  error: false\n  eval: false\n\nformat:\n  html:\n    toc: true\n    toc-location: left\n    code-fold: show\n    code-tools: true\n    number-sections: true\n    code-block-bg: true\n    code-block-border-left: \"#31BAE9\"\n    \n---\n\n\n\n\n\n\n\nCode\n---\ndraft: true  \n  \n---\n\n\n\n\n\n\n\nCode\nproject:\n  type: website\n\nwebsite:\n  title: \"tidystep\"\n  site-url: https://tidystep.netlify.app/\n  description: \"A blog for data stuff\"\n  favicon: \"profile3.png\"\n  google-analytics: \"G-2EQK8RFKFX\"\n  navbar:\n    right:\n      - about.qmd\n      - icon: github\n        href: https://github.com/TonyFly3000\n      - icon: twitter\n        href: https://twitter.com/TonyJCD\n      - icon: rss\n        href: index.xml\n\n  page-footer:\n    right: \"This blog is built with ❤️ and [Quarto](https://quarto.org/).\"\n\nformat:\n  html:\n    theme: \n      light: flatly\n      dark: darkly\n    css: styles.css\n    grid:\n      body-width: 1100px\n      margin-width: 300px\n      gutter-width: 1.5rem\n\neditor: visual\nexecute:\n  freeze: true\n\n\n\n\n\n\n\nCode\n---\ntitle: \"微步数据\"\nlisting:\n  page-size: 8\n  contents: posts\n  sort: \"date desc\"\n  type: default\n  categories: true\n  sort-ui: true\n  filter-ui: false\n  fields: [image, date, title, author,categories]\n  feed: true\npage-layout: full\ntitle-block-banner: true\n---\n\n\n\n\n\n\n\nCode\ndraft:true\n\n\n\n\n\n\n\n\n\nCode\nremotes::install_github(\"nikitoshina/staticryptR\")\n\n\n\n\n\n\n\nCode\nbrew install node\n\n\n\n\n\n\n\nCode\nnpm install -g staticrypt\n\n\n\n\n\n\n\nCode\n# _quarto.yml\nproject:\n  output-dir: \"./_output\"\n  post-render: encrypt.r\n\n\n\n\n\npassword protect all website\n\n\nCode\n# encrypt.r\nstaticryptR::staticryptr(\n  files = \"_output/\",\n  directory = \".\",\n  password = \"123123\",\n  short = TRUE,\n  recursive = TRUE,\n  template_color_primary = \"#6667AB\",\n  template_color_secondary = \"#f9f9f3\",\n  template_title = \"Your Document Title\",\n  template_instructions = \"Enter the password or contact example@email.com\",\n  template_button = \"Access\"\n)\n\n\npassword protect one posts\n\n\nCode\nstaticryptR::staticryptr(\n  files = c(\"posts/youtube_yt-dlp/\"),\n  directory = c(\"docs/posts/\"),\n  password = \"123123\",\n  short = TRUE,\n  recursive = TRUE,\n  template_color_primary = \"#6667AB\",\n  template_color_secondary = \"#f9f9f3\",\n  template_title = \"Your Document Title\",\n  template_instructions = \"Enter the password or contact TonyJCing@outlook.com\",\n  template_button = \"Access\",\n  print_cmd = TRUE\n)",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/2 quarto/2 quarto blog.html#blog-post",
    "href": "Publish/2 quarto/2 quarto blog.html#blog-post",
    "title": "quarto blog",
    "section": "",
    "text": "Code\n---\ntitle: \"title\"\n\nauthor: \"name\"\ndate: \"2024-05-03\"\ncategories: [R,quarto]\nexecute:\n  warning: false\n  error: false\n  eval: false\n\nformat:\n  html:\n    toc: true\n    toc-location: left\n    code-fold: show\n    code-tools: true\n    number-sections: true\n    code-block-bg: true\n    code-block-border-left: \"#31BAE9\"\n    \n---",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/2 quarto/2 quarto blog.html#hide-post-from-main-page",
    "href": "Publish/2 quarto/2 quarto blog.html#hide-post-from-main-page",
    "title": "quarto blog",
    "section": "",
    "text": "Code\n---\ndraft: true  \n  \n---",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/2 quarto/2 quarto blog.html#quarto.yml",
    "href": "Publish/2 quarto/2 quarto blog.html#quarto.yml",
    "title": "quarto blog",
    "section": "",
    "text": "Code\nproject:\n  type: website\n\nwebsite:\n  title: \"tidystep\"\n  site-url: https://tidystep.netlify.app/\n  description: \"A blog for data stuff\"\n  favicon: \"profile3.png\"\n  google-analytics: \"G-2EQK8RFKFX\"\n  navbar:\n    right:\n      - about.qmd\n      - icon: github\n        href: https://github.com/TonyFly3000\n      - icon: twitter\n        href: https://twitter.com/TonyJCD\n      - icon: rss\n        href: index.xml\n\n  page-footer:\n    right: \"This blog is built with ❤️ and [Quarto](https://quarto.org/).\"\n\nformat:\n  html:\n    theme: \n      light: flatly\n      dark: darkly\n    css: styles.css\n    grid:\n      body-width: 1100px\n      margin-width: 300px\n      gutter-width: 1.5rem\n\neditor: visual\nexecute:\n  freeze: true",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/2 quarto/2 quarto blog.html#index.qmd",
    "href": "Publish/2 quarto/2 quarto blog.html#index.qmd",
    "title": "quarto blog",
    "section": "",
    "text": "Code\n---\ntitle: \"微步数据\"\nlisting:\n  page-size: 8\n  contents: posts\n  sort: \"date desc\"\n  type: default\n  categories: true\n  sort-ui: true\n  filter-ui: false\n  fields: [image, date, title, author,categories]\n  feed: true\npage-layout: full\ntitle-block-banner: true\n---",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/2 quarto/2 quarto blog.html#draft-postnot-include-in-the-main-page",
    "href": "Publish/2 quarto/2 quarto blog.html#draft-postnot-include-in-the-main-page",
    "title": "quarto blog",
    "section": "",
    "text": "Code\ndraft:true",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/2 quarto/3 quarto website.html",
    "href": "Publish/2 quarto/3 quarto website.html",
    "title": "quarto website",
    "section": "",
    "text": "you need to have quarto pub account https://quartopub.com/\n\n\nCode\nquarto publish quarto-pub\n\n\n\n\n\n\n\n\n\n_quarto.yml\n\n#| eval: false\nproject:\n  type: website\n  output-dir: docs\n\n\n\n\ntells GitHub Pages not to do additional processing of your published site using Jekyll (the GitHub default site generation tool):\n\n\n\n\n\n\n\nMac/Linux\n\n\nTerminal\n\ntouch .nojekyll\n\n\n\nWindows\n\n\nTerminal\n\ncopy NUL .nojekyll\n\n\n\n\n\n\n\n\n\n\n\n\nThe github site is created: https://your_github_name.github.io/repository_name/\n\n\n\nIn mac using {shift+command+.} to show hidden .gitignore file\nfor example,add *.parquet in .gitignore file to ignore all parquet file\n\n\n\nCode\n\n.gitignore\n\n.Rproj.user\n.Rhistory\n.RData\n.Ruserdata\n\n/.quarto/\n\n*.parquet",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto website"
    ]
  },
  {
    "objectID": "Publish/2 quarto/3 quarto website.html#publish-quarto-website-into-quarto-hub",
    "href": "Publish/2 quarto/3 quarto website.html#publish-quarto-website-into-quarto-hub",
    "title": "quarto website",
    "section": "",
    "text": "you need to have quarto pub account https://quartopub.com/\n\n\nCode\nquarto publish quarto-pub",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto website"
    ]
  },
  {
    "objectID": "Publish/2 quarto/3 quarto website.html#publish-quarto-website-into-github-page",
    "href": "Publish/2 quarto/3 quarto website.html#publish-quarto-website-into-github-page",
    "title": "quarto website",
    "section": "",
    "text": "_quarto.yml\n\n#| eval: false\nproject:\n  type: website\n  output-dir: docs\n\n\n\n\ntells GitHub Pages not to do additional processing of your published site using Jekyll (the GitHub default site generation tool):\n\n\n\n\n\n\n\nMac/Linux\n\n\nTerminal\n\ntouch .nojekyll\n\n\n\nWindows\n\n\nTerminal\n\ncopy NUL .nojekyll\n\n\n\n\n\n\n\n\n\n\n\n\nThe github site is created: https://your_github_name.github.io/repository_name/\n\n\n\nIn mac using {shift+command+.} to show hidden .gitignore file\nfor example,add *.parquet in .gitignore file to ignore all parquet file\n\n\n\nCode\n\n.gitignore\n\n.Rproj.user\n.Rhistory\n.RData\n.Ruserdata\n\n/.quarto/\n\n*.parquet",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto website"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/2 shiny photo editor.html",
    "href": "Publish/1 Shiny/2 shiny photo editor.html",
    "title": "Shiny in R:photo editor",
    "section": "",
    "text": "1 Shiny app:https://tduan.shinyapps.io/photo_editor/\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in R:photo editor"
    ]
  },
  {
    "objectID": "Publish/3 dashboard/1 dashboard.html",
    "href": "Publish/3 dashboard/1 dashboard.html",
    "title": "Dashboard",
    "section": "",
    "text": "quarto dashboard\n\n\n\nCode\n\n_dashboard_r.qmd\n\n---\ntitle: \"First quarto dashboard\"\nformat: dashboard\n---\n\n```{r}\na=1\na\n```\n\n\n\n\n\nReference:\nhttps://www.youtube.com/watch?v=HW7QbqI4fH0\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "3 dashboard",
      "Dashboard"
    ]
  },
  {
    "objectID": "other/1 google analytics/1 google analytics.html",
    "href": "other/1 google analytics/1 google analytics.html",
    "title": "google analytic in R",
    "section": "",
    "text": "1 package\n\n\nCode\n# Libraries\nlibrary(googleAnalyticsR)\nlibrary(gargle)\nlibrary(tidyverse)\nlibrary(plotly)\nlibrary(lubridate)\n\n\n\n\n2 API\n\n\nCode\n# Access\nga_auth(email=\"verykoala@gmail.com\")\nga_account_list(\"ga4\")\n\n\n# A tibble: 4 × 4\n  account_name accountId property_name           propertyId\n  &lt;chr&gt;        &lt;chr&gt;     &lt;chr&gt;                   &lt;chr&gt;     \n1 verykoala    30370450  verykoala - GA4         431072878 \n2 verykoala    30370450  drinking                431975107 \n3 Demo Account 54516992  GA4 - Flood-It!         153293282 \n4 Demo Account 54516992  GA4 - Google Merch Shop 213025502 \n\n\n\n\n3 download data\n\n\nCode\nmy_property_id &lt;- 431975107\nfrom_date &lt;- \"2023-01-01\"\nto_date &lt;- \"2024-12-31\"\n           \noverall &lt;- ga_data(\n  my_property_id,\n  metrics = c(\"activeUsers\", \"newUsers\",\"sessions\", \"screenPageViews\"),\n  date_range = c(from_date, to_date)\n  )\n\n\n\n\nCode\noverall\n\n\n# A tibble: 1 × 4\n  activeUsers newUsers sessions screenPageViews\n        &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;           &lt;dbl&gt;\n1          92       99      472            2743\n\n\n\n\n4 image at the back into plotly\n\n\nCode\n# By Country\ncountry &lt;- ga_data(\n  my_property_id,\n  dimensions = c(\"country\"),\n  metrics = c(\"activeUsers\", \"newUsers\",\"sessions\", \"screenPageViews\"),\n  date_range = c(from_date, to_date)\n)\n\ncountry\n\n\n# A tibble: 18 × 5\n   country        activeUsers newUsers sessions screenPageViews\n   &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;           &lt;dbl&gt;\n 1 Hong Kong               32       23      136             631\n 2 China                   28       31      279            1814\n 3 United States           15       12       20              95\n 4 Thailand                 6        2       14              87\n 5 Ireland                  5        5        5               5\n 6 Japan                    5        4        5              13\n 7 Macao                    4        4       20              58\n 8 Sweden                   4        4        4               4\n 9 United Kingdom           3        3        3               3\n10 (not set)                2        2        2               2\n11 Malaysia                 2        2        4               9\n12 Singapore                2        0        4              11\n13 South Korea              2        2        3               2\n14 Argentina                1        1        1               1\n15 Australia                1        1        1               1\n16 Canada                   1        1        1               3\n17 Iran                     1        1        1               3\n18 Taiwan                   1        1        1               1\n\n\n\n\n5 add image at the back into plotly\n\n\nCode\nfig &lt;- plot_ly(data=country,x = ~sessions,y=~country,text=~sessions, type = \"bar\",orientation = 'h')%&gt;% \n  layout(title = 'Vistors',yaxis = list(title='Regions',categoryorder = \"total ascending\"),\n         images = list(  \n      list(  \n        source = base64enc::dataURI(file = \"images/google_analytics-ar21.webp\")\n        ,xref = \"paper\"\n        ,yref = \"paper\" \n        ,x = 0.9\n        ,y = 0.3\n        ,sizex = 0.3\n        ,sizey = 0.3\n       ,xanchor=\"right\"  \n        ,layer = \"below\"\n      )  \n         \n         )\n)\n\nfig\n\n\n\n\n\n\n\n\nCode\nsample &lt;- ga_data(\n  my_property_id,\n  dimensions = c(\"date\",\"dayOfWeek\"),\n  metrics = c(\"activeUsers\", \"newUsers\",\"sessions\", \"screenPageViews\"),\n  date_range = c(from_date, to_date)\n) %&gt;% \narrange(desc(date)) %&gt;% mutate(weekend_date=floor_date(date, \"week\")+7)\n\nsample\n\n\n# A tibble: 100 × 7\n   date       dayOfWeek activeUsers newUsers sessions screenPageViews\n   &lt;date&gt;     &lt;chr&gt;           &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;           &lt;dbl&gt;\n 1 2024-12-31 2                   2        2        2               2\n 2 2024-12-29 0                   2        0        4              11\n 3 2024-12-27 5                   2        0        5             215\n 4 2024-12-26 4                   2        1        2              23\n 5 2024-12-25 3                   3        1       10              37\n 6 2024-12-22 0                   2        0        3              39\n 7 2024-12-21 6                   2        0        5              20\n 8 2024-12-20 5                   4        2        7              63\n 9 2024-12-19 4                   2        0       11              39\n10 2024-12-18 3                   2        0        7              13\n# ℹ 90 more rows\n# ℹ 1 more variable: weekend_date &lt;date&gt;\n\n\nCode\nsample002=sample %&gt;% group_by(weekend_date) %&gt;% summarise(activeUsers=sum(activeUsers)\n                                                          ,sessions=sum(sessions))\n\n\n\n\nCode\nfig &lt;- plot_ly(data = sample002, x = ~weekend_date, y = ~sessions,mode = 'lines')%&gt;% layout(title = 'Vistors',images = list(  \n      list(  \n        source = base64enc::dataURI(file = \"images/google_analytics-ar21.webp\")\n        ,xref = \"paper\"\n        ,yref = \"paper\" \n        ,x = 0.4\n        ,y = 0.9\n        ,sizex = 0.3\n        ,sizey = 0.3\n       ,xanchor=\"left\"  \n      )  \n    )\n    ) \nfig\n\n\n\n\n\n\n\n\n6 reference:\nhttps://www.listendata.com/2023/09/how-to-use-google-analytics-in-r.html\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "1 google analytics",
      "google analytic in R"
    ]
  },
  {
    "objectID": "other/6 other/2 translation.html",
    "href": "other/6 other/2 translation.html",
    "title": "Translation",
    "section": "",
    "text": "Code\nlibrary(polyglotr)\n\n\n\n1 Translation word\n\n\nCode\nword_translation &lt;- linguee_word_translation(\"fruit\", source_language = \"en\", target_language = \"zh\")\n\nword_translation\n\n\n[1] \"水果\" \"果香\" \"果子\" \"果品\" \"实\"   \"檎\"  \n\n\n\n\n2 translate sentences\n\n\nCode\ngoogle_get_supported_languages()\n\n\n# A tibble: 194 × 2\n   Language  `ISO-639 code`\n   &lt;chr&gt;     &lt;chr&gt;         \n 1 Abkhaz    ab            \n 2 Acehnese  ace           \n 3 Acholi    ach           \n 4 Afrikaans af            \n 5 Albanian  sq            \n 6 Alur      alz           \n 7 Amharic   am            \n 8 Arabic    ar            \n 9 Armenian  hy            \n10 Assamese  as            \n# ℹ 184 more rows\n\n\n\n\nCode\ntexts &lt;- c(\"Hello, how are you?\", \n           \"I love programming!\", \n           \"This is a test.\")\n\nlanguages &lt;- c(\"es\", \"fr\", \"zh-CN\")\n\n\ncreate_translation_table(texts, languages)\n\n\n        original_word                           es                          fr\n1 Hello, how are you?           ¿Hola, cómo estás? Bonjour comment allez-vous?\n2 I love programming! ¡Me encanta la programación!   J'adore la programmation!\n3     This is a test.          Esta es una prueba.           Ceci est un test.\n           zh-CN\n1       你好吗？\n2   我喜欢编程！\n3 这是一个测试。\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "6 other",
      "Translation"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html",
    "href": "intro/3 Statistics.html",
    "title": "Statistics",
    "section": "",
    "text": "1 Statistics\n\n\n\n2 Variable\n\n\n\n3 Categorical variable\n\n\n\n4 Quantitative variable\n\n\n\n5 Variance vs Standard deviation\n\n\n\n6 Reference\nhttps://www.youtube.com/watch?v=MXaJ7sa7q-8\n\n\nCode\nsessionInfo()\n\n\nsessionInfo()\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS 15.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.4.1    fastmap_1.2.0     cli_3.6.4        \n [5] tools_4.4.1       htmltools_0.5.8.1 rstudioapi_0.17.1 yaml_2.3.10      \n [9] rmarkdown_2.28    knitr_1.48        jsonlite_1.8.9    xfun_0.48        \n[13] digest_0.6.37     rlang_1.1.5       evaluate_1.0.1   \n\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/2 probability.html",
    "href": "intro/2 probability.html",
    "title": "Probability",
    "section": "",
    "text": "Probability is the branch of mathematics concerning events and numerical descriptions of how likely they are to occur. The probability of an event is a number between 0 and 1; the larger the probability, the more likely an event is to occur.",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#draw-10-number-from-1-to-10",
    "href": "intro/2 probability.html#draw-10-number-from-1-to-10",
    "title": "Probability",
    "section": "1.1 draw 10 number from 1 to 10",
    "text": "1.1 draw 10 number from 1 to 10\n\n\nCode\na=sample(1:10,10, replace=T) \na\n\n\n [1]  9  7  1  6  8  8  9  8 10  1\n\n\neach number around 10%\n\n\nCode\nas.data.frame(table(a))\n\n\n   a Freq\n1  1    2\n2  6    1\n3  7    1\n4  8    3\n5  9    2\n6 10    1",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#draw-10000-number-from-1-to-10",
    "href": "intro/2 probability.html#draw-10000-number-from-1-to-10",
    "title": "Probability",
    "section": "1.2 draw 10,000 number from 1 to 10",
    "text": "1.2 draw 10,000 number from 1 to 10\n\n\nCode\na=sample(1:10,10000, replace=T) \n\n\neach number around 10%\n\n\nCode\nas.data.frame(table(a))\n\n\n    a Freq\n1   1  986\n2   2 1027\n3   3 1030\n4   4  975\n5   5 1023\n6   6  967\n7   7  943\n8   8  998\n9   9 1052\n10 10  999",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#permutationsorder-dose-matter-2-number-from-4-number",
    "href": "intro/2 probability.html#permutationsorder-dose-matter-2-number-from-4-number",
    "title": "Probability",
    "section": "2.1 Permutations(order dose matter), 2 number from 4 number",
    "text": "2.1 Permutations(order dose matter), 2 number from 4 number\n\n\nCode\nlibrary(gtools)\nall_num=4\nchoose=2\n\nres&lt;- permutations(n= all_num, r = choose, v = c(1:all_num))\nres\n\n\n      [,1] [,2]\n [1,]    1    2\n [2,]    1    3\n [3,]    1    4\n [4,]    2    1\n [5,]    2    3\n [6,]    2    4\n [7,]    3    1\n [8,]    3    2\n [9,]    3    4\n[10,]    4    1\n[11,]    4    2\n[12,]    4    3\n\n\n\n\nCode\nprint (nrow(res))\n\n\n[1] 12\n\n\nall_num!/choose!\n4!/2!\n\n\nCode\n(4*3*2*1)/(2*1)\n\n\n[1] 12\n\n\nor\n\n\nCode\nfactorial(4) / factorial(2)\n\n\n[1] 12",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#combinationsorder-no-matter-2-number-from-4-number",
    "href": "intro/2 probability.html#combinationsorder-no-matter-2-number-from-4-number",
    "title": "Probability",
    "section": "2.2 Combinations(order no matter), 2 number from 4 number",
    "text": "2.2 Combinations(order no matter), 2 number from 4 number\n\n\nCode\nlibrary(gtools)\nall_num=4\nchoose=2\n\nres&lt;- combinations(n= all_num, r = choose, v = c(1:all_num))\nres\n\n\n     [,1] [,2]\n[1,]    1    2\n[2,]    1    3\n[3,]    1    4\n[4,]    2    3\n[5,]    2    4\n[6,]    3    4\n\n\n\n\nCode\nprint (nrow(res))\n\n\n[1] 6\n\n\nall_num!/((all_num-choose)! * choose!\n4!/((4-2)! * 2!)\n\n\nCode\n(4*3*2*1)/((2*1)*(2*1))\n\n\n[1] 6\n\n\nor\n\n\nCode\nfactorial(4) / (factorial(4-2)*factorial(2))\n\n\n[1] 6",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#soluition-1pat-least-onep1-snoringp2-snoringp3-snoringp4-snoring",
    "href": "intro/2 probability.html#soluition-1pat-least-onep1-snoringp2-snoringp3-snoringp4-snoring",
    "title": "Probability",
    "section": "3.1 soluition 1:P(at least one)=P(1 snoring)+P(2 snoring)+P(3 snoring)+P(4 snoring)",
    "text": "3.1 soluition 1:P(at least one)=P(1 snoring)+P(2 snoring)+P(3 snoring)+P(4 snoring)\n\n3.1.1 0 snoring\n\n\nCode\np0=(0.8*0.8*0.8*0.8)\np0\n\n\n[1] 0.4096\n\n\n\n\n3.1.2 1 snoring\n\n\nCode\np1=(0.2*0.8*0.8*0.8)*4\np1\n\n\n[1] 0.4096\n\n\n\n\n3.1.3 2 snoring\nchoose 2 from 4: factorial(4) / (factorial(4-2)*factorial(2))\ntotal 6 Permutations\n\n\nCode\nfactorial(4) / (factorial(4-2)*factorial(2))\n\n\n[1] 6\n\n\n\n\nCode\np2=(0.2*0.2*0.8*0.8)*6\np2\n\n\n[1] 0.1536\n\n\n\n\n3.1.4 3 snoring\nchoose 3 from 4 Combinations(order matter),factorial(4) / (factorial(4-3)*factorial(3))\n4 Combinations:\n\n\nCode\nfactorial(4) / (factorial(4-3)*factorial(3))\n\n\n[1] 4\n\n\n\n\nCode\np3=(0.2*0.2*0.2*0.8)*4\np3\n\n\n[1] 0.0256\n\n\n\n\n3.1.5 4 snoring\n\n\nCode\np4=(0.2*0.2*0.2*0.2)\np4\n\n\n[1] 0.0016\n\n\n\n\n3.1.6 at least one:\n\n\nCode\nP_at_least_one=p1+p2+p3+p4\nP_at_least_one\n\n\n[1] 0.5904",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#solution-2pat-least-one1-pno-one-snoring",
    "href": "intro/2 probability.html#solution-2pat-least-one1-pno-one-snoring",
    "title": "Probability",
    "section": "3.2 solution 2:P(at least one)=1-P(no one snoring)",
    "text": "3.2 solution 2:P(at least one)=1-P(no one snoring)\n\n\nCode\nP_at_least_one2=1-0.8*0.8*0.8*0.8\nP_at_least_one2\n\n\n[1] 0.5904",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-1.what-is-probability-of-choose-4-number-from-4-number-and-0-correctall-wrong.",
    "href": "intro/2 probability.html#question-1.what-is-probability-of-choose-4-number-from-4-number-and-0-correctall-wrong.",
    "title": "Probability",
    "section": "4.1 Question 1.what is probability of choose 4 number from 4 number and 0 correct(all wrong).",
    "text": "4.1 Question 1.what is probability of choose 4 number from 4 number and 0 correct(all wrong).\n\n4.1.1 permutations(order matter)\n4!=432*1=24 combination\n\n\nCode\n4*3*2*1\n\n\n[1] 24\n\n\n\n\n4.1.2 Derangement\n\nor\n\nThere are 9 Derangement(all wrong)\n\n\nCode\ne=2.71828\n#D(4)=(4!+1)/e\n\nD_4=floor((4*3*2*1+1)/e)\nD_4\n\n\n[1] 9\n\n\nSo the all wrong probability of choose 4 number from 4 number is\n\n\nCode\nQ1=(floor((4*3*2*1+1)/e))/(4*3*2*1)\nQ1\n\n\n[1] 0.375",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-2.-what-is-probability-of-choose-4-number-from-4-number-and-only-1-correct",
    "href": "intro/2 probability.html#question-2.-what-is-probability-of-choose-4-number-from-4-number-and-only-1-correct",
    "title": "Probability",
    "section": "4.2 Question 2. what is probability of choose 4 number from 4 number and only 1 correct",
    "text": "4.2 Question 2. what is probability of choose 4 number from 4 number and only 1 correct\n\n4.2.1 permutations(order matter)\n4!=432*1=24 combination\n\n\nCode\n4*3*2*1\n\n\n[1] 24\n\n\n\n\n4.2.2 Derangement\nany of the 4 number can be correct, and remaining 3 number all wrong and it become the D(3) Derangement problem\n\n\nCode\ne=2.71828\n#D(3)=(3!+1)/e\n\nD_3=floor((3*2*1+1)/e)\nD_3\n\n\n[1] 2\n\n\nSo the probability of choose 4 number from 4 number and only 1 correct is\n\n\nCode\nQ2=(4*2)/(4*3*2*1)\nQ2\n\n\n[1] 0.3333333",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-3.-what-is-probability-of-choose-4-number-from-4-number-and-only-2-correct",
    "href": "intro/2 probability.html#question-3.-what-is-probability-of-choose-4-number-from-4-number-and-only-2-correct",
    "title": "Probability",
    "section": "4.3 Question 3. what is probability of choose 4 number from 4 number and only 2 correct",
    "text": "4.3 Question 3. what is probability of choose 4 number from 4 number and only 2 correct\nthe problem is same as choose 2 number from 4 number.total 6 Combinations(order no matter)\n\n\nCode\nfactorial(4) / (factorial(4-2)*factorial(2))\n\n\n[1] 6\n\n\nSo the probability of choose 4 number from 4 number and only 2 correct is\n\n\nCode\nQ3=6/(4*3*2*1)\nQ3\n\n\n[1] 0.25",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-4.what-is-probability-of-choose-4-number-from-4-number-and-only-3-correct",
    "href": "intro/2 probability.html#question-4.what-is-probability-of-choose-4-number-from-4-number-and-only-3-correct",
    "title": "Probability",
    "section": "4.4 Question 4.what is probability of choose 4 number from 4 number and only 3 correct",
    "text": "4.4 Question 4.what is probability of choose 4 number from 4 number and only 3 correct\nIts same as all correct. since 3 correct the last one will be also correct\n\n\nCode\nQ4=1/(4*3*2*1)\nQ4\n\n\n[1] 0.04166667",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-5.what-is-probability-of-choose-4-number-from-4-number-and-4-correctall-correct",
    "href": "intro/2 probability.html#question-5.what-is-probability-of-choose-4-number-from-4-number-and-4-correctall-correct",
    "title": "Probability",
    "section": "4.5 Question 5.what is probability of choose 4 number from 4 number and 4 correct(all correct)",
    "text": "4.5 Question 5.what is probability of choose 4 number from 4 number and 4 correct(all correct)\nIts same as all correct. since 3 correct the last one will be also correct\nSo all event total probability is 1\n\n\nCode\nQ1+Q2+Q3+Q4\n\n\n[1] 1",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#binomial-distribution",
    "href": "intro/2 probability.html#binomial-distribution",
    "title": "Probability",
    "section": "5.1 Binomial Distribution",
    "text": "5.1 Binomial Distribution\nThe binomial distribution models the number of successes in a fixed number of independent trials, each with a binary outcome (success/failure).\n\n5.1.1 Probability Mass Function (PMF)\nIn R, the dbinom function calculates the probability of getting exactly x successes. While this is technically a PMF for a discrete distribution, R uses the d prefix convention for both PDF (continuous) and PMF (discrete).\nProbability of exactly 1 person snoring:\n\n\nCode\nn = 4 # number of trials (people)\np = 0.2 # probability of success (snoring)\n\ndbinom(x = 1, size = n, prob = p)\n\n\n[1] 0.4096\n\n\nProbabilities for 0, 1, 2, 3, or 4 people snoring:\n\n\nCode\ndbinom(x = c(0, 1, 2, 3, 4), size = n, prob = p)\n\n\n[1] 0.4096 0.4096 0.1536 0.0256 0.0016\n\n\n\n\n5.1.2 Cumulative Distribution Function (CDF)\nThe pbinom function calculates the cumulative probability of getting q or fewer successes.\nProbability of 1 or fewer people snoring:\n\n\nCode\npbinom(q = 1, size = n, prob = p, lower.tail = TRUE)\n\n\n[1] 0.8192\n\n\n\n\n5.1.3 Random Number Generation\nThe rbinom function generates random numbers from a binomial distribution.\nGenerate 10,000 random values from this distribution:\n\n\nCode\na = rbinom(10000, size = 4, prob = 0.2)\ntable(a)\n\n\na\n   0    1    2    3    4 \n4043 4120 1587  237   13",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#normal-distributionalso-called-gaussian-distribution",
    "href": "intro/2 probability.html#normal-distributionalso-called-gaussian-distribution",
    "title": "Probability",
    "section": "5.2 Normal Distribution(also called Gaussian distribution)",
    "text": "5.2 Normal Distribution(also called Gaussian distribution)\nX is a random variable following a normal distribution with mean μ and variance σ2\n68% within 1 standard deviation\n95% within 2 standard deviation\n99.7% within 3 standard deviation\n\n5.2.1 Z score and standard Normal Distribution\nstandard Normal Distribution is special Normal Distribution with mean=0 and standard deviation =1\n\nZ table\n\n\n\n5.2.2 Standardization\ntransfer any normal Distribution into standard Normal Distribution\n\nformula:\n\n\n\n5.2.3 R function\n\n\n\n5.2.4 Probability Density Function (pdf)\n\ncomputes the pdf at location 0 of N(0,4),normal distribution with mean 1 and variance 4.\nsd is the standard deviation, which is the square root of the variance.\n\n\nCode\ndnorm(0, mean = 1, sd = 2)\n\n\n[1] 0.1760327\n\n\n\n\n5.2.5 cumulative distribution function(cdf)\n\nProbability of &lt;=70 from Normal Distribtion with mean=75 and sd=5\nsmaller than 1 standard deviation from the mean\n\n\nCode\npnorm(q=70,mean=75,sd=5)\n\n\n[1] 0.1586553\n\n\nProbability of &gt;=80 from Normal Distribtion with mean=75 and sd=5\nlarger than 1 standard deviation from the mean\n\n\nCode\n1-pnorm(q=80,mean=75,sd=5)\n\n\n[1] 0.1586553\n\n\n\n\n5.2.6 quantile function\n\nQ1\n\n\nCode\nqnorm(p=0.25,mean=75,sd=5)\n\n\n[1] 71.62755\n\n\nQ3\n\n\nCode\nqnorm(p=0.75,mean=75,sd=5)\n\n\n[1] 78.37245\n\n\n\n\n5.2.7 random number generator\n\n\n\n5.2.8 generate 1000 number from Normal Distribtion with mean=75 and sd=5\n\n\nCode\nnd=rnorm(n=1000,mean=75,sd=5)\nnd=sort(nd)\n\n\n\n\nCode\nmean(nd)\n\n\n[1] 74.8938\n\n\n\n\nCode\nsd(nd)\n\n\n[1] 5.212053\n\n\n\n\nCode\nhist(nd)\n\n\n\n\n\n\n\n\n\n\n\nCode\ndens=dnorm(nd,mean=mean(nd),sd=sd(nd))\n\n\n\n\nCode\nplot(nd,dens,type='l')\n\n\n\n\n\n\n\n\n\n\n\n5.2.9 check data normally distributed\n\n\nCode\nnd_data=rnorm(n=1000,mean=0,sd=2)\nnd_data=sort(nd_data)\n\n\n\n\nCode\nnon_nd_data=seq(1:1000)\nnon_nd_data=sort(non_nd_data)\n\n\n\n5.2.9.1 method 1 :histogram\n\n\nCode\n#define plotting region\npar(mfrow=c(1,2)) \n\n#create histogram for both datasets\nhist(nd_data, col='steelblue', main='Normal')\nhist(non_nd_data, col='steelblue', main='Non-normal')\n\n\n\n\n\n\n\n\n\n\n\n5.2.9.2 method 2 :Q-Q plot\n\n\nCode\n#define plotting region\npar(mfrow=c(1,2)) \n\n#create Q-Q plot for both datasets\nqqnorm(nd_data, main='Normal')\nqqline(nd_data)\n\nqqnorm(non_nd_data, main='Non-normal')\nqqline(non_nd_data)\n\n\n\n\n\n\n\n\n\n\n\n5.2.9.3 Method 3: Shapiro-Wilk Test\nnull hypothesis (H0):The data is normally distributed.\nif p-value =&gt;0.05 then normally distributed\n\n\nCode\n#perform shapiro-wilk test\nshapiro.test(nd_data)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  nd_data\nW = 0.99895, p-value = 0.8451\n\n\nif p-value &lt;0.05 then not normally distributed(reject the null hypothesis)\n\n\nCode\n#perform shapiro-wilk test\nshapiro.test(non_nd_data)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  non_nd_data\nW = 0.95481, p-value &lt; 2.2e-16",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#student-t-distribution",
    "href": "intro/2 probability.html#student-t-distribution",
    "title": "Probability",
    "section": "5.3 student t distribution",
    "text": "5.3 student t distribution\n\n\n5.3.1 one sample t test\n\n\n5.3.2 two sample t test\n\n\n5.3.3 Paired t test\n\n\n5.3.4 Pearson correlation coefficient",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#f-distribution",
    "href": "intro/2 probability.html#f-distribution",
    "title": "Probability",
    "section": "5.4 F distribution",
    "text": "5.4 F distribution\n\n5.4.1 ANOVA",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#chi-square",
    "href": "intro/2 probability.html#chi-square",
    "title": "Probability",
    "section": "5.5 Chi-square",
    "text": "5.5 Chi-square\n\n5.5.1 Chi-square goodness of fit test\n\n\n5.5.2 Chi-square test of independence",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#poisson-distribution",
    "href": "intro/2 probability.html#poisson-distribution",
    "title": "Probability",
    "section": "5.6 Poisson Distribution",
    "text": "5.6 Poisson Distribution",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "Plot/5 Map/3 leaflet US.html",
    "href": "Plot/5 Map/3 leaflet US.html",
    "title": "US map",
    "section": "",
    "text": "1 US gdp by State\n\n\nCode\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(chromote)\nlibrary(janitor)\nlibrary(tidygeocoder)\nlibrary(leaflet)\nlibrary(sf)\n\n\n\n\nCode\nlibrary(maps)\nmapStates = map(\"state\", fill = TRUE, plot = FALSE)\n\n\nUS location data ::: {.cell}\n\nCode\njson_data=read_sf(\"us-states.json\")\n\n:::\n\n\nCode\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\nglimpse(mapStates)\n\n\nList of 4\n $ x    : num [1:15599] -87.5 -87.5 -87.5 -87.5 -87.6 ...\n $ y    : num [1:15599] 30.4 30.4 30.4 30.3 30.3 ...\n $ range: num [1:4] -124.7 -67 25.1 49.4\n $ names: chr [1:63] \"alabama\" \"arizona\" \"arkansas\" \"california\" ...\n - attr(*, \"class\")= chr \"map\"\n\n\nUS 2-22 GDP data\n\n\nCode\nlibrary(openxlsx)\nlibrary(readxl)\n\nper_gdp_usd=read_excel('US state gpd 2022.xlsx') %&gt;% mutate(names=str_replace(names,'\\\\*','') %&gt;% str_trim() )\n\n\n\n\nCode\nglimpse(per_gdp_usd)\n\n\nRows: 51\nColumns: 3\n$ names          &lt;chr&gt; \"California\", \"Texas\", \"New York\", \"Florida\", \"Illinois…\n$ total_2022_usd &lt;dbl&gt; 3641643, 2402137, 2048403, 1439065, 1025667, 911813, 82…\n$ per_2022_usd   &lt;dbl&gt; 92190, 78456, 104344, 62446, 82126, 71160, 69978, 69253…\n\n\n\n\nCode\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"names\")\n\n\n\n\nCode\nglimpse(map_df002)\n\n\nRows: 51\nColumns: 6\n$ name           &lt;chr&gt; \"Alabama\", \"Alaska\", \"Arizona\", \"Arkansas\", \"California…\n$ id             &lt;chr&gt; \"01\", \"02\", \"04\", \"05\", \"06\", \"08\", \"09\", \"10\", \"11\", \"…\n$ density        &lt;dbl&gt; 94.650, 1.264, 57.050, 56.430, 241.700, 49.330, 739.100…\n$ geometry       &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((-87.3593 35..., MULTIPOLYG…\n$ total_2022_usd &lt;dbl&gt; 281569, 65699, 475654, 165989, 3641643, 491289, 319345,…\n$ per_2022_usd   &lt;dbl&gt; 54753, 86722, 62365, 54259, 92190, 82954, 88760, 85977,…\n\n\n\n\nCode\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")\n\n\n\n\nCode\n#pal &lt;- colorNumeric(\"magma\", NULL)\npal &lt;- colorNumeric(\n  palette = \"Blues\",\n  domain = map_df002$per_gdp_usd\n  )\n\nbinpal &lt;- colorBin(\"Blues\",map_df002$per_gdp_usd, 20, pretty = FALSE)\n\nm &lt;- leaflet(map_sf002) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n   addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    #fillColor = ~ pal(per_2022_usd)\n    #color = ~pal(per_2022_usd)\n   color = ~binpal(per_2022_usd)\n    ,popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_2022_usd, \"（千 美元）\", \"&lt;br/&gt;\"\n      \n    )\n     ,label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", round(map_sf002$per_2022_usd/1000), \"K &lt;br/&gt;\",\n       \"总gpd 美元：\", round(map_sf002$total_2022_usd), \"M &lt;br/&gt;\"\n\n    ), htmltools::HTML)\n    )%&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_2022_usd, opacity = 1.0\n    )\n  \n\n\n\nm  \n\n\n\n\n\n\n\n\n2 resouce:\nhttps://www.gunviolencearchive.org/reports/mass-shooting?page=8&year=2023\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Plot",
      "5 Map",
      "US map"
    ]
  },
  {
    "objectID": "Plot/5 Map/4 HK whisky bar.html",
    "href": "Plot/5 Map/4 HK whisky bar.html",
    "title": "HK whisk bar",
    "section": "",
    "text": "1 data\n\n\nCode\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(chromote)\nlibrary(janitor)\nlibrary(tidygeocoder)\nlibrary(leaflet)\nlibrary(sf)\n\n\n\n\nCode\nbar_name=c('Maltcask@太子','House Welley@中環','Casky@灣仔')\nbar_address=c('169 Sai Yeung Choi St N, Mong Kok,Hongkong','97 Wellington St, Central,Hongkong','20-24 Lockhart Road, Wan Chai,Hongkong')\n\nbar_logo=c('https://img.shoplineapp.com/media/image_clips/62f16f8d7df01b0025a82bad/original.png','https://static.wixstatic.com/media/2d390e_27d0b3da21a94459bccf741600782591~mv2.jpg/v1/fill/w_160,h_160,al_c,q_80,usm_0.66_1.00_0.01,enc_auto/Grey.jpg','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsSelY2PRVxaxyU_Ydf9CHgtUrClzpxpqJ2g&s')\n\n\ndata001=tibble(bar_name,bar_address,bar_logo)\n\n\n\n\n2 search all address to latitude, longitude\n\n\nCode\n# geocode the addresses\ndata002 =data001 %&gt;% geocode(bar_address, method = 'osm',lat = latitude , long = longitude)\n\nglimpse(data002)\n\n\nRows: 3\nColumns: 5\n$ bar_name    &lt;chr&gt; \"Maltcask@太子\", \"House Welley@中環\", \"Casky@灣仔\"\n$ bar_address &lt;chr&gt; \"169 Sai Yeung Choi St N, Mong Kok,Hongkong\", \"97 Wellingt…\n$ bar_logo    &lt;chr&gt; \"https://img.shoplineapp.com/media/image_clips/62f16f8d7df…\n$ latitude    &lt;dbl&gt; 22.32539, 22.28360, 22.27811\n$ longitude   &lt;dbl&gt; 114.1688, 114.1543, 114.1727\n\n\n\n\n3 map\n\n\nCode\n# Choose Icon:\nleafIcons &lt;- icons(data002$bar_logo,iconWidth =60, iconHeight = 50)\n\n\nm &lt;- leaflet() %&gt;%\n  \n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # add markers\n  addMarkers(lng=data002$longitude, lat=data002$latitude,icon = leafIcons)\n \n\nm  \n\n\n\n\n\n\n\n\nCode\nm &lt;- leaflet(height=2000, width=2000) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # add markers\n  addPopups( lng=data002$longitude, lat=data002$latitude, data002$bar_name\n             ,options = popupOptions(closeButton = FALSE)\n             \n            )\n \n\nm  \n\n\n\n\n\n\n\n\nCode\nm &lt;- leaflet(height=2500, width=2000) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # add markers\n addMarkers(\n    lng=data002$longitude, lat=data002$latitude\n    ,label = data002$bar_name,options = popupOptions(closeButton = FALSE),\n   \n    labelOptions = labelOptions(noHide = TRUE, direction = \"bottom\",\n      style = list(\n        \"color\" = \"red\",\n        \"font-family\" = \"serif\",\n        \"font-style\" = \"italic\",\n        \"box-shadow\" = \"2px 2px rgba(0,0,0,0.25)\",\n        \"font-size\" = \"12px\",\n        \"border-color\" = \"rgba(0,0,0,0.5)\"\n      ))) \n  \n\nm  \n\n\n\n\n\n\n\n\n4 resouce:\nhttps://www.gunviolencearchive.org/reports/mass-shooting?page=8&year=2023\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Plot",
      "5 Map",
      "HK whisk bar"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html",
    "href": "Plot/1 ggplot2.html",
    "title": "ggplot2 in R",
    "section": "",
    "text": "This document provides a comprehensive introduction to ggplot2, a powerful and popular data visualization package for the R programming language. We will explore the fundamental concepts of the “grammar of graphics,” which underpins ggplot2, and demonstrate how to create a wide variety of plots, from basic scatter and line charts to more advanced visualizations like maps and animations.\nggplot2 is built on the idea that you can build any plot from the same set of components: a data set, a coordinate system, and geoms (the visual marks that represent data points). You’ll learn how to combine these components to create elegant and informative graphics.\nCode\n# This code chunk installs the necessary packages for this tutorial.\n# You only need to run this once.\npak::pak(c('ggplot2', 'ggthemr', 'gganimate', 'patchwork', 'ggthemes', 'tidyverse', 'gapminder', 'ggpubr', 'plotly', 'magick', 'reshape2', 'sf', 'legendry'))\nggplot2 is an elegant and versatile data visualization package in R, based on the grammar of graphics. It allows you to build plots layer by layer, providing immense flexibility and control.",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#color-by-group",
    "href": "Plot/1 ggplot2.html#color-by-group",
    "title": "ggplot2 in R",
    "section": "1.1 color by group",
    "text": "1.1 color by group\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#size-by-group",
    "href": "Plot/1 ggplot2.html#size-by-group",
    "title": "ggplot2 in R",
    "section": "1.2 size by group",
    "text": "1.2 size by group\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,colour = sex,size=size)) + geom_point()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#line-plot",
    "href": "Plot/1 ggplot2.html#line-plot",
    "title": "ggplot2 in R",
    "section": "Line Plot",
    "text": "Line Plot\nLine plots are used to visualize trends over a continuous variable, such as time. We use geom_line() for this.\nFirst, let’s aggregate the gapminder data to calculate the total population for each continent over the years.\n\n\nCode\ndata002 = data001 %&gt;% \n  group_by(continent, year) %&gt;% \n  summarise(pop = sum(pop), .groups = 'drop')\n\n\nNow, we can plot the population trend for Asia.\n\n\nCode\np = ggplot(data002 %&gt;% filter(continent == 'Asia'), aes(x = year, y = pop)) + geom_line()\np\n\n\n\n\n\n\n\n\n\n\nChange Line Size\nYou can customize the appearance of the line by setting aesthetics within the geom_line() function.\n\n\nCode\np = ggplot(data002 %&gt;% filter(continent == 'Asia'), aes(x = year, y = pop)) + geom_line(size = 2)\np\n\n\n\n\n\n\n\n\n\n\n\nColor by Group\nTo compare trends across different continents, we can map the continent variable to the color aesthetic.\n\n\nCode\np = ggplot(data002, aes(x = year, y = pop, colour = continent)) + geom_line()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#color-by-group-1",
    "href": "Plot/1 ggplot2.html#color-by-group-1",
    "title": "ggplot2 in R",
    "section": "2.1 color by group",
    "text": "2.1 color by group\n\n\nCode\np=ggplot(data002, aes(year, pop,colour = continent)) + geom_line()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#color-by-group-2",
    "href": "Plot/1 ggplot2.html#color-by-group-2",
    "title": "ggplot2 in R",
    "section": "4.1 color by group",
    "text": "4.1 color by group\n\n\nCode\nggplot(data002, aes(gdpPercap,,fill = continent)) +geom_histogram(position = 'dodge')",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#show-number",
    "href": "Plot/1 ggplot2.html#show-number",
    "title": "ggplot2 in R",
    "section": "5.1 show number",
    "text": "5.1 show number\n\n\nCode\nggplot(data002, aes(x=continent, y=pop)) +\n  geom_bar(stat=\"identity\")+scale_y_continuous(labels = scales::comma)+geom_text(aes(label = pop), vjust = -0.2)",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#change-bar-color",
    "href": "Plot/1 ggplot2.html#change-bar-color",
    "title": "ggplot2 in R",
    "section": "5.2 change bar color",
    "text": "5.2 change bar color\n\n\nCode\nggplot(data002, aes(x=continent, y=pop)) +\n  geom_bar(stat=\"identity\",fill='red')+scale_y_continuous(labels = scales::comma)+geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\nCode\n# box plot",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#bar-plot-order",
    "href": "Plot/1 ggplot2.html#bar-plot-order",
    "title": "ggplot2 in R",
    "section": "5.3 bar plot order",
    "text": "5.3 bar plot order\n\n\nCode\nggplot(data002, aes(x=reorder(continent,pop), y=pop)) +\n  geom_bar(stat=\"identity\",fill='red')+scale_y_continuous(labels = scales::comma)+geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\nCode\n# box plot\n\n\n\n\nCode\nggplot(data002, aes(x=reorder(continent,-pop), y=pop)) +\n  geom_bar(stat=\"identity\",fill='red')+scale_y_continuous(labels = scales::comma)+geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\nCode\n# box plot",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#horizontal-barplot",
    "href": "Plot/1 ggplot2.html#horizontal-barplot",
    "title": "ggplot2 in R",
    "section": "5.4 Horizontal Barplot",
    "text": "5.4 Horizontal Barplot\n` ::: {.cell}\n\nCode\nggplot(data002, aes(x=reorder(continent,pop), y=pop)) +\n  geom_bar(stat=\"identity\",fill='red')+scale_y_continuous(labels = scales::comma)+geom_text(aes(label = pop), vjust = -0.2)+coord_flip()\n\n\n\n\n\n\n\n\n\nCode\n# box plot\n\n:::",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#make-bar-transparency",
    "href": "Plot/1 ggplot2.html#make-bar-transparency",
    "title": "ggplot2 in R",
    "section": "5.5 make bar transparency",
    "text": "5.5 make bar transparency\n\n\nCode\nggplot(data002, aes(x=reorder(continent,pop), y=pop)) +\n  geom_bar(stat=\"identity\",fill='red' ,alpha=0.2)+coord_flip()",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#make-bar-close-to-axis",
    "href": "Plot/1 ggplot2.html#make-bar-close-to-axis",
    "title": "ggplot2 in R",
    "section": "5.6 make bar close to axis",
    "text": "5.6 make bar close to axis\n\n\nCode\nggplot(data002, aes(x=reorder(continent,pop), y=pop)) +\n  geom_bar(stat=\"identity\",alpha=0.2,fill='red')+coord_flip()+scale_y_continuous(expand = expansion(mult = c(0, .1)))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#change-one-bar-color",
    "href": "Plot/1 ggplot2.html#change-one-bar-color",
    "title": "ggplot2 in R",
    "section": "5.7 change one bar color",
    "text": "5.7 change one bar color\n\n\nCode\nggplot(data002, aes(x=reorder(continent,pop), y=pop,fill=factor(ifelse(continent==\"Asia\",\"Highlighted\",\"Normal\")))) +\n  geom_bar(stat=\"identity\",alpha=0.2,show.legend = FALSE)+scale_fill_manual(name = \"continent\", values=c(\"red\",\"grey50\"))+coord_flip()+scale_y_continuous(expand = expansion(mult = c(0, .1)))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#color-by-group-3",
    "href": "Plot/1 ggplot2.html#color-by-group-3",
    "title": "ggplot2 in R",
    "section": "5.8 color by group",
    "text": "5.8 color by group",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#color-by-group-4",
    "href": "Plot/1 ggplot2.html#color-by-group-4",
    "title": "ggplot2 in R",
    "section": "7.1 color by group",
    "text": "7.1 color by group\n\n\nCode\np=ggplot(tips, aes(day,tip,color=sex)) + geom_jitter(position=position_jitterdodge())\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#add-title",
    "href": "Plot/1 ggplot2.html#add-title",
    "title": "ggplot2 in R",
    "section": "9.1 add title",
    "text": "9.1 add title\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()+ ggtitle(\"tip by sex\")\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#add-subtitle",
    "href": "Plot/1 ggplot2.html#add-subtitle",
    "title": "ggplot2 in R",
    "section": "9.2 add subtitle",
    "text": "9.2 add subtitle\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()+ ggtitle(\"tip by sex\",subtitle = \"Subtitle of the plot\")\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#add-footnote",
    "href": "Plot/1 ggplot2.html#add-footnote",
    "title": "ggplot2 in R",
    "section": "9.3 add footnote",
    "text": "9.3 add footnote\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()+ ggtitle(\"tip by sex\")+labs(caption = \"this is footnote\")\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#adjust-plot-size",
    "href": "Plot/1 ggplot2.html#adjust-plot-size",
    "title": "ggplot2 in R",
    "section": "9.4 adjust plot size",
    "text": "9.4 adjust plot size\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()+ ggtitle(\"tip by sex\")+theme(\n  plot.margin = margin(2, 2, 5, 5, \"cm\"))\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#adjust-text-size-and-center-title",
    "href": "Plot/1 ggplot2.html#adjust-text-size-and-center-title",
    "title": "ggplot2 in R",
    "section": "9.5 adjust text size and center title",
    "text": "9.5 adjust text size and center title\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()+ ggtitle(\"tip by sex\")+labs(caption = \"this is footnote\")\n\np+theme(plot.title = element_text(hjust = 0.5),text = element_text(size = 30))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#change-x-y-name",
    "href": "Plot/1 ggplot2.html#change-x-y-name",
    "title": "ggplot2 in R",
    "section": "9.6 change x y name",
    "text": "9.6 change x y name\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()+xlab(\"new x name\") + ylab(\"new y name\")\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#add-chinese",
    "href": "Plot/1 ggplot2.html#add-chinese",
    "title": "ggplot2 in R",
    "section": "9.7 add chinese",
    "text": "9.7 add chinese\n\n\nCode\nlibrary(showtext)\nshowtext_auto()\n\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()+ scale_x_continuous(name=\"新的 x name\")+ scale_y_continuous(name=\"新的 y name\")\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#x-y-break-and-scales-limit",
    "href": "Plot/1 ggplot2.html#x-y-break-and-scales-limit",
    "title": "ggplot2 in R",
    "section": "9.8 x y break and scales limit",
    "text": "9.8 x y break and scales limit\n\n9.8.1 x scales limit\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()+ scale_x_continuous(name=\"new x name\")+ scale_y_continuous(name=\"new y name\")\np+ xlim(min=0, 20)\n\n\n\n\n\n\n\n\n\n\n\n9.8.2 y scales limit\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + geom_point()+ scale_x_continuous(name=\"new x name\")+ scale_y_continuous(name=\"new y name\")\np+ ylim(0, 100)\n\n\n\n\n\n\n\n\n\n\n\n9.8.3 adding second aix\n\n\nCode\ndata002= data001%&gt;% group_by(year,continent) %&gt;% summarise(pop=sum(pop),lifeExp=mean(lifeExp))%&gt;%filter(continent=='Asia')\n\n\nremove scientific notation ::: {.cell}\n\nCode\ncoeff=1/40000000\n\n\np=ggplot(data002, aes(year, pop)) + geom_col() +\n  geom_line(aes(year,lifeExp/ coeff),size=2, color = \"red\") +scale_y_continuous(\"pop\", sec.axis = sec_axis(~.*coeff, name = \"lifeExp\"),labels = scales::comma)\np\n\n\n\n\n\n\n\n\n:::",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#add-logo",
    "href": "Plot/1 ggplot2.html#add-logo",
    "title": "ggplot2 in R",
    "section": "13.1 add logo",
    "text": "13.1 add logo\n\n\nCode\n# Add your company's logo to the graph you created\nlogo &lt;- image_read(\"logo.png\")\np\ngrid::grid.raster(logo, x = 0.1, y = 0, just = c('left', 'bottom'), width = unit(0.4, 'inches'))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#add-background-image",
    "href": "Plot/1 ggplot2.html#add-background-image",
    "title": "ggplot2 in R",
    "section": "13.2 add background image",
    "text": "13.2 add background image\n\n\nCode\nimg4=image_read(\"bee.png\")\n\n\"bee.png\"\n\n\n[1] \"bee.png\"\n\n\nCode\np=ggplot(tips, aes(tip, total_bill,color=sex)) + background_image(img4) +geom_point()+ scale_x_continuous(name=\"new x name\")+ scale_y_continuous(name=\"new y name\")\n\n\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html",
    "href": "Plot/3 image processing.html",
    "title": "image processing",
    "section": "",
    "text": "This document provides a practical guide to image processing in R using the magick package. The magick package is a powerful and versatile tool for image manipulation, providing a wide range of functions for reading, writing, editing, and transforming images. It is built on top of the ImageMagick library, a robust and feature-rich image processing software.\nWe will cover the basics of reading and writing images, as well as more advanced topics like color manipulation, transformations, and adding text and borders. We will also explore how to integrate magick with ggplot2 to create more visually appealing and informative plots.\nCode\n# Load the magick library\nlibrary(magick)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html",
    "href": "data manipulation/3 data manipulation with tidyverse.html",
    "title": "Data Manipulation with tidyverse",
    "section": "",
    "text": "The tidyverse is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures. This guide focuses on dplyr, tidyr, stringr, and lubridate, the core packages for data manipulation.",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#select-column",
    "href": "data manipulation/3 data manipulation with tidyverse.html#select-column",
    "title": "Data manipulation with tidyverse",
    "section": "2.1 select column",
    "text": "2.1 select column",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#get-column-names",
    "href": "data manipulation/3 data manipulation with tidyverse.html#get-column-names",
    "title": "Data Manipulation with tidyverse",
    "section": "Get Column Names",
    "text": "Get Column Names\nThe names() function returns a character vector of the column names in a data frame.\n\n\nCode\nnames(mtcars_df)\n\n\n [1] \"car_name\" \"mpg\"      \"cyl\"      \"disp\"     \"hp\"       \"drat\"    \n [7] \"wt\"       \"qsec\"     \"vs\"       \"am\"       \"gear\"     \"carb\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#select-by-name",
    "href": "data manipulation/3 data manipulation with tidyverse.html#select-by-name",
    "title": "Data manipulation with tidyverse",
    "section": "2.3 select by name",
    "text": "2.3 select by name\n\n\nCode\nsmall_mtcars %&gt;% select(cyl, mpg,hp) \n\n\n  cyl  mpg  hp\n1   6 21.0 110\n2   6 21.0 110\n3   4 22.8  93\n4   6 21.4 110\n5   8 18.7 175\n6   6 18.1 105",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#select-columns-by-name-match-with-p",
    "href": "data manipulation/3 data manipulation with tidyverse.html#select-columns-by-name-match-with-p",
    "title": "Data manipulation with tidyverse",
    "section": "2.4 select columns by name match with ‘p’",
    "text": "2.4 select columns by name match with ‘p’\n\n\nCode\nsmall_mtcars %&gt;% select(contains(\"p\")) \n\n\n   mpg  hp\n1 21.0 110\n2 21.0 110\n3 22.8  93\n4 21.4 110\n5 18.7 175\n6 18.1 105",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#select-columns-by-index",
    "href": "data manipulation/3 data manipulation with tidyverse.html#select-columns-by-index",
    "title": "Data manipulation with tidyverse",
    "section": "2.5 select columns by index",
    "text": "2.5 select columns by index\n\n\nCode\nsmall_mtcars %&gt;% select(1,2) \n\n\n           car_name cyl\n1         Mazda RX4   6\n2     Mazda RX4 Wag   6\n3        Datsun 710   4\n4    Hornet 4 Drive   6\n5 Hornet Sportabout   8\n6           Valiant   6",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#drop-column",
    "href": "data manipulation/3 data manipulation with tidyverse.html#drop-column",
    "title": "Data manipulation with tidyverse",
    "section": "2.6 drop column",
    "text": "2.6 drop column\n\n\nCode\nsmall_mtcars %&gt;% select(-cyl)\n\n\n           car_name  mpg  hp\n1         Mazda RX4 21.0 110\n2     Mazda RX4 Wag 21.0 110\n3        Datsun 710 22.8  93\n4    Hornet 4 Drive 21.4 110\n5 Hornet Sportabout 18.7 175\n6           Valiant 18.1 105",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#renaming-column",
    "href": "data manipulation/3 data manipulation with tidyverse.html#renaming-column",
    "title": "Data manipulation with tidyverse",
    "section": "2.7 Renaming column",
    "text": "2.7 Renaming column\n\n\nCode\nsmall_mtcars %&gt;%rename(new_cyl=cyl)\n\n\n           car_name new_cyl  mpg  hp\n1         Mazda RX4       6 21.0 110\n2     Mazda RX4 Wag       6 21.0 110\n3        Datsun 710       4 22.8  93\n4    Hornet 4 Drive       6 21.4 110\n5 Hornet Sportabout       8 18.7 175\n6           Valiant       6 18.1 105",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#create-column",
    "href": "data manipulation/3 data manipulation with tidyverse.html#create-column",
    "title": "Data manipulation with tidyverse",
    "section": "2.8 Create column",
    "text": "2.8 Create column\n\n2.8.1 Mutate\n\n\nCode\nsmall_mtcars %&gt;%mutate(new_cyl=cyl+1)\n\n\n           car_name cyl  mpg  hp new_cyl\n1         Mazda RX4   6 21.0 110       7\n2     Mazda RX4 Wag   6 21.0 110       7\n3        Datsun 710   4 22.8  93       5\n4    Hornet 4 Drive   6 21.4 110       7\n5 Hornet Sportabout   8 18.7 175       9\n6           Valiant   6 18.1 105       7\n\n\n\n\n2.8.2 if else\n\n\nCode\nsmall_mtcars %&gt;%mutate(new_cly_group=if_else(cyl&gt;6,'big','small'))\n\n\n           car_name cyl  mpg  hp new_cly_group\n1         Mazda RX4   6 21.0 110         small\n2     Mazda RX4 Wag   6 21.0 110         small\n3        Datsun 710   4 22.8  93         small\n4    Hornet 4 Drive   6 21.4 110         small\n5 Hornet Sportabout   8 18.7 175           big\n6           Valiant   6 18.1 105         small\n\n\n\n\n2.8.3 case when\n\n\nCode\nsmall_mtcars %&gt;%mutate(cly_group=case_when(\n    cyl &gt; 6 ~ \"very big\",\n    cyl &gt; 4 ~ \"big\",\n    TRUE ~ \"other\",\n  ))\n\n\n           car_name cyl  mpg  hp cly_group\n1         Mazda RX4   6 21.0 110       big\n2     Mazda RX4 Wag   6 21.0 110       big\n3        Datsun 710   4 22.8  93     other\n4    Hornet 4 Drive   6 21.4 110       big\n5 Hornet Sportabout   8 18.7 175  very big\n6           Valiant   6 18.1 105       big\n\n\n\n\n2.8.4 Transmute,create column and only keep this column\n\n\nCode\nsmall_mtcars %&gt;%transmute(new_cyl=cyl+1)\n\n\n  new_cyl\n1       7\n2       7\n3       5\n4       7\n5       9\n6       7\n\n\n\n\n2.8.5 more Mutate\n\n\n2.8.6 mutate_if\n\n\nCode\nsmall_mtcars %&gt;% mutate_if(is.numeric, as.character)\n\n\n           car_name cyl  mpg  hp\n1         Mazda RX4   6   21 110\n2     Mazda RX4 Wag   6   21 110\n3        Datsun 710   4 22.8  93\n4    Hornet 4 Drive   6 21.4 110\n5 Hornet Sportabout   8 18.7 175\n6           Valiant   6 18.1 105\n\n\n\n\n2.8.7 mutate_all\n\n\nCode\nsmall_mtcars %&gt;% mutate_if(is.numeric, as.character) |&gt; mutate_all(function(x) paste(\"new\",x)) \n\n\n               car_name   cyl      mpg      hp\n1         new Mazda RX4 new 6   new 21 new 110\n2     new Mazda RX4 Wag new 6   new 21 new 110\n3        new Datsun 710 new 4 new 22.8  new 93\n4    new Hornet 4 Drive new 6 new 21.4 new 110\n5 new Hornet Sportabout new 8 new 18.7 new 175\n6           new Valiant new 6 new 18.1 new 105\n\n\n\n\n2.8.8 mutate_at\n\n\nCode\nsmall_mtcars %&gt;%mutate_at(vars(mpg,hp),function(x) x*100)\n\n\n           car_name cyl  mpg    hp\n1         Mazda RX4   6 2100 11000\n2     Mazda RX4 Wag   6 2100 11000\n3        Datsun 710   4 2280  9300\n4    Hornet 4 Drive   6 2140 11000\n5 Hornet Sportabout   8 1870 17500\n6           Valiant   6 1810 10500",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#filter-rows",
    "href": "data manipulation/3 data manipulation with tidyverse.html#filter-rows",
    "title": "Data Manipulation with tidyverse",
    "section": "2.4 Filter Rows",
    "text": "2.4 Filter Rows\nfilter() subsets rows based on logical conditions.\n\n\nCode\nsmall_mtcars %&gt;% filter(cyl &gt; 5)\n\n\n           car_name cyl  mpg  hp\n1         Mazda RX4   6 21.0 110\n2     Mazda RX4 Wag   6 21.0 110\n3    Hornet 4 Drive   6 21.4 110\n4 Hornet Sportabout   8 18.7 175\n5           Valiant   6 18.1 105\n\n\n\n2.4.1 Filters with AND conditions\nSeparate conditions with a comma for an AND relationship.\n\n\nCode\nsmall_mtcars %&gt;% filter(cyl &gt; 5, mpg &gt; 20)\n\n\n        car_name cyl  mpg  hp\n1      Mazda RX4   6 21.0 110\n2  Mazda RX4 Wag   6 21.0 110\n3 Hornet 4 Drive   6 21.4 110\n\n\n\n\n2.4.2 Filters with OR conditions\nUse the | operator for an OR relationship.\n\n\nCode\nsmall_mtcars %&gt;% filter(cyl &gt; 5 | mpg &gt; 20)\n\n\n           car_name cyl  mpg  hp\n1         Mazda RX4   6 21.0 110\n2     Mazda RX4 Wag   6 21.0 110\n3        Datsun 710   4 22.8  93\n4    Hornet 4 Drive   6 21.4 110\n5 Hornet Sportabout   8 18.7 175\n6           Valiant   6 18.1 105\n\n\n\n\n2.4.3 Filter Rows by Index with slice\nslice() allows you to select rows by their position.\nSelect the 5th row:\n\n\nCode\nsmall_mtcars %&gt;% slice(5)\n\n\n           car_name cyl  mpg  hp\n1 Hornet Sportabout   8 18.7 175\n\n\nSelect a random sample of rows:\n\n\nCode\nsmall_mtcars %&gt;% sample_n(3)\n\n\n        car_name cyl  mpg  hp\n1  Mazda RX4 Wag   6 21.0 110\n2 Hornet 4 Drive   6 21.4 110\n3     Datsun 710   4 22.8  93",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#append",
    "href": "data manipulation/3 data manipulation with tidyverse.html#append",
    "title": "Data manipulation with tidyverse",
    "section": "2.11 Append",
    "text": "2.11 Append\n\n2.11.1 append by row\n\n\nCode\nsmall_mtcars %&gt;% rbind(small_mtcars)\n\n\n            car_name cyl  mpg  hp\n1          Mazda RX4   6 21.0 110\n2      Mazda RX4 Wag   6 21.0 110\n3         Datsun 710   4 22.8  93\n4     Hornet 4 Drive   6 21.4 110\n5  Hornet Sportabout   8 18.7 175\n6            Valiant   6 18.1 105\n7          Mazda RX4   6 21.0 110\n8      Mazda RX4 Wag   6 21.0 110\n9         Datsun 710   4 22.8  93\n10    Hornet 4 Drive   6 21.4 110\n11 Hornet Sportabout   8 18.7 175\n12           Valiant   6 18.1 105\n\n\n\n\n2.11.2 append by column\n\n\nCode\nsmall_mtcars %&gt;% cbind(small_mtcars)\n\n\n           car_name cyl  mpg  hp          car_name cyl  mpg  hp\n1         Mazda RX4   6 21.0 110         Mazda RX4   6 21.0 110\n2     Mazda RX4 Wag   6 21.0 110     Mazda RX4 Wag   6 21.0 110\n3        Datsun 710   4 22.8  93        Datsun 710   4 22.8  93\n4    Hornet 4 Drive   6 21.4 110    Hornet 4 Drive   6 21.4 110\n5 Hornet Sportabout   8 18.7 175 Hornet Sportabout   8 18.7 175\n6           Valiant   6 18.1 105           Valiant   6 18.1 105\n\n\n\n\n2.11.3 Sepcial vales\n\n2.11.3.1 NAN\nNaN (“Not a Number”) means 0/0\n\n\nCode\nv1 &lt;- NaN\nv1\n\n\n[1] NaN\n\n\n\n\nCode\nis.na(v1)\n\n\n[1] TRUE\n\n\n\n\n2.11.3.2 NA\nNA (“Not Available”) is generally interpreted as a missing value\n\n\nCode\nv2 &lt;- NA\nv2\n\n\n[1] NA\n\n\n\n\nCode\nis.na(v2)\n\n\n[1] TRUE\n\n\n\n\n2.11.3.3 NULL\nNULL is an object and is returned when an expression or function results in an undefined value. In R language, NULL (capital letters) is a reserved word\n\n\nCode\nv3=NULL\nv3\n\n\nNULL\n\n\n\n\nCode\nis.na(v3)\n\n\nlogical(0)",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#group-by",
    "href": "data manipulation/3 data manipulation with tidyverse.html#group-by",
    "title": "Data manipulation with tidyverse",
    "section": "2.12 group by",
    "text": "2.12 group by\n\n2.12.1 average,min,max,sum\n\n\nCode\nsmall_mtcars %&gt;%group_by(cyl) %&gt;% summarise(avg_mpg=mean(mpg)\n                                            ,min_mpg=min(mpg)\n                                            ,max_mpg=max(mpg)\n                                            ,sum_mpg=sum(mpg))\n\n\n# A tibble: 3 × 5\n    cyl avg_mpg min_mpg max_mpg sum_mpg\n  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1     4    22.8    22.8    22.8    22.8\n2     6    20.4    18.1    21.4    81.5\n3     8    18.7    18.7    18.7    18.7\n\n\n\n\n2.12.2 count record and count distinct record\n\n\nCode\nsmall_mtcars %&gt;%group_by(cyl) %&gt;% summarise(n_mpg=n()\n                                            ,distinct_n_mpg=n_distinct(mpg)\n                                            \n                                            )\n\n\n# A tibble: 3 × 3\n    cyl n_mpg distinct_n_mpg\n  &lt;dbl&gt; &lt;int&gt;          &lt;int&gt;\n1     4     1              1\n2     6     4              3\n3     8     1              1",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#order-rows",
    "href": "data manipulation/3 data manipulation with tidyverse.html#order-rows",
    "title": "Data Manipulation with tidyverse",
    "section": "Order Rows",
    "text": "Order Rows\narrange() sorts the rows of a data frame by one or more columns.\n\n\nCode\nsmall_mtcars %&gt;% arrange(cyl) \n\n\n           car_name cyl  mpg  hp\n1        Datsun 710   4 22.8  93\n2         Mazda RX4   6 21.0 110\n3     Mazda RX4 Wag   6 21.0 110\n4    Hornet 4 Drive   6 21.4 110\n5           Valiant   6 18.1 105\n6 Hornet Sportabout   8 18.7 175\n\n\nSort in descending order using desc().\n\n\nCode\nsmall_mtcars %&gt;% arrange(desc(cyl))\n\n\n           car_name cyl  mpg  hp\n1 Hornet Sportabout   8 18.7 175\n2         Mazda RX4   6 21.0 110\n3     Mazda RX4 Wag   6 21.0 110\n4    Hornet 4 Drive   6 21.4 110\n5           Valiant   6 18.1 105\n6        Datsun 710   4 22.8  93",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#join",
    "href": "data manipulation/3 data manipulation with tidyverse.html#join",
    "title": "Data manipulation with tidyverse",
    "section": "2.14 join",
    "text": "2.14 join\n\n\nCode\nleft_data=small_mtcars %&gt;% slice(1:2)\nright_data=small_mtcars %&gt;% slice(2:4)\n\n\n\n\nCode\nleft_data\n\n\n       car_name cyl mpg  hp\n1     Mazda RX4   6  21 110\n2 Mazda RX4 Wag   6  21 110\n\n\n\n\nCode\nright_data\n\n\n        car_name cyl  mpg  hp\n1  Mazda RX4 Wag   6 21.0 110\n2     Datsun 710   4 22.8  93\n3 Hornet 4 Drive   6 21.4 110\n\n\n\n2.14.1 inner_join\n\n\nCode\ndata=left_data %&gt;% inner_join(right_data,join_by(car_name== car_name), suffix = c(\"_l\", \"._r\"))\ndata\n\n\n       car_name cyl_l mpg_l hp_l cyl._r mpg._r hp._r\n1 Mazda RX4 Wag     6    21  110      6     21   110\n\n\n\n\n2.14.2 left join\n\n\nCode\ndata=left_data %&gt;% left_join(right_data,join_by(car_name== car_name), suffix = c(\"_l\", \"._r\"))\ndata\n\n\n       car_name cyl_l mpg_l hp_l cyl._r mpg._r hp._r\n1     Mazda RX4     6    21  110     NA     NA    NA\n2 Mazda RX4 Wag     6    21  110      6     21   110\n\n\n\n\n2.14.3 full join\n\n\nCode\ndata=left_data %&gt;% full_join(right_data,join_by(car_name== car_name), suffix = c(\"_l\", \"._r\"))\ndata\n\n\n        car_name cyl_l mpg_l hp_l cyl._r mpg._r hp._r\n1      Mazda RX4     6    21  110     NA     NA    NA\n2  Mazda RX4 Wag     6    21  110      6   21.0   110\n3     Datsun 710    NA    NA   NA      4   22.8    93\n4 Hornet 4 Drive    NA    NA   NA      6   21.4   110\n\n\n\n\n2.14.4 anti join\nanti_join() return all rows from x without a match in y\n\n\nCode\ndata=left_data %&gt;% anti_join(right_data,join_by(car_name== car_name))\ndata\n\n\n   car_name cyl mpg  hp\n1 Mazda RX4   6  21 110",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#reshape-tables",
    "href": "data manipulation/3 data manipulation with tidyverse.html#reshape-tables",
    "title": "Data Manipulation with tidyverse",
    "section": "2.10 Reshape Tables",
    "text": "2.10 Reshape Tables\nReshaping data involves converting it between “wide” and “long” formats.\n\n\nCode\nolddata_wide &lt;- read.table(header = TRUE, text = '\n subject sex control cond1 cond2\n       1   M     7.9  12.3  10.7\n       2   F     6.3  10.6  11.1\n       3   F     9.5  13.1  13.8\n       4   M    11.5  13.4  12.9\n')\n\n\n\n2.10.1 Wide to Long with pivot_longer\npivot_longer() makes data “longer” by gathering multiple columns into key-value pairs.\n\n\nCode\ndata_long = olddata_wide %&gt;% \n  pivot_longer(!c(subject, sex), names_to = 'condition', values_to = 'measurement')\n\ndata_long\n\n\n# A tibble: 12 × 4\n   subject sex   condition measurement\n     &lt;int&gt; &lt;chr&gt; &lt;chr&gt;           &lt;dbl&gt;\n 1       1 M     control           7.9\n 2       1 M     cond1            12.3\n 3       1 M     cond2            10.7\n 4       2 F     control           6.3\n 5       2 F     cond1            10.6\n 6       2 F     cond2            11.1\n 7       3 F     control           9.5\n 8       3 F     cond1            13.1\n 9       3 F     cond2            13.8\n10       4 M     control          11.5\n11       4 M     cond1            13.4\n12       4 M     cond2            12.9\n\n\n\n\n2.10.2 Long to Wide with pivot_wider\npivot_wider() does the opposite, making data “wider” by spreading a key-value pair into multiple columns.\n\n\nCode\ndata_wide = data_long %&gt;% \n  pivot_wider(names_from = condition, values_from = measurement)\n\ndata_wide\n\n\n# A tibble: 4 × 5\n  subject sex   control cond1 cond2\n    &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1       1 M         7.9  12.3  10.7\n2       2 F         6.3  10.6  11.1\n3       3 F         9.5  13.1  13.8\n4       4 M        11.5  13.4  12.9",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#length",
    "href": "data manipulation/3 data manipulation with tidyverse.html#length",
    "title": "Data manipulation with tidyverse",
    "section": "3.1 length",
    "text": "3.1 length\n\n\nCode\nx &lt;- \"I like horses.\"\nstr_length(x)\n\n\n[1] 14",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#upper-case",
    "href": "data manipulation/3 data manipulation with tidyverse.html#upper-case",
    "title": "Data manipulation with tidyverse",
    "section": "3.2 upper case",
    "text": "3.2 upper case\n\n\nCode\nx &lt;- \"I like horses.\"\n\nstr_to_upper(x)\n\n\n[1] \"I LIKE HORSES.\"",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#lower-case",
    "href": "data manipulation/3 data manipulation with tidyverse.html#lower-case",
    "title": "Data manipulation with tidyverse",
    "section": "3.3 lower case",
    "text": "3.3 lower case\n\n\nCode\nx &lt;- \"I like horses.\"\n\nstr_to_lower(x)\n\n\n[1] \"i like horses.\"",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#match",
    "href": "data manipulation/3 data manipulation with tidyverse.html#match",
    "title": "Data manipulation with tidyverse",
    "section": "3.4 match",
    "text": "3.4 match\n\n\nCode\nword_list=c('abc','bbc','appale','bbaa','cc')\n\n\n\n3.4.1 match with ‘a’\n\n\nCode\nword_list %&gt;% str_detect('a')\n\n\n[1]  TRUE FALSE  TRUE  TRUE FALSE\n\n\n\n\n3.4.2 match with ‘a’ count\n\n\nCode\nword_list %&gt;% str_count('a')\n\n\n[1] 1 0 2 2 0\n\n\n\n\n3.4.3 index of vector match\n\n\nCode\nword_list %&gt;% str_which('a')\n\n\n[1] 1 3 4\n\n\n\n\n3.4.4 index of each word match (first match)\n\n\nCode\nword_list %&gt;% str_locate('a')\n\n\n     start end\n[1,]     1   1\n[2,]    NA  NA\n[3,]     1   1\n[4,]     3   3\n[5,]    NA  NA\n\n\n\n\n3.4.5 index of each word match (all match)\n\n\nCode\nword_list %&gt;% str_locate_all('a')\n\n\n[[1]]\n     start end\n[1,]     1   1\n\n[[2]]\n     start end\n\n[[3]]\n     start end\n[1,]     1   1\n[2,]     4   4\n\n[[4]]\n     start end\n[1,]     3   3\n[2,]     4   4\n\n[[5]]\n     start end\n\n\n\n\nCode\ntrx='abc1993'\n\nnum=str_match(trx, \"(\\\\d)+\")\n\nnum\n\n\n     [,1]   [,2]\n[1,] \"1993\" \"3\"",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#concatenation",
    "href": "data manipulation/3 data manipulation with tidyverse.html#concatenation",
    "title": "Data manipulation with tidyverse",
    "section": "3.5 concatenation",
    "text": "3.5 concatenation\n\n\nCode\na='aaaa'\nb='bbbb'\n\n\n\n\nCode\npaste(a,b)\n\n\n[1] \"aaaa bbbb\"\n\n\n\n\nCode\npaste0(a,b)\n\n\n[1] \"aaaabbbb\"",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#replace-string",
    "href": "data manipulation/3 data manipulation with tidyverse.html#replace-string",
    "title": "Data manipulation with tidyverse",
    "section": "3.6 replace string",
    "text": "3.6 replace string\n\n3.6.1 str_replace()\n\n\nCode\ntext001=\"abcb\"\ntext001 %&gt;% str_replace('b','1')\n\n\n[1] \"a1cb\"\n\n\n\n\n3.6.2 str_replace_all()\n\n\nCode\ntext001=\"abcb\"\ntext001 %&gt;% str_replace_all('b','1')\n\n\n[1] \"a1c1\"\n\n\n\n\n3.6.3 replace with regular expression\nhttps://regex101.com/\n\n\nCode\nword2=c('a-b','M6D5','M6D54','M6D55','M6D5') %&gt;% as_tibble()\nword2\n\n\n# A tibble: 5 × 1\n  value\n  &lt;chr&gt;\n1 a-b  \n2 M6D5 \n3 M6D54\n4 M6D55\n5 M6D5 \n\n\nreplace D+all number with ’_’ ::: {.cell}\n\nCode\nword2 %&gt;% mutate(new=value %&gt;% str_replace_all('D\\\\d*','_'))\n\n\n# A tibble: 5 × 2\n  value new  \n  &lt;chr&gt; &lt;chr&gt;\n1 a-b   a-b  \n2 M6D5  M6_  \n3 M6D54 M6_  \n4 M6D55 M6_  \n5 M6D5  M6_  \n\n:::",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#split-string",
    "href": "data manipulation/3 data manipulation with tidyverse.html#split-string",
    "title": "Data manipulation with tidyverse",
    "section": "3.7 split string",
    "text": "3.7 split string\n\n\nCode\nword=c('a-b','1-c','c-c')\n\ndf_word=word %&gt;% as.data.frame() %&gt;% rename('word'='.')\n\n\n\n3.7.1 make 2 coloumn and split by - using stringr package\n\n\nCode\ndf_word\n\n\n  word\n1  a-b\n2  1-c\n3  c-c\n\n\n\n\nCode\nlibrary(stringr)\ndf_word$word %&gt;% str_split_fixed('-',2)\n\n\n     [,1] [,2]\n[1,] \"a\"  \"b\" \n[2,] \"1\"  \"c\" \n[3,] \"c\"  \"c\" \n\n\n\n\n3.7.2 make 2 coloumn and split by - using tidyr package\n\n\nCode\ndf_word\n\n\n  word\n1  a-b\n2  1-c\n3  c-c\n\n\n\n\nCode\nlibrary(tidyr)\ndf_word %&gt;% separate(word,c('col1','col2'),'-')\n\n\n  col1 col2\n1    a    b\n2    1    c\n3    c    c",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#subset-element-in-list",
    "href": "data manipulation/3 data manipulation with tidyverse.html#subset-element-in-list",
    "title": "Data manipulation with tidyverse",
    "section": "3.8 subset element in list",
    "text": "3.8 subset element in list\n\n\nCode\nword=c('aabbbasdf','apple','pet','melon')\n\n\n\n3.8.1 word with ‘a’\n\n\nCode\nword %&gt;% str_subset('a')\n\n\n[1] \"aabbbasdf\" \"apple\"    \n\n\n\n\n3.8.2 word with ‘a,e,i,o,u’\n\n\nCode\nword %&gt;% str_subset(\"[aeiou]\")\n\n\n[1] \"aabbbasdf\" \"apple\"     \"pet\"       \"melon\"    \n\n\n\n\n3.8.3 word with ‘pet’ or ‘melon’\n\n\nCode\nword %&gt;% str_subset('pet|melon')\n\n\n[1] \"pet\"   \"melon\"\n\n\n\n\n3.8.4 word with ‘pet’ or ‘melon’\n\n\nCode\nword %&gt;% str_subset('aa')\n\n\n[1] \"aabbbasdf\"",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#extract-string",
    "href": "data manipulation/3 data manipulation with tidyverse.html#extract-string",
    "title": "Data manipulation with tidyverse",
    "section": "3.9 extract string",
    "text": "3.9 extract string\n\n\nCode\ndata001=mtcars\ndata001 &lt;- cbind(names = rownames(data001), data001)\n\n\n\n3.9.1 by postion\nextract 2 to 4\n\n\nCode\ndata001$new_names=data001$names %&gt;% str_sub(2,4)\nhead(data001 %&gt;% select(new_names,names))\n\n\n                  new_names             names\nMazda RX4               azd         Mazda RX4\nMazda RX4 Wag           azd     Mazda RX4 Wag\nDatsun 710              ats        Datsun 710\nHornet 4 Drive          orn    Hornet 4 Drive\nHornet Sportabout       orn Hornet Sportabout\nValiant                 ali           Valiant\n\n\n\n\n3.9.2 extracting with Regular expressions\nextracting one letter\n\n\nCode\ntrx='abc1993 ccc'\ntrx %&gt;% str_extract(\"\\\\w\")\n\n\n[1] \"a\"\n\n\nextracting one letter/number\n\n\nCode\ntrx='abc1993 ccc'\ntrx %&gt;% str_extract(\".\")\n\n\n[1] \"a\"\n\n\nextracting one .\n\n\nCode\ntrx='abc1993.ccc'\ntrx %&gt;% str_extract(\"\\\\.\")\n\n\n[1] \".\"\n\n\nextracting 3 letter start with ‘a’\n\n\nCode\nword=c('aabbbasdfe. e','appl.e e','pet','melon','asdf g 133asd') %&gt;% as_tibble()\nword\n\n\n# A tibble: 5 × 1\n  value        \n  &lt;chr&gt;        \n1 aabbbasdfe. e\n2 appl.e e     \n3 pet          \n4 melon        \n5 asdf g 133asd\n\n\nextracting 2 letter start with ‘a’\n\n\nCode\nword %&gt;%mutate(new=value %&gt;% str_extract(\"a..\"))\n\n\n# A tibble: 5 × 2\n  value         new  \n  &lt;chr&gt;         &lt;chr&gt;\n1 aabbbasdfe. e aab  \n2 appl.e e      app  \n3 pet           &lt;NA&gt; \n4 melon         &lt;NA&gt; \n5 asdf g 133asd asd  \n\n\nextracting all letter start with ‘a’\n\n\nCode\nword %&gt;%mutate(new=value %&gt;% str_extract(\"a.+\"))\n\n\n# A tibble: 5 × 2\n  value         new          \n  &lt;chr&gt;         &lt;chr&gt;        \n1 aabbbasdfe. e aabbbasdfe. e\n2 appl.e e      appl.e e     \n3 pet           &lt;NA&gt;         \n4 melon         &lt;NA&gt;         \n5 asdf g 133asd asdf g 133asd\n\n\nextracting all letter between ‘a’ and ‘e’\n\n\nCode\nword %&gt;%mutate(new=value %&gt;% str_extract(\"(a).*?(e)\"))\n\n\n# A tibble: 5 × 2\n  value         new       \n  &lt;chr&gt;         &lt;chr&gt;     \n1 aabbbasdfe. e aabbbasdfe\n2 appl.e e      appl.e    \n3 pet           &lt;NA&gt;      \n4 melon         &lt;NA&gt;      \n5 asdf g 133asd &lt;NA&gt;      \n\n\nextracting all letter between ‘a’ and ‘.’\n\n\nCode\nword %&gt;%mutate(new=value %&gt;% str_extract(\"(a).*?(\\\\.)\"))\n\n\n# A tibble: 5 × 2\n  value         new        \n  &lt;chr&gt;         &lt;chr&gt;      \n1 aabbbasdfe. e aabbbasdfe.\n2 appl.e e      appl.      \n3 pet           &lt;NA&gt;       \n4 melon         &lt;NA&gt;       \n5 asdf g 133asd &lt;NA&gt;       \n\n\nextracting all letter between ‘a’ and space\n\n\nCode\nword %&gt;%mutate(new=value %&gt;% str_extract(\"(a).*?( )\"))\n\n\n# A tibble: 5 × 2\n  value         new           \n  &lt;chr&gt;         &lt;chr&gt;         \n1 aabbbasdfe. e \"aabbbasdfe. \"\n2 appl.e e      \"appl.e \"     \n3 pet            &lt;NA&gt;         \n4 melon          &lt;NA&gt;         \n5 asdf g 133asd \"asdf \"       \n\n\nextracting all letter end with number\n\n\nCode\nword %&gt;%mutate(new=value %&gt;% str_extract(\".*?\\\\d\")\n               , new2=new %&gt;% str_sub(end=-3)\n                                         \n)\n\n\n# A tibble: 5 × 3\n  value         new      new2  \n  &lt;chr&gt;         &lt;chr&gt;    &lt;chr&gt; \n1 aabbbasdfe. e &lt;NA&gt;     &lt;NA&gt;  \n2 appl.e e      &lt;NA&gt;     &lt;NA&gt;  \n3 pet           &lt;NA&gt;     &lt;NA&gt;  \n4 melon         &lt;NA&gt;     &lt;NA&gt;  \n5 asdf g 133asd asdf g 1 asdf g\n\n\nextracting one number\n\n\nCode\ntrx='abc1993 ccc'\ntrx %&gt;% str_extract(\"\\\\d\")\n\n\n[1] \"1\"\n\n\nextracting more number\n\n\nCode\ntrx='abc1993 ccc'\ntrx %&gt;% str_extract(\"(\\\\d)+\")\n\n\n[1] \"1993\"\n\n\nextracting more non number\n\n\nCode\ntrx='abc1993 ccc'\ntrx %&gt;% str_extract_all(\"\\\\D+\")\n\n\n[[1]]\n[1] \"abc\"  \" ccc\"\n\n\nextracting all letter from the begining\n\n\nCode\ntrx='abc1993 ccc'\ntrx %&gt;% str_extract(\"[:alpha:]+\")\n\n\n[1] \"abc\"\n\n\nextracting number after points:\n\n\nCode\ntrx=c('abcpoints:100 ccc','asdfasd','points:66','thisis points:6')\ntrx\n\n\n[1] \"abcpoints:100 ccc\" \"asdfasd\"           \"points:66\"        \n[4] \"thisis points:6\"  \n\n\nextracting number after points: and remove non match\n\n\nCode\nt=trx %&gt;% str_extract(\"points:[:digit:]+\") %&gt;% na.omit()%&gt;% str_extract(\"points:[:digit:]+\")\nt\n\n\n[1] \"points:100\" \"points:66\"  \"points:6\"",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#regular-expressions",
    "href": "data manipulation/3 data manipulation with tidyverse.html#regular-expressions",
    "title": "Data manipulation with tidyverse",
    "section": "3.10 Regular expressions",
    "text": "3.10 Regular expressions\n\n\nCode\nphones=c('abba','124','anna')\nphones\n\n\n[1] \"abba\" \"124\"  \"anna\"\n\n\n\n3.10.1 get a+ (b or n) + (b or n) + a\n\n\nCode\nphones %&gt;% str_view('a[bn][bn]a')\n\n\n[1] │ &lt;abba&gt;\n[3] │ &lt;anna&gt;\n\n\n\n\n3.10.2 bb or nn\n\n\nCode\nphones %&gt;% str_view('(bb|nn)')\n\n\n[1] │ a&lt;bb&gt;a\n[3] │ a&lt;nn&gt;a",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#date-format",
    "href": "data manipulation/3 data manipulation with tidyverse.html#date-format",
    "title": "Data manipulation with tidyverse",
    "section": "4.1 date format",
    "text": "4.1 date format\ninput as character\n\n\nCode\ndate1='2023-01-01'\nclass(date1)\n\n\n[1] \"character\"\n\n\n\n\nCode\ndate1\n\n\n[1] \"2023-01-01\"\n\n\nconvert into date type with as.Date()\n\n\nCode\ndate2=as.Date('2023-01-01')\nclass(date2)\n\n\n[1] \"Date\"\n\n\n\n\nCode\ndate2\n\n\n[1] \"2023-01-01\"\n\n\nconvert into date type with ymd()\n\n\nCode\ndate3=ymd('2023-01-01')\nclass(date3)\n\n\n[1] \"Date\"\n\n\n\n\nCode\ndate3\n\n\n[1] \"2023-01-01\"\n\n\nget today with today()\n\n\nCode\ntoday()\n\n\n[1] \"2025-06-15\"\n\n\nget local timezone\n\n\nCode\nSys.timezone()\n\n\n[1] \"Asia/Macau\"",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#change-date-format",
    "href": "data manipulation/3 data manipulation with tidyverse.html#change-date-format",
    "title": "Data manipulation with tidyverse",
    "section": "4.2 change date format",
    "text": "4.2 change date format\nmake multiple column character to date with make_date()\n\n\nCode\nflights %&gt;% \n  select(year, month, day, hour, minute) %&gt;% \n  mutate(departure = make_date(year, month, day))\n\n\n# A tibble: 336,776 × 6\n    year month   day  hour minute departure \n   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;date&gt;    \n 1  2013     1     1     5     15 2013-01-01\n 2  2013     1     1     5     29 2013-01-01\n 3  2013     1     1     5     40 2013-01-01\n 4  2013     1     1     5     45 2013-01-01\n 5  2013     1     1     6      0 2013-01-01\n 6  2013     1     1     5     58 2013-01-01\n 7  2013     1     1     6      0 2013-01-01\n 8  2013     1     1     6      0 2013-01-01\n 9  2013     1     1     6      0 2013-01-01\n10  2013     1     1     6      0 2013-01-01\n# ℹ 336,766 more rows\n\n\n\n\nCode\nflights %&gt;% \n  select(year, month, day, hour, minute) %&gt;% \n  mutate(departure = make_datetime(year, month, day, hour, minute))\n\n\n# A tibble: 336,776 × 6\n    year month   day  hour minute departure          \n   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dttm&gt;             \n 1  2013     1     1     5     15 2013-01-01 05:15:00\n 2  2013     1     1     5     29 2013-01-01 05:29:00\n 3  2013     1     1     5     40 2013-01-01 05:40:00\n 4  2013     1     1     5     45 2013-01-01 05:45:00\n 5  2013     1     1     6      0 2013-01-01 06:00:00\n 6  2013     1     1     5     58 2013-01-01 05:58:00\n 7  2013     1     1     6      0 2013-01-01 06:00:00\n 8  2013     1     1     6      0 2013-01-01 06:00:00\n 9  2013     1     1     6      0 2013-01-01 06:00:00\n10  2013     1     1     6      0 2013-01-01 06:00:00\n# ℹ 336,766 more rows",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#day-differnce-between-two-dates",
    "href": "data manipulation/3 data manipulation with tidyverse.html#day-differnce-between-two-dates",
    "title": "Data manipulation with tidyverse",
    "section": "4.3 day differnce between two dates",
    "text": "4.3 day differnce between two dates\n\n\nCode\nday1=ymd('2022-01-01')\nday2=ymd('2023-02-03')\n\ndiff=day2-day1\n\n\n\n\nCode\ndiff\n\n\nTime difference of 398 days\n\n\nusing interval() find two dates gap\n\n\nCode\ninterval(day1,day2) %&gt;% as.period()\n\n\n[1] \"1y 1m 2d 0H 0M 0S\"\n\n\nfind day gap\n\n\nCode\ninterval(day1,day2)%/% days(1)\n\n\n[1] 398\n\n\nfind month gap\n\n\nCode\ninterval(day1,day2)%/% months(1)\n\n\n[1] 13\n\n\nfind year gap\n\n\nCode\ninterval(day1,day2)%/% years(1)\n\n\n[1] 1",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#day-and-time",
    "href": "data manipulation/3 data manipulation with tidyverse.html#day-and-time",
    "title": "Data manipulation with tidyverse",
    "section": "4.4 day and time",
    "text": "4.4 day and time\n\n\nCode\nnow_time=now()\nnow_time\n\n\n[1] \"2025-06-15 17:06:36 CST\"\n\n\n\n4.4.1 get year\n\n\nCode\nyear(now_time)\n\n\n[1] 2025\n\n\n\n\n4.4.2 get month\n\n\nCode\nmonth(now_time)\n\n\n[1] 6\n\n\n\n\n4.4.3 get date of the month\n\n\nCode\nmday(now_time)\n\n\n[1] 15\n\n\n\n\n4.4.4 get date of the year\n\n\nCode\nyday(now_time)\n\n\n[1] 166\n\n\n\n\n4.4.5 get date of the week\n\n\nCode\nwday(now_time)\n\n\n[1] 1\n\n\n\n4.4.5.1 get hour\n\n\nCode\nhour(now_time)\n\n\n[1] 17\n\n\n\n\n\n4.4.6 get minute\n\n\nCode\nminute(now_time)\n\n\n[1] 6\n\n\n\n\n4.4.7 get second\n\n\nCode\nsecond(now_time)\n\n\n[1] 36.49867",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-other-data-format",
    "href": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-other-data-format",
    "title": "Data manipulation with tidyverse",
    "section": "4.5 dataframe to other data format",
    "text": "4.5 dataframe to other data format\n\n4.5.1 dataframe to vector\n\n\nCode\ndata=small_mtcars$cyl\ndata\n\n\n[1] 6 6 4 6 8 6\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"numeric\"\n\n\n\n\n4.5.2 dataframe to matrix\n\n\nCode\ndata=data.matrix(small_mtcars)\ndata\n\n\n     car_name cyl  mpg  hp\n[1,]        4   6 21.0 110\n[2,]        5   6 21.0 110\n[3,]        1   4 22.8  93\n[4,]        2   6 21.4 110\n[5,]        3   8 18.7 175\n[6,]        6   6 18.1 105\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"matrix\" \"array\" \n\n\n\n\n4.5.3 dataframe to list\n\n\nCode\ndata=as.list(small_mtcars)\ndata\n\n\n$car_name\n[1] \"Mazda RX4\"         \"Mazda RX4 Wag\"     \"Datsun 710\"       \n[4] \"Hornet 4 Drive\"    \"Hornet Sportabout\" \"Valiant\"          \n\n$cyl\n[1] 6 6 4 6 8 6\n\n$mpg\n[1] 21.0 21.0 22.8 21.4 18.7 18.1\n\n$hp\n[1] 110 110  93 110 175 105\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"list\"",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html",
    "href": "data manipulation/2 data structure in R.html",
    "title": "Data structure in R",
    "section": "",
    "text": "::: {.cell}\n:::",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#create-sequence-vector",
    "href": "data manipulation/2 data structure in R.html#create-sequence-vector",
    "title": "Data structure in R",
    "section": "1.1 create sequence vector",
    "text": "1.1 create sequence vector\n\n\nCode\nseq(from = 2, to = 14, by = 2) \n\n\n[1]  2  4  6  8 10 12 14",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#create-repeat-vector",
    "href": "data manipulation/2 data structure in R.html#create-repeat-vector",
    "title": "Data structure in R",
    "section": "1.2 create repeat vector",
    "text": "1.2 create repeat vector\n\n\nCode\nrep(x = 1.5, times = 4)  \n\n\n[1] 1.5 1.5 1.5 1.5",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#create-random-vector",
    "href": "data manipulation/2 data structure in R.html#create-random-vector",
    "title": "Data structure in R",
    "section": "1.3 create random vector",
    "text": "1.3 create random vector\ncreate 5 random number from 1 to 10 without replacement\n\n\nCode\nsample(1:10,5, replace=F) \n\n\n[1] 6 7 2 1 8\n\n\ncreate 5 random number from 1 to 10 with replacement\n\n\nCode\nsample(1:10,5, replace=T) \n\n\n[1] 4 6 6 8 5\n\n\ncreate 1 random number from 0 to 1 from random uniform distribution\n\n\nCode\nrunif(1, min=0, max=1)\n\n\n[1] 0.5690518\n\n\ngenerate 4 random number that follows the normal distribution with mean being 0 and standard deviation being 1\n\n\nCode\nsn1 &lt;- rnorm(4, mean=0, sd=1) # standard nromal\nsn1\n\n\n[1]  0.59119881  0.14159089 -0.43121657  0.04111442",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#create-unique-vector",
    "href": "data manipulation/2 data structure in R.html#create-unique-vector",
    "title": "Data structure in R",
    "section": "1.4 create unique vector",
    "text": "1.4 create unique vector\n\n\nCode\nv1=c(1,1,2,2,5,6)\nv1\n\n\n[1] 1 1 2 2 5 6\n\n\n\n\nCode\nunique(v1)\n\n\n[1] 1 2 5 6",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#append-vector",
    "href": "data manipulation/2 data structure in R.html#append-vector",
    "title": "Data structure in R",
    "section": "1.5 append vector",
    "text": "1.5 append vector\n\n\nCode\nx=c(1,2,3)\ny=c(4,5,6)\nz=c(x,y)\nz\n\n\n[1] 1 2 3 4 5 6",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#remove-element-in-vector",
    "href": "data manipulation/2 data structure in R.html#remove-element-in-vector",
    "title": "Data structure in R",
    "section": "1.6 remove element in vector",
    "text": "1.6 remove element in vector\n\n\nCode\nx=c(1,2,3,4,5)\nx\n\n\n[1] 1 2 3 4 5\n\n\n\n1.6.1 remove first one\n\n\nCode\nx[-1]\n\n\n[1] 2 3 4 5\n\n\n\n\n1.6.2 remove last one\n\n\nCode\nx[-length(x)]\n\n\n[1] 1 2 3 4\n\n\n\n\n1.6.3 remove from last second\n\n\nCode\nx[1:(length(x)-2)]\n\n\n[1] 1 2 3\n\n\n\n\n1.6.4 remove from from another vector\n\n\nCode\nremove=c(2,4)\nx[-remove]\n\n\n[1] 1 3 5",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#sort-vector",
    "href": "data manipulation/2 data structure in R.html#sort-vector",
    "title": "Data structure in R",
    "section": "1.7 sort vector",
    "text": "1.7 sort vector\n\n\nCode\na=c(2,4,6,1,4)\n\n\n\n\nCode\nsort(a)\n\n\n[1] 1 2 4 4 6\n\n\n\n\nCode\nsort(a,decreasing=TRUE)\n\n\n[1] 6 4 4 2 1",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#vector-length",
    "href": "data manipulation/2 data structure in R.html#vector-length",
    "title": "Data structure in R",
    "section": "1.8 vector length",
    "text": "1.8 vector length\n\n\nCode\nlength(a)\n\n\n[1] 5",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#calculate-vector",
    "href": "data manipulation/2 data structure in R.html#calculate-vector",
    "title": "Data structure in R",
    "section": "1.9 calculate vector",
    "text": "1.9 calculate vector\n\n\nCode\nx=c(1,2,3,4,5)\n\nsum(x)\n\n\n[1] 15",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#select-vector-element",
    "href": "data manipulation/2 data structure in R.html#select-vector-element",
    "title": "Data structure in R",
    "section": "1.10 select vector element",
    "text": "1.10 select vector element\n\n\nCode\nx=c(1,2,3,6,9,10)\n\n\n\n1.10.1 select first\n\n\nCode\nx[1]\n\n\n[1] 1\n\n\nor\n\n\nCode\nx %&gt;% nth(1)\n\n\n[1] 1\n\n\n\n\n1.10.2 select last\n\n\nCode\nx %&gt;% last()\n\n\n[1] 10\n\n\nor\n\n\nCode\nx %&gt;% nth(-1)\n\n\n[1] 10\n\n\n\n\n1.10.3 select second last\n\n\nCode\nx %&gt;% nth(-2)\n\n\n[1] 9\n\n\n\n\n1.10.4 select first to 3th\n\n\nCode\nx[1:3]\n\n\n[1] 1 2 3\n\n\n\n\n1.10.5 select last one to last 3th\n\n\nCode\nx[-3:-1]\n\n\n[1]  6  9 10",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#compare-two-vector",
    "href": "data manipulation/2 data structure in R.html#compare-two-vector",
    "title": "Data structure in R",
    "section": "1.11 compare two vector",
    "text": "1.11 compare two vector\n\n\nCode\nxx=c(1,2,3,4)\nxx\n\n\n[1] 1 2 3 4\n\n\n\n\nCode\nyy=c(2,4)\nyy\n\n\n[1] 2 4\n\n\nfind number only in xx not in yy\n\n\nCode\nsetdiff(xx, yy)\n\n\n[1] 1 3",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#vector-converting-between-types",
    "href": "data manipulation/2 data structure in R.html#vector-converting-between-types",
    "title": "Data structure in R",
    "section": "1.12 vector Converting between types",
    "text": "1.12 vector Converting between types\n\n1.12.1 to factor\n\n\nCode\nx &lt;- c(\"a\", \"g\", \"b\")\ny=as.factor(x)\ny\n\n\n[1] a g b\nLevels: a b g\n\n\n\n\n1.12.2 to numeric\n\n\nCode\nx &lt;- c('123','44', '222')\ny=as.numeric(x)\ny\n\n\n[1] 123  44 222\n\n\n\n\n1.12.3 to character\n\n\nCode\nx &lt;- c(123123,111,5555)\ny=as.character(x)\ny\n\n\n[1] \"123123\" \"111\"    \"5555\"  \n\n\n\n\n1.12.4 to boolen\n\n\nCode\nx &lt;- c(1,0,1)\ny=as.logical(x)\ny\n\n\n[1]  TRUE FALSE  TRUE",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#vector-to-other-data-format",
    "href": "data manipulation/2 data structure in R.html#vector-to-other-data-format",
    "title": "Data structure in R",
    "section": "1.13 vector to other data format",
    "text": "1.13 vector to other data format\n\n1.13.1 vector to dataframe\n\n\nCode\nName &lt;- c(\"Jhon\", \"Lee\", \"Suzan\", \"Abhinav\", \n          \"Brain\", \"Emma\", \"David\", \"Alice\") \n\n   \nMarks &lt;- c(56, 76, 86, 96, 73, 87, 47, 98) \n    \n\ndata&lt;- data.frame(Name,Marks) \ndata\n\n\n     Name Marks\n1    Jhon    56\n2     Lee    76\n3   Suzan    86\n4 Abhinav    96\n5   Brain    73\n6    Emma    87\n7   David    47\n8   Alice    98\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"data.frame\"\n\n\n\n\n1.13.2 verctor to matrix\n\n\nCode\nv1 &lt;- c(56, 76, 86, 96, 73, 87, 47, 98) \n\n\n\n\nCode\ndata&lt;-matrix(v1,nrow=4)\ndata\n\n\n     [,1] [,2]\n[1,]   56   73\n[2,]   76   87\n[3,]   86   47\n[4,]   96   98\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"matrix\" \"array\" \n\n\nother way: ::: {.cell}\n\nCode\ndata&lt;-matrix(c(v1,v1),ncol = 2)\ndata\n\n\n     [,1] [,2]\n[1,]   56   56\n[2,]   76   76\n[3,]   86   86\n[4,]   96   96\n[5,]   73   73\n[6,]   87   87\n[7,]   47   47\n[8,]   98   98\n\n:::\n\n\n1.13.3 verctor to list\n\n\nCode\ndata=list(v1)\ndata\n\n\n[[1]]\n[1] 56 76 86 96 73 87 47 98\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"list\"\n\n\neach element in vetor as a element in list\n\n\nCode\ndata=as.list(v1)\ndata\n\n\n[[1]]\n[1] 56\n\n[[2]]\n[1] 76\n\n[[3]]\n[1] 86\n\n[[4]]\n[1] 96\n\n[[5]]\n[1] 73\n\n[[6]]\n[1] 87\n\n[[7]]\n[1] 47\n\n[[8]]\n[1] 98\n\n\n\n\n1.13.4 verctor to array\n3D array ::: {.cell}\n\nCode\nvec1=c(1:5) \n \nvec2=c(6:10) \n \narr=array(c(vec1,vec2),dim=c(2,5,3)) \n \n# printing the array\nclass(arr)\n\n\n[1] \"array\"\n\n:::\n\n\nCode\narr\n\n\n, , 1\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    3    5    7    9\n[2,]    2    4    6    8   10\n\n, , 2\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    3    5    7    9\n[2,]    2    4    6    8   10\n\n, , 3\n\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    1    3    5    7    9\n[2,]    2    4    6    8   10",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#dataframe-to-other-data-format",
    "href": "data manipulation/2 data structure in R.html#dataframe-to-other-data-format",
    "title": "Data structure in R",
    "section": "2.1 dataframe to other data format",
    "text": "2.1 dataframe to other data format\n\n2.1.1 dataframe to matrix\n\n\nCode\nmat &lt;- as.matrix(df)\n\nclass(mat)\n\n\n[1] \"matrix\" \"array\" \n\n\n\n\nCode\nmat\n\n\n     Name    Language Age \n[1,] \"Amiya\" \"R\"      \"22\"\n[2,] \"Raj\"   \"Python\" \"25\"\n[3,] \"Asish\" \"Java\"   \"45\"\n\n\n\n\n2.1.2 dataframe to vector\n\n\nCode\nvec=df[['Name']]\n\nclass(vec)\n\n\n[1] \"character\"\n\n\n\n\nCode\nvec\n\n\n[1] \"Amiya\" \"Raj\"   \"Asish\"\n\n\n\n\n2.1.3 dataframe to list\n\n\nCode\nlist=as.list(df[['Name']])\n\nclass(list)\n\n\n[1] \"list\"\n\n\n\n\nCode\nlist\n\n\n[[1]]\n[1] \"Amiya\"\n\n[[2]]\n[1] \"Raj\"\n\n[[3]]\n[1] \"Asish\"",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data structure in R.html#matrix-to-other-data-format",
    "href": "data manipulation/2 data structure in R.html#matrix-to-other-data-format",
    "title": "Data structure in R",
    "section": "3.1 matrix to other data format",
    "text": "3.1 matrix to other data format\n\n3.1.1 matrix to dataframe\n\n\nCode\ndf &lt;- as.data.frame(matrix003)\n\nclass(df)\n\n\n[1] \"data.frame\"\n\n\n\n\nCode\ndf\n\n\n  V1 V2 V3\n1  1  4  9\n2 16 25 36\n3 49 64 81\n\n\n\n\n3.1.2 matrix to vector\n\n\nCode\nvec=as.vector(matrix003)\n\nclass(vec)\n\n\n[1] \"numeric\"\n\n\n\n\nCode\nvec\n\n\n[1]  1 16 49  4 25 64  9 36 81\n\n\n\n\n3.1.3 matrix to list\n\n\nCode\nlist=as.list(matrix003)\n\nclass(list)\n\n\n[1] \"list\"\n\n\n\n\nCode\nlist\n\n\n[[1]]\n[1] 1\n\n[[2]]\n[1] 16\n\n[[3]]\n[1] 49\n\n[[4]]\n[1] 4\n\n[[5]]\n[1] 25\n\n[[6]]\n[1] 64\n\n[[7]]\n[1] 9\n\n[[8]]\n[1] 36\n\n[[9]]\n[1] 81",
    "crumbs": [
      "data manipulation",
      "Data structure in R"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html",
    "href": "data manipulation/4 data table.html",
    "title": "Data Tables in R",
    "section": "",
    "text": "This document provides a comprehensive guide to creating a wide variety of tables in R, from simple static tables to complex, interactive, and publication-ready displays. We will explore several powerful packages, each with its own strengths.\n\n1 1. gt: For Beautiful, Presentation-Ready Tables\n\nThe gt package is designed for creating beautiful and highly customizable tables. It follows a “grammar of tables” philosophy, allowing you to build a table layer by layer, from the data to the header, footer, and cell formatting. This makes it ideal for tables in reports, presentations, and publications where appearance and clarity are paramount.\n\nThis example demonstrates how to create a rich, informative table from the sp500 dataset included with gt.\n\n\nCode\nlibrary(gt)\nlibrary(tidyverse)\nlibrary(glue)\n\n# Define the start and end dates for the data range\nstart_date &lt;- \"2010-06-07\"\nend_date &lt;- \"2010-06-14\"\n\n# Create a gt table from preprocessed sp500 data\nsp500 |&gt;\n  filter(date &gt;= start_date & date &lt;= end_date) |&gt;\n  select(-adj_close) |&gt;\n  gt() |&gt;\n  # Add a title and subtitle using markdown for formatting\n  tab_header(\n    title = md(\"**S&P 500 Daily Prices**\"),\n    subtitle = glue(\"Data from {start_date} to {end_date}\")\n  ) |&gt;\n  # Format columns for currency, dates, and large numbers\n  fmt_currency(columns = c(open, high, low, close)) |&gt;\n  fmt_date(columns = date, date_style = \"wd_m_day_year\") |&gt;\n  fmt_number(columns = volume, suffixing = TRUE) |&gt;\n  # Add a source note with a link\n  tab_source_note(\n    source_note = html(\"Source: &lt;a href='https://www.spglobal.com/'&gt;S&P Global&lt;/a&gt;\")\n  ) |&gt;\n  # Center-align all columns\n  cols_align(\n    align = \"center\",\n    columns = everything()\n  ) |&gt;\n  # Add a color scale to the `close` column to highlight values\n  data_color(\n    columns = close,\n    colors = scales::col_numeric(\n      palette = c(\"#FEEBDB\", \"#FDD8B0\", \"#FDC686\", \"#FDB35B\", \"#FD9F2C\"),\n      domain = range(sp500$close)\n    )\n  )\n\n\n\n\n\n\n\n\nS&P 500 Daily Prices\n\n\nData from 2010-06-07 to 2010-06-14\n\n\ndate\nopen\nhigh\nlow\nclose\nvolume\n\n\n\n\nMon, Jun 14, 2010\n$1,095.00\n$1,105.91\n$1,089.03\n$1,089.63\n4.43B\n\n\nFri, Jun 11, 2010\n$1,082.65\n$1,092.25\n$1,077.12\n$1,091.60\n4.06B\n\n\nThu, Jun 10, 2010\n$1,058.77\n$1,087.85\n$1,058.77\n$1,086.84\n5.14B\n\n\nWed, Jun 9, 2010\n$1,062.75\n$1,077.74\n$1,052.25\n$1,055.69\n5.98B\n\n\nTue, Jun 8, 2010\n$1,050.81\n$1,063.15\n$1,042.17\n$1,062.00\n6.19B\n\n\nMon, Jun 7, 2010\n$1,065.84\n$1,071.36\n$1,049.86\n$1,050.47\n5.47B\n\n\n\nSource: S&P Global\n\n\n\n\n\n\n\n\n\n\n2 2. DT: For Interactive Data Exploration\nThe DT package provides an R interface to the powerful JavaScript library DataTables. It turns a standard R data frame into an interactive HTML table that supports live filtering, pagination, sorting, and exporting. It is perfect for data exploration in R Markdown documents and Shiny apps.\n\n\n\nCode\nlibrary(DT)\n\n\nThis is a basic example of an interactive table using the iris dataset.\n\n\nCode\niris |&gt; datatable(options = list(pageLength = 5, scrollX = TRUE))\n\n\n\n\n\n\n\n2.0.1 Advanced Formatting and Styling\nDT allows for extensive styling using the format*() family of functions. You can add color bars, conditional formatting, and more.\n\n\nCode\n# Take a sample of the iris dataset for a cleaner look\nsample_iris &lt;- iris[c(1:5, 51:55, 101:105), ]\n\nsample_iris |&gt; \n  datatable(options = list(pageLength = 5)) %&gt;% \n  # Bold the Sepal.Length for values &gt; 5\n  formatStyle('Sepal.Length', fontWeight = styleInterval(5, c('normal', 'bold'))) %&gt;% \n  # Apply conditional colors to Sepal.Width\n  formatStyle(\n    'Sepal.Width',\n    color = styleInterval(c(3.0, 3.5), c('red', 'orange', 'green')),\n    backgroundColor = styleInterval(3.0, c('lightgray', 'lightyellow'))\n  ) %&gt;% \n  # Add a background color bar to Petal.Length\n  formatStyle(\n    'Petal.Length',\n    background = styleColorBar(range(iris$Petal.Length), 'steelblue'),\n    backgroundSize = '100% 90%',\n    backgroundRepeat = 'no-repeat',\n    backgroundPosition = 'center'\n  ) %&gt;% \n  # Style the Species column\n  formatStyle(\n    'Species',\n    backgroundColor = styleEqual(\n      unique(iris$Species), c('lightblue', 'lightgreen', 'lightpink')\n    )\n  )\n\n\n\n\n\n\n\n\n2.0.2 Table Export Buttons\nThe Buttons extension adds buttons to the table for exporting the data to formats like CSV, Excel, and PDF, or for copying to the clipboard.\n\n\nCode\niris |&gt; datatable(\n  extensions = 'Buttons', \n  options = list(\n    dom = 'Bfrtip', # Defines the layout, B is for buttons\n    buttons = c('copy', 'csv', 'excel', 'pdf', 'print'),\n    pageLength = 5\n  )\n)\n\n\n\n\n\n\n\n\n\n3 3. reactable: For Modern and Feature-Rich Interactive Tables\nreactable is another excellent package for creating interactive tables, known for its modern look, rich feature set, and ease of use. It supports sorting, filtering, grouping, and aggregation out of the box.\n\n\nCode\nlibrary(reactable)\nlibrary(reactablefmtr)\n\nmtcars %&gt;% \n  rownames_to_column(\"car_name\") %&gt;% \n  select(car_name, mpg, cyl, hp, gear) %&gt;% \n  reactable(\n    filterable = TRUE, # Add column filters\n    searchable = TRUE,   # Add a global search box\n    groupBy = \"cyl\",     # Group by number of cylinders\n    columns = list(\n      hp = colDef(aggregate = \"mean\", format = colFormat(digits = 1)), # Show mean HP for each group\n      gear = colDef(aggregate = \"max\"), # Show max gears for each group\n      # Custom cell rendering to add a bar chart for mpg\n      mpg = colDef(cell = data_bars(., text_position = \"above\", box_shadow = TRUE))\n    ),\n    defaultPageSize = 10\n  ) %&gt;% \n  add_title(title = 'MTCars Dataset Summary') %&gt;% \n  add_subtitle(subtitle = 'Grouped by Cylinders', font_weight = 'normal')\n\n\nMTCars Dataset Summary\nGrouped by Cylinders\n\n\n\n\n\n\n4 4. knitr::kable: For Simple, Static Tables\nknitr::kable() is a simple and lightweight function for creating clean, static tables in various formats like HTML, LaTeX, and Markdown. It’s perfect for quick reports and documents where interactivity is not needed. The kableExtra package adds many styling options.\n\n\nCode\nlibrary(knitr)\nlibrary(kableExtra)\n\nmtcars %&gt;% \n  head() %&gt;% \n  kable(caption = \"A Simple Static Table with kable\") %&gt;% \n  kable_styling(bootstrap_options = c(\"striped\", \"hover\"), full_width = F)\n\n\n\nA Simple Static Table with kable\n\n\n\nmpg\ncyl\ndisp\nhp\ndrat\nwt\nqsec\nvs\nam\ngear\ncarb\n\n\n\n\nMazda RX4\n21.0\n6\n160\n110\n3.90\n2.620\n16.46\n0\n1\n4\n4\n\n\nMazda RX4 Wag\n21.0\n6\n160\n110\n3.90\n2.875\n17.02\n0\n1\n4\n4\n\n\nDatsun 710\n22.8\n4\n108\n93\n3.85\n2.320\n18.61\n1\n1\n4\n1\n\n\nHornet 4 Drive\n21.4\n6\n258\n110\n3.08\n3.215\n19.44\n1\n0\n3\n1\n\n\nHornet Sportabout\n18.7\n8\n360\n175\n3.15\n3.440\n17.02\n0\n0\n3\n2\n\n\nValiant\n18.1\n6\n225\n105\n2.76\n3.460\n20.22\n1\n0\n3\n1\n\n\n\n\n\n\n\nFor longer tables, rmarkdown::paged_table() creates a scrollable, paged version, which is more user-friendly than a very long static table.\n\n\nCode\nlibrary(rmarkdown)\nmtcars %&gt;% paged_table()\n\n\n\n  \n\n\n\n\n\n5 5. flextable: For Publication-Ready Tables in Office Documents\nThe flextable package is designed to create tables for reporting, with a focus on producing high-quality output for Microsoft Word, PowerPoint, and HTML documents. It offers a high degree of control over formatting, including cell merging, borders, and fonts.\n\n\nCode\nlibrary(flextable)\n\n# Create a basic flextable\nft &lt;- flextable(head(mtcars))\n\n# Apply formatting\nft &lt;- ft %&gt;% \n  set_header_labels(mpg = \"Miles per Gallon\", cyl = \"Cylinders\") %&gt;% \n  theme_booktabs() %&gt;% \n  autofit() %&gt;% \n  set_caption(\"A Publication-Ready Table with flextable\") %&gt;% \n  color(j = ~ mpg, color = \"red\") %&gt;% \n  bold(j = ~ cyl, bold = TRUE)\n\nft\n\n\nMiles per GallonCylindersdisphpdratwtqsecvsamgearcarb21.061601103.902.62016.46014421.061601103.902.87517.02014422.84108933.852.32018.61114121.462581103.083.21519.44103118.783601753.153.44017.02003218.162251052.763.46020.221031\n\n\n\n\n6 6. Conclusion: Which Package Should You Use?\n\nFor beautiful, static reports and publications: Use gt.\nFor interactive data exploration in R Markdown or Shiny: Use DT or reactable. reactable has a more modern feel and powerful grouping features, while DT is very mature and has a rich ecosystem of extensions.\nFor quick, simple static tables: Use knitr::kable with kableExtra for styling.\nFor reports destined for Microsoft Office (Word, PowerPoint): Use flextable.\n\n\n\n7 7. References\n\ngt Package\nDT Package\nreactable Package\nflextable Package\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "Data Tables in R"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html#packages-that-use-or-extend-gt",
    "href": "data manipulation/4 data table.html#packages-that-use-or-extend-gt",
    "title": "Data table",
    "section": "",
    "text": "There are several R packages that either use gt to generate tabular outputs or extend gt in amazing ways. Here is a short list of some of these great packages:\n\ngtsummary (GITHUB, WEBSITE)\ngtExtras (GITHUB, WEBSITE)\npointblank (GITHUB, WEBSITE)\ntfrmt (GITHUB, WEBSITE)\ngto (GITHUB)",
    "crumbs": [
      "data manipulation",
      "Data table"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html#reference",
    "href": "data manipulation/4 data table.html#reference",
    "title": "Data table",
    "section": "",
    "text": "https://gt.rstudio.com/",
    "crumbs": [
      "data manipulation",
      "Data table"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html#reference-1",
    "href": "data manipulation/4 data table.html#reference-1",
    "title": "Data table",
    "section": "2.4 reference:",
    "text": "2.4 reference:\nhttps://rstudio.github.io/DT/",
    "crumbs": [
      "data manipulation",
      "Data table"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html#pages-data",
    "href": "data manipulation/4 data table.html#pages-data",
    "title": "Data table",
    "section": "4.1 pages data",
    "text": "4.1 pages data\n\n\nCode\nlibrary(rmarkdown)\nmtcars %&gt;% paged_table()",
    "crumbs": [
      "data manipulation",
      "Data table"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html#reference-2",
    "href": "data manipulation/4 data table.html#reference-2",
    "title": "Data table",
    "section": "3.1 reference:",
    "text": "3.1 reference:\nhttps://www.youtube.com/watch?v=E3ubwU5Uyqw",
    "crumbs": [
      "data manipulation",
      "Data table"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#create-database-file-pythonsqlite.db-and-copy-mtcars-data-and-iris-data-into-database",
    "href": "data manipulation/6 SQL database.html#create-database-file-pythonsqlite.db-and-copy-mtcars-data-and-iris-data-into-database",
    "title": "SQL database with R",
    "section": "1.1 create database file pythonsqlite.db and copy mtcars data and iris data into database",
    "text": "1.1 create database file pythonsqlite.db and copy mtcars data and iris data into database\n\n\nCode\nmtcars=cbind(newColName = rownames(mtcars), mtcars)\n\n\n\n\nCode\n# Create an ephemeral in-memory RSQLite database\ncon &lt;- dbConnect(RSQLite::SQLite(), \"my_sql_database\")\n\n# view database on IDE\nconnection_view(con)\n\n\n\n\nCode\ndbWriteTable(con, \"mtcars\", mtcars,overwrite=TRUE)\ndbWriteTable(con, \"iris\", iris,overwrite=TRUE)",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#check-all-table-in-database",
    "href": "data manipulation/6 SQL database.html#check-all-table-in-database",
    "title": "SQL database with R",
    "section": "1.2 check all table in database",
    "text": "1.2 check all table in database\n\n\nCode\ndbListTables(con)\n\n\n[1] \"iris\"   \"mtcars\"",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#select",
    "href": "data manipulation/6 SQL database.html#select",
    "title": "SQL database with R",
    "section": "2.1 select",
    "text": "2.1 select\n\n\nCode\nsql =\"SELECT * FROM mtcars LIMIT 3\"\ntable=dbGetQuery(con,sql)\ntable\n\n\n     newColName  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1     Mazda RX4 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3    Datsun 710 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#renaming-column",
    "href": "data manipulation/6 SQL database.html#renaming-column",
    "title": "SQL database with R",
    "section": "2.2 Renaming column",
    "text": "2.2 Renaming column\n\n\nCode\nsql=\"select mpg as new_mpg from mtcars\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n  new_mpg\n1    21.0\n2    21.0\n3    22.8\n4    21.4\n5    18.7\n6    18.1",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#create-column",
    "href": "data manipulation/6 SQL database.html#create-column",
    "title": "SQL database with R",
    "section": "2.3 create column",
    "text": "2.3 create column\n\n\nCode\nsql=\"select mpg+1 as new_mpg,mpg from mtcars\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n  new_mpg  mpg\n1    22.0 21.0\n2    22.0 21.0\n3    23.8 22.8\n4    22.4 21.4\n5    19.7 18.7\n6    19.1 18.1",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#filter-rows",
    "href": "data manipulation/6 SQL database.html#filter-rows",
    "title": "SQL database with R",
    "section": "2.4 Filter rows",
    "text": "2.4 Filter rows\n\n\nCode\nsql=\"select * from mtcars where hp&gt;100\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n         newColName  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1         Mazda RX4 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2     Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3    Hornet 4 Drive 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\n4 Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n5           Valiant 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1\n6        Duster 360 14.3   8  360 245 3.21 3.570 15.84  0  0    3    4\n\n\n\n2.4.1 Filters with AND conditions\n\n\nCode\nsql=\"select * from mtcars where hp&gt;100 and drat&lt;3\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n          newColName  mpg cyl disp  hp drat   wt  qsec vs am gear carb\n1            Valiant 18.1   6  225 105 2.76 3.46 20.22  1  0    3    1\n2 Cadillac Fleetwood 10.4   8  472 205 2.93 5.25 17.98  0  0    3    4\n3   Dodge Challenger 15.5   8  318 150 2.76 3.52 16.87  0  0    3    2\n\n\n\n\n2.4.2 Filters with or conditions\n\n\nCode\nsql=\"select * from mtcars where hp&gt;100 or drat&lt;3\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n         newColName  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1         Mazda RX4 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2     Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3    Hornet 4 Drive 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\n4 Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n5           Valiant 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1\n6        Duster 360 14.3   8  360 245 3.21 3.570 15.84  0  0    3    4",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#append",
    "href": "data manipulation/6 SQL database.html#append",
    "title": "SQL database with R",
    "section": "2.5 Append",
    "text": "2.5 Append\n\n2.5.1 append by row\n\n\nCode\nsql=\"select * from mtcars union all select * from mtcars \"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n         newColName  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1         Mazda RX4 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2     Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3        Datsun 710 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\n4    Hornet 4 Drive 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\n5 Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n6           Valiant 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1\n\n\n\n\n2.5.2 append by column\n\n\n2.5.3 Dropping NA values\n\n\n2.5.4 keep NA values",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#group-by",
    "href": "data manipulation/6 SQL database.html#group-by",
    "title": "SQL database with R",
    "section": "2.6 group by",
    "text": "2.6 group by\n\n2.6.1 average,min,max,sum\n\n\nCode\nsql=\"select AVG(hp),min(hp),max(hp),sum(hp) from mtcars\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n   AVG(hp) min(hp) max(hp) sum(hp)\n1 146.6875      52     335    4694\n\n\n\n\n2.6.2 count record and count distinct record\n\n\nCode\nsql=\"select vs, count(*),count(distinct cyl) from mtcars group by vs\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n  vs count(*) count(distinct cyl)\n1  0       18                   3\n2  1       14                   2",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#order-rows",
    "href": "data manipulation/6 SQL database.html#order-rows",
    "title": "SQL database with R",
    "section": "2.7 order rows",
    "text": "2.7 order rows\n\n\nCode\nsql=\"select * from mtcars order by mpg\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n           newColName  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1  Cadillac Fleetwood 10.4   8  472 205 2.93 5.250 17.98  0  0    3    4\n2 Lincoln Continental 10.4   8  460 215 3.00 5.424 17.82  0  0    3    4\n3          Camaro Z28 13.3   8  350 245 3.73 3.840 15.41  0  0    3    4\n4          Duster 360 14.3   8  360 245 3.21 3.570 15.84  0  0    3    4\n5   Chrysler Imperial 14.7   8  440 230 3.23 5.345 17.42  0  0    3    4\n6       Maserati Bora 15.0   8  301 335 3.54 3.570 14.60  0  1    5    8\n\n\n\n2.7.1 Sort in descending order\n\n\nCode\nsql=\"select * from mtcars order by mpg desc\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n      newColName  mpg cyl  disp  hp drat    wt  qsec vs am gear carb\n1 Toyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1\n2       Fiat 128 32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1\n3    Honda Civic 30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2\n4   Lotus Europa 30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2\n5      Fiat X1-9 27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1\n6  Porsche 914-2 26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2\n\n\n\n\n2.7.2 Arrange by multiple variables\n\n\nCode\nsql=\"select * from mtcars order by mpg ,cyl\"\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n           newColName  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1  Cadillac Fleetwood 10.4   8  472 205 2.93 5.250 17.98  0  0    3    4\n2 Lincoln Continental 10.4   8  460 215 3.00 5.424 17.82  0  0    3    4\n3          Camaro Z28 13.3   8  350 245 3.73 3.840 15.41  0  0    3    4\n4          Duster 360 14.3   8  360 245 3.21 3.570 15.84  0  0    3    4\n5   Chrysler Imperial 14.7   8  440 230 3.23 5.345 17.42  0  0    3    4\n6       Maserati Bora 15.0   8  301 335 3.54 3.570 14.60  0  1    5    8",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#join",
    "href": "data manipulation/6 SQL database.html#join",
    "title": "SQL database with R",
    "section": "2.8 join",
    "text": "2.8 join\n\n2.8.1 inner_join\n\n\nCode\nsql=\"select a.newColName,a.mpg,b.mpg as new_mpg from mtcars a left join mtcars b on a.newColName=b.newColName\"\n\ntable=dbGetQuery(con,sql)\nhead(table)\n\n\n         newColName  mpg new_mpg\n1         Mazda RX4 21.0    21.0\n2     Mazda RX4 Wag 21.0    21.0\n3        Datsun 710 22.8    22.8\n4    Hornet 4 Drive 21.4    21.4\n5 Hornet Sportabout 18.7    18.7\n6           Valiant 18.1    18.1\n\n\n\n\n2.8.2 full join\n\n\n2.8.3 left join\n\n\n2.8.4 anti join",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#reshape-tables",
    "href": "data manipulation/6 SQL database.html#reshape-tables",
    "title": "SQL database with R",
    "section": "2.9 Reshape tables",
    "text": "2.9 Reshape tables\n\n2.9.1 Gather data long(wide to long)\n\n\n2.9.2 Spread data wide (long to wide)",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#string",
    "href": "data manipulation/6 SQL database.html#string",
    "title": "SQL database with R",
    "section": "2.10 string",
    "text": "2.10 string\n\n2.10.1 upper case\n\n\n2.10.2 lower case\n\n\n2.10.3 match\n\n\n2.10.4 concatenation\n\n\n2.10.5 replace\n\n\n2.10.6 extract",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#date",
    "href": "data manipulation/6 SQL database.html#date",
    "title": "SQL database with R",
    "section": "2.11 date",
    "text": "2.11 date",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#create-table-into-database",
    "href": "data manipulation/6 SQL database.html#create-table-into-database",
    "title": "SQL database with R",
    "section": "2.12 create table into database",
    "text": "2.12 create table into database\n\n\nCode\nsql=\"create table if not exists new_mtcars as select * from mtcars order by mpg ,cyl\"\ndbSendQuery(con,sql)\n\n\n&lt;SQLiteResult&gt;\n  SQL  create table if not exists new_mtcars as select * from mtcars order by mpg ,cyl\n  ROWS Fetched: 0 [complete]\n       Changed: 0\n\n\nCode\ndbListTables(con)\n\n\n[1] \"iris\"       \"mtcars\"     \"new_mtcars\"",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#delete-table-in-database",
    "href": "data manipulation/6 SQL database.html#delete-table-in-database",
    "title": "SQL database with R",
    "section": "2.13 delete table in database",
    "text": "2.13 delete table in database\n\n\nCode\nsql=\"drop table if  exists  new_mtcars\"\ndbSendQuery(con,sql)\n\n\n&lt;SQLiteResult&gt;\n  SQL  drop table if  exists  new_mtcars\n  ROWS Fetched: 0 [complete]\n       Changed: 0\n\n\nCode\ndbListTables(con)\n\n\n[1] \"iris\"   \"mtcars\"",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#edit-table-in-database",
    "href": "data manipulation/6 SQL database.html#edit-table-in-database",
    "title": "SQL database with R",
    "section": "2.14 edit table in database",
    "text": "2.14 edit table in database",
    "crumbs": [
      "data manipulation",
      "SQL database with R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html",
    "href": "data manipulation/1 input ouput.html",
    "title": "Input & Output in R",
    "section": "",
    "text": "This document provides a comprehensive guide to reading data into R (input) and writing data out of R (output). We will cover a wide variety of common file formats, from traditional text files to modern, high-performance formats.\nCode\npak::pak(c('tidyverse','openxlsx','arrow','readxl'))\nCode\n# Load common packages for I/O operations\nlibrary(tidyverse)\nlibrary(openxlsx)\nlibrary(arrow)\nlibrary(readxl)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-csv",
    "href": "data manipulation/1 input ouput.html#read-csv",
    "title": "Input & Output in R",
    "section": "1.1 Read CSV",
    "text": "1.1 Read CSV\n\n\nCode\n# data001 = read_csv('data/Book3.csv')\n# head(data001)\n\n\nRead CSV online:\n\n\nCode\nurl = 'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-11/hotels.csv'\ndata001 = read_csv(url)\nhead(data001)\n\n\n# A tibble: 6 × 32\n  hotel        is_canceled lead_time arrival_date_year arrival_date_month\n  &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;             \n1 Resort Hotel           0       342              2015 July              \n2 Resort Hotel           0       737              2015 July              \n3 Resort Hotel           0         7              2015 July              \n4 Resort Hotel           0        13              2015 July              \n5 Resort Hotel           0        14              2015 July              \n6 Resort Hotel           0        14              2015 July              \n# ℹ 27 more variables: arrival_date_week_number &lt;dbl&gt;,\n#   arrival_date_day_of_month &lt;dbl&gt;, stays_in_weekend_nights &lt;dbl&gt;,\n#   stays_in_week_nights &lt;dbl&gt;, adults &lt;dbl&gt;, children &lt;dbl&gt;, babies &lt;dbl&gt;,\n#   meal &lt;chr&gt;, country &lt;chr&gt;, market_segment &lt;chr&gt;,\n#   distribution_channel &lt;chr&gt;, is_repeated_guest &lt;dbl&gt;,\n#   previous_cancellations &lt;dbl&gt;, previous_bookings_not_canceled &lt;dbl&gt;,\n#   reserved_room_type &lt;chr&gt;, assigned_room_type &lt;chr&gt;, …",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-excel",
    "href": "data manipulation/1 input ouput.html#read-excel",
    "title": "Input & Output in R",
    "section": "1.2 Read Excel",
    "text": "1.2 Read Excel\n\n\nCode\n# data001 = read_excel('data/Book1.xlsx')\n# head(data001)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-parquet",
    "href": "data manipulation/1 input ouput.html#read-parquet",
    "title": "Input & Output in R",
    "section": "1.3 Read Parquet",
    "text": "1.3 Read Parquet\n\n\nCode\n# Must install in this way, otherwise will report error.\ninstall.packages(\"arrow\", repos = c(\"https://apache.r-universe.dev\"))\n\n\n\n\nCode\nlibrary(arrow)\n# data001 = read_parquet('data/df.parquet')\n# head(data001)\n\n\nRead gzipped Parquet:\n\n\nCode\n# data001 = read_parquet('data/df.parquet.gzip')\n# head(data001)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-feather",
    "href": "data manipulation/1 input ouput.html#read-feather",
    "title": "Input & Output in R",
    "section": "1.4 Read Feather",
    "text": "1.4 Read Feather\n\n\nCode\nlibrary(feather)\n# data001 = read_feather('data/feather_file.feather')\n# head(data001)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-json-file-and-convert-into-data-frame",
    "href": "data manipulation/1 input ouput.html#read-json-file-and-convert-into-data-frame",
    "title": "input & ouput in R",
    "section": "1.5 read JSON file and convert into data frame",
    "text": "1.5 read JSON file and convert into data frame\n\n\nCode\nlibrary(jsonlite)\ndata=read_json(\"./data/dataj.json\")\n\n\n\n\nCode\ndata002=(data) %&gt;% as.data.frame()\n\n\n\n\nCode\nglimpse(data002)\n\n\nRows: 1\nColumns: 11\n$ glossary.title                                                     &lt;chr&gt; \"ex…\n$ glossary.GlossDiv.title                                            &lt;chr&gt; \"S\"\n$ glossary.GlossDiv.GlossList.GlossEntry.ID                          &lt;chr&gt; \"SG…\n$ glossary.GlossDiv.GlossList.GlossEntry.SortAs                      &lt;chr&gt; \"SG…\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossTerm                   &lt;chr&gt; \"St…\n$ glossary.GlossDiv.GlossList.GlossEntry.Acronym                     &lt;chr&gt; \"SG…\n$ glossary.GlossDiv.GlossList.GlossEntry.Abbrev                      &lt;chr&gt; \"IS…\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossDef.para               &lt;chr&gt; \"A …\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossDef.GlossSeeAlso..GML. &lt;chr&gt; \"GM…\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossDef.GlossSeeAlso..XML. &lt;chr&gt; \"XM…\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossSee                    &lt;chr&gt; \"ma…",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#getting-data-from-images",
    "href": "data manipulation/1 input ouput.html#getting-data-from-images",
    "title": "input & ouput in R",
    "section": "1.6 Getting Data from Images",
    "text": "1.6 Getting Data from Images\n\n\nCode\nlibrary(tesseract)\n\n\n\n\nCode\neng &lt;- tesseract(\"eng\")\ntext001 &lt;- tesseract::ocr(\"640.png\", engine = eng)\n\n\n\n\nCode\ncat(text001)\n\n\nWOODCASK = @WOODCASKSHOP\nwww.woodcask.shop\nSingapore All prices are in 10ml pours.\nPrice valid date: 22-23/2/2025\n1D Name PRICE/1OML\n\"R1054_—-CARONI21Y01997888R60.4%  ~Sst~CS~=“C~S*‘“s*~*~*~*~*~*~*S~SSC&lt;C*‘;*‘«wRROCO\nR1066A Long Pond 2005 stc&lt;h&gt;e ester 550/700 cambridge 62.5% ¥ 50.00\n\"R1063___ LONG POND 2005 HABITATION VELIER 14 YOEASTER1285.4%62% +¥ ~~ 60.00.\nR1030 CARONI 23 YO 1994-2017 DOUBLE MATURATION GUYANA STOCK 57.18% ¥ 150.00\nR1080 CARONI 15 YO SINGLE CASK#3767 LMDW 2000 -2015 68.4% ¥ 400.00\nR1081 Long Pond Plantation Single Cask 1993 CRV 15 YO The Nectar 70cl 76,8% ¥ 50.00\nR1073 New Yarmouth Jamaica 1994 26 YO Year Old Blackadder 66.8% ¥ 50.00\nR1046 CARONI 17 YO VELIER EXTRA STRONG 110 PROOF ¥ 50.00\nR1070 CARONI 23 YO 1997 SPHERIC SPIRITS 1ST FILL BOURBON BARREL#1143 62% ¥ 70.00\nHw s1005 GLEN GRANT 31yo 1970 2001 70cl 45% SAMAROLI Sherry Cask 1025 ¥ 200.00\nWS1395 Longrow 1987 \"The Last Bottling\" Bottled 2007 45% CASK #116 ¥ 100.00\nws1402 Glen Scotia 1977 Prestonfield House 33 YO LMDW & The Nectar 49.1% ¥ 100.00\nws1304 SPRINGBANK 21 YO SINGLE CASK NEDERLAND OLOROSO SHERRY HOGSHEAD 48% ¥ 150.00\nWS1396 Springbank 1993 Moon Import 35th Anniversary / Lawless 45% ¥ 100.00\nws1391 Springbank 1985 Brae Dean Dtm Sherry Wood Moon Import 50% Barrel 40/1-4 ¥ 200.00\nws1210 CLYNELISH 1990-2022 BOURBON BARREL#3477 LMDW ARTIST12 47.7% ¥ 100.00\nWS1450 TALISKER 12 YO The Golden Spirit - John Walker & Sons 1980S BOT 43% ¥ 100.00\nws1165 GLENURY 21 YO 1980 OMC 50% ¥ 100.00\nws1279 GLEN KEITH 20 YO LMDW ARTIST#3 BOURBON BARREL#120560 1992-2013 60.1% ¥ 60.00\nWS1278 GLENCRAIG 35 YO LMDW ARTIST#3 BOURBON BARREL#4257 1976-2013 43.7% ¥ 100.00\n“WS1240 Blair Athol 1976 Cadenhead's 200 1976-1997478% ~~~ ~+¥ ~~~~-80.00°\nWS1233 BENROMACH 28 YO 1965-1993 CADENHEADS AUTHENTIC COLLECTION 47.6% ¥ 120.00\nws1311 SPRINGBANK 22 YO 1992 THE BOTTLERS REFILL SHERRY HOGSHEAD#227 51.9% ¥ 150.00\nws1449 GLENDRONACH 25 YO 1993 -2019 OLOROSO SHERRY CASK#416 51.2% ¥ 60.00\nws1162 MALALLAN 2002-2022 TWE SPEYMALT CASK#9545 55.5% ¥ 60.00\nWS1375, MACALLAN 12 YO LIC UTIF 935 MILANO 1980S 43% ¥ 100.00\nws1358 MACALLAN 8 YEAR OLD SHERRY WOOD 1970S 75CL 43% ¥ 200.00\nwS1205 MACALLAN 11 YO SMWS 24.57 1988 55.9% ¥ 120.00\nws1200 GLENFARCLAS 29 YO 1970 SHERRYWOOD Cadenhead bot 2000 54% ¥ 150.00\nws1341 GLENROTHES 27 YO 1979-2006 RED WINE CASK FINISHED OMC 50% ¥ 120.00\n\n\n\n\nCode\nraw_tibble001 &lt;- text001 %&gt;% \n  str_split(pattern = \"\\n\") %&gt;% \n  unlist() %&gt;%\n  tibble(data = .) %&gt;% slice(6:n()) %&gt;% filter(str_length(data) &gt;= 2) %&gt;%  mutate(old=data\n         ,data=data %&gt;%str_replace_all('_','')%&gt;%str_replace_all('—','')%&gt;%str_replace_all(\"'\",'')%&gt;%str_replace_all('\"','')\n         ) %&gt;% separate(\n    data, \n    into = c(\"one\", \"price\"), \n    sep = c(\"¥\")\n    ) %&gt;% mutate(\n    id = str_extract(one, \"^\\\\S+ \")\n    ,name=gsub(\"^\\\\S+ \", \"\",one)\n  )\n\n\nglimpse(raw_tibble001)\n\n\nRows: 30\nColumns: 5\n$ one   &lt;chr&gt; \"R1054-CARONI21Y01997888R60.4%  ~Sst~CS~=“C~S*‘“s*~*~*~*~*~*~*S~…\n$ price &lt;chr&gt; NA, \" 50.00\", \" ~~ 60.00.\", \" 150.00\", \" 400.00\", \" 50.00\", \" 50…\n$ old   &lt;chr&gt; \"\\\"R1054_—-CARONI21Y01997888R60.4%  ~Sst~CS~=“C~S*‘“s*~*~*~*~*~*…\n$ id    &lt;chr&gt; \"R1054-CARONI21Y01997888R60.4% \", \"R1066A \", \"R1063 \", \"R1030 \",…\n$ name  &lt;chr&gt; \" ~Sst~CS~=“C~S*‘“s*~*~*~*~*~*~*S~SSC&lt;C*‘;*‘«wRROCO\", \"Long Pond…",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-csv",
    "href": "data manipulation/1 input ouput.html#write-csv",
    "title": "input & ouput in R",
    "section": "2.1 write csv",
    "text": "2.1 write csv\n\n\nCode\nwrite.csv(data001,'data001 csv output data.csv')",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-excel",
    "href": "data manipulation/1 input ouput.html#write-excel",
    "title": "input & ouput in R",
    "section": "2.2 write excel",
    "text": "2.2 write excel\n\n\nCode\nlibrary(openxlsx)\nlibrary(readxl)\nwrite.xlsx(data001,'data001 excel output data.xlsx')",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-parquet",
    "href": "data manipulation/1 input ouput.html#write-parquet",
    "title": "input & ouput in R",
    "section": "2.3 write parquet",
    "text": "2.3 write parquet\n\n\nCode\nlibrary(arrow)\nwrite_parquet(data001,'data/df.parquet')\n\n\noutput to zip format\n\n\nCode\nwrite_parquet(data001,'data/df.parquet.gzip',compression='gzip')",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-feather",
    "href": "data manipulation/1 input ouput.html#write-feather",
    "title": "input & ouput in R",
    "section": "2.4 write feather",
    "text": "2.4 write feather\n\n\nCode\nlibrary(feather)\nwrite_feather(data001,'data/feather_file.feather')",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-txt",
    "href": "data manipulation/1 input ouput.html#write-txt",
    "title": "input & ouput in R",
    "section": "2.5 write txt",
    "text": "2.5 write txt\n\n\nCode\ntext=tibble('hello world\nits time!')\n\nwrite_delim(text, \"text.txt\")",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "data manipulation/5 resample.html",
    "href": "data manipulation/5 resample.html",
    "title": "resample",
    "section": "",
    "text": "1. The Importance of Resampling\nIn machine learning, we want to build models that generalize well to new, unseen data. A common mistake is to train and evaluate a model on the same dataset. This often leads to overfitting, where the model learns the noise in the training data, not the underlying pattern. As a result, the model performs well on the data it has seen but fails miserably on new data.\nResampling is a collection of techniques used to combat this. It involves repeatedly drawing samples from a training set and refitting a model on each sample. This process allows us to:\n\nEstimate model performance: Get a more accurate and robust estimate of how the model will perform on unseen data.\nUnderstand variability: See how much the model’s performance changes across different subsets of the data.\nTune hyperparameters: Find the best settings for a model by evaluating them across multiple validation sets.\n\nThe rsample package, part of the tidymodels ecosystem, provides a consistent and intuitive interface for creating different types of resamples.\n\n\nCode\nlibrary(rsample)\nlibrary(tidyverse)\n\n# We will use the iris dataset for demonstration\ndata(iris)\n\n\n\n\n2. k-Fold Cross-Validation (CV)\nThis is the most common resampling method. The data is randomly split into k equal-sized partitions (or “folds”). For each fold, the model is trained on the other k-1 folds (the analysis set) and tested on the held-out fold (the assessment set). The process is repeated k times, with each fold serving as the test set exactly once. The final performance is the average of the performances across all k folds.\n\nvfold_cv() creates the folds. A v of 10 is a common choice.\n\n\nCode\nk_fold_resample &lt;- vfold_cv(iris, v = 10)\nk_fold_resample\n\n\n#  10-fold cross-validation \n# A tibble: 10 × 2\n   splits           id    \n   &lt;list&gt;           &lt;chr&gt; \n 1 &lt;split [135/15]&gt; Fold01\n 2 &lt;split [135/15]&gt; Fold02\n 3 &lt;split [135/15]&gt; Fold03\n 4 &lt;split [135/15]&gt; Fold04\n 5 &lt;split [135/15]&gt; Fold05\n 6 &lt;split [135/15]&gt; Fold06\n 7 &lt;split [135/15]&gt; Fold07\n 8 &lt;split [135/15]&gt; Fold08\n 9 &lt;split [135/15]&gt; Fold09\n10 &lt;split [135/15]&gt; Fold10\n\n\nEach row in the output represents one fold. The &lt;split&gt; column contains rsplit objects, which are lightweight pointers to the actual data for the training (analysis) and testing (assessment) sets for that fold.\n\nWorking with rsplit objects\nYou can extract the analysis and assessment data for a specific split.\n\n\nCode\n# Get the first split object\nfirst_split &lt;- k_fold_resample$splits[[1]]\n\n# Get the training data for the first fold\nanalysis_data &lt;- analysis(first_split)\n\n# Get the testing data for the first fold\nassessment_data &lt;- assessment(first_split)\n\ncat(paste(\"Analysis (training) rows:\", nrow(analysis_data), \"\\n\"))\n\n\nAnalysis (training) rows: 135 \n\n\nCode\ncat(paste(\"Assessment (testing) rows:\", nrow(assessment_data), \"\\n\"))\n\n\nAssessment (testing) rows: 15 \n\n\n\n\n\n3. Monte Carlo Cross-Validation (MCCV)\nMCCV, also known as repeated random sub-sampling validation, involves randomly splitting the data into a training and a validation set a specified number of times. Unlike k-fold CV, the assessment sets are not mutually exclusive and can overlap.\nThis method is useful when you want to control the size of the validation set directly, rather than being constrained by the number of folds. It can be more computationally intensive than k-fold CV if many repetitions are used.\nmc_cv() creates the splits. prop is the proportion of data to be used for training, and times is the number of splits to create.\n\n\nCode\nmc_resample &lt;- mc_cv(iris, prop = 9/10, times = 20)\nmc_resample\n\n\n# Monte Carlo cross-validation (0.9/0.1) with 20 resamples \n# A tibble: 20 × 2\n   splits           id        \n   &lt;list&gt;           &lt;chr&gt;     \n 1 &lt;split [135/15]&gt; Resample01\n 2 &lt;split [135/15]&gt; Resample02\n 3 &lt;split [135/15]&gt; Resample03\n 4 &lt;split [135/15]&gt; Resample04\n 5 &lt;split [135/15]&gt; Resample05\n 6 &lt;split [135/15]&gt; Resample06\n 7 &lt;split [135/15]&gt; Resample07\n 8 &lt;split [135/15]&gt; Resample08\n 9 &lt;split [135/15]&gt; Resample09\n10 &lt;split [135/15]&gt; Resample10\n11 &lt;split [135/15]&gt; Resample11\n12 &lt;split [135/15]&gt; Resample12\n13 &lt;split [135/15]&gt; Resample13\n14 &lt;split [135/15]&gt; Resample14\n15 &lt;split [135/15]&gt; Resample15\n16 &lt;split [135/15]&gt; Resample16\n17 &lt;split [135/15]&gt; Resample17\n18 &lt;split [135/15]&gt; Resample18\n19 &lt;split [135/15]&gt; Resample19\n20 &lt;split [135/15]&gt; Resample20\n\n\n\n\n4. The Bootstrap\nA bootstrap sample is created by sampling from the original dataset with replacement. The resulting sample is the same size as the original dataset. Because of sampling with replacement, some data points will be selected multiple times, while others will not be selected at all (these are called the “out-of-bag” samples).\nBootstrapping is useful for estimating the uncertainty of a statistic (like a model coefficient) and is the foundation for ensemble methods like Random Forest. The out-of-bag sample can be used as a validation set.\n\nbootstraps() creates the bootstrap samples.\n\n\nCode\nbootstraps_resample &lt;- bootstraps(iris, times = 1000)\nbootstraps_resample\n\n\n# Bootstrap sampling \n# A tibble: 1,000 × 2\n   splits           id           \n   &lt;list&gt;           &lt;chr&gt;        \n 1 &lt;split [150/59]&gt; Bootstrap0001\n 2 &lt;split [150/56]&gt; Bootstrap0002\n 3 &lt;split [150/56]&gt; Bootstrap0003\n 4 &lt;split [150/55]&gt; Bootstrap0004\n 5 &lt;split [150/59]&gt; Bootstrap0005\n 6 &lt;split [150/55]&gt; Bootstrap0006\n 7 &lt;split [150/55]&gt; Bootstrap0007\n 8 &lt;split [150/51]&gt; Bootstrap0008\n 9 &lt;split [150/55]&gt; Bootstrap0009\n10 &lt;split [150/57]&gt; Bootstrap0010\n# ℹ 990 more rows\n\n\n\n\n5. Stratified Sampling\nWhen dealing with a classification problem where the outcome variable is imbalanced (i.e., some classes have very few samples), random splitting can lead to folds where one or more classes are missing entirely from the training or testing set.\nStratified sampling ensures that the class distribution in each fold is approximately the same as in the original dataset. You can do this by specifying the strata argument in the resampling functions. This is highly recommended for classification problems.\n\n\nCode\n# Create 10-fold cross-validation splits, stratified by the Species column\nstratified_k_fold &lt;- vfold_cv(iris, v = 10, strata = Species)\nstratified_k_fold\n\n\n#  10-fold cross-validation using stratification \n# A tibble: 10 × 2\n   splits           id    \n   &lt;list&gt;           &lt;chr&gt; \n 1 &lt;split [135/15]&gt; Fold01\n 2 &lt;split [135/15]&gt; Fold02\n 3 &lt;split [135/15]&gt; Fold03\n 4 &lt;split [135/15]&gt; Fold04\n 5 &lt;split [135/15]&gt; Fold05\n 6 &lt;split [135/15]&gt; Fold06\n 7 &lt;split [135/15]&gt; Fold07\n 8 &lt;split [135/15]&gt; Fold08\n 9 &lt;split [135/15]&gt; Fold09\n10 &lt;split [135/15]&gt; Fold10\n\n\n\n\n6. Visualizing Resamples\nIt can be helpful to visualize the resamples to understand how the data is being split. The code below defines a helper function to plot the distribution of a variable across the different resample splits.\n\n\nCode\n# Helper function to extract and plot data from splits\nplot_resample_dist &lt;- function(resample_obj, variable) {\n  resample_obj %&gt;% \n    mutate(fold_id = as.character(row_number())) %&gt;% \n    pull(splits) %&gt;% \n    map_dfr(~as_tibble(analysis(.)), .id = \"fold_id\") %&gt;% \n    ggplot(aes(x = {{variable}}, fill = fold_id)) + \n    geom_density(alpha = 0.5, show.legend = FALSE) + \n    labs(\n      title = paste(\"Distribution of\", rlang::as_name(enquo(variable)), \"across resamples\"),\n      x = rlang::as_name(enquo(variable)),\n      y = \"Density\"\n    ) + \n    theme_minimal()\n}\n\n# Visualize the distribution of Sepal.Length across the k-fold splits\nplot_resample_dist(k_fold_resample, Sepal.Length)\n\n\n\n\n\n\n\n\n\nThis visualization helps confirm that the splits are reasonably balanced and representative of the overall data distribution.\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "resample"
    ]
  },
  {
    "objectID": "data manipulation/5 recipe.html",
    "href": "data manipulation/5 recipe.html",
    "title": "Recipe in tidymodels",
    "section": "",
    "text": "1. What is a Recipe?\nThe recipes package, part of the tidymodels ecosystem, provides a powerful and flexible framework for data preprocessing. A recipe is an object that defines a series of steps for transforming your data before it is used to train a model. Think of it as a blueprint for data preparation.\nUsing recipes is beneficial because it:\n\nSeparates preprocessing from modeling: Keeps your code clean and organized.\nPrevents data leakage: Ensures that information from the test set does not “leak” into the training process, which is a common and subtle bug in machine learning. For example, when normalizing data, the mean and standard deviation should be calculated from the training data only and then applied to both the training and test sets.\nIs highly extensible: Provides a wide range of built-in steps for common tasks and allows you to create your own custom steps.\n\n\n\n2. Creating a Sample Dataset\nLet’s create a small, messy dataset to demonstrate how recipes work. It contains a mix of data types, missing values (NA), and categorical variables with many levels.\n\n\nCode\nlibrary(recipes)\nlibrary(tidyverse)\n\n# Create a sample training dataset\ntrees_train &lt;- tibble(\n  tree_id = 1:10,\n  species = factor(c(\"Oak\", \"Pine\", \"Maple\", \"Oak\", \"Pine\", \"Hickory\", \"Birch\", \"Oak\", \"Pine\", \"Maple\")),\n  date_planted = as.Date(c(\"2001-01-10\", \"2005-03-15\", \"2002-07-20\", \"2010-11-01\", \"2008-09-12\", \n                           \"2001-04-25\", \"2019-06-30\", \"2004-02-18\", \"2006-08-05\", \"2011-12-21\")),\n  caretaker = c(\"City\", \"Private\", \"City\", \"City\", \"Private\", \"Non-Profit\", \"City\", \"Private\", \"City\", \"Private\"),\n  site_info = c(\"Park A\", \"Yard B\", \"Park C\", \"Park A\", \"Yard D\", \"Reserve E\", \"Park F\", \"Yard G\", \"Park A\", \"Yard H\"),\n  height_m = c(10, 12, 8, 15, 13, 11, 2, 14, 12, 9),\n  diameter_cm = c(30, 35, 25, 40, 38, 32, 5, 39, 36, NA), # Added a missing value\n  legal_status = factor(c(\"Protected\", \"Not Protected\", \"Protected\", \"Protected\", \"Not Protected\", \n                          \"Protected\", \"Not Protected\", \"Protected\", \"Not Protected\", \"Protected\"))\n)\n\n\n\n\nCode\n# Create a sample test set (new data)\nnew_trees_data &lt;- tibble(\n  tree_id = 11:12,\n  species = factor(c(\"Oak\", \"Redwood\")),\n  date_planted = as.Date(c(\"2015-05-10\", \"2021-11-15\")),\n  caretaker = c(\"City\", \"State\"),\n  site_info = c(\"Park A\", \"National Park I\"),\n  height_m = c(5, 1),\n  diameter_cm = c(15, 2),\n  legal_status = factor(c(\"Protected\", \"Protected\"))\n)\n\n\n\n\n3. Defining a Recipe\nA recipe is created with the recipe() function. You specify the model formula (legal_status ~ . means we want to predict legal_status using all other variables) and the training data.\nThen, you pipe (%&gt;%) this object into a series of step_*() functions, each performing a specific preprocessing task.\n\n\nCode\ntree_rec &lt;- recipe(legal_status ~ ., data = trees_train) %&gt;%\n  \n  # 1. Assign roles: `update_role()` tells the recipe that `tree_id` is just an identifier\n  # and should not be used as a predictor or outcome. This prevents it from being included\n  # in the model matrix but keeps it in the data for reference.\n  update_role(tree_id, new_role = \"ID\") %&gt;%\n  \n  # 2. Impute missing values: `step_impute_mean` will fill in the NA in `diameter_cm`\n  # with the mean of the non-missing values from the training set.\n  step_impute_mean(all_numeric_predictors()) %&gt;%\n  \n  # 3. Collapse infrequent categories: `step_other()` is great for high-cardinality\n  # categorical variables. It pools infrequent levels into a single \"other\" category.\n  step_other(species, caretaker, site_info, threshold = 0.2, other = \"other_level\") %&gt;%\n  \n  # 4. Create date features: Instead of using the exact date, which might not be a good\n  # predictor, we can extract the year. `step_rm()` then removes the original date column.\n  step_date(date_planted, features = c(\"year\")) %&gt;%\n  step_rm(date_planted) %&gt;%\n  \n  # 5. Create dummy variables: `step_dummy()` converts all nominal (categorical) predictors\n  # into numeric binary (0/1) columns. This is required for many modeling algorithms.\n  step_dummy(all_nominal_predictors()) %&gt;%\n  \n  # 6. Remove zero-variance predictors: `step_zv()` removes any predictor columns that\n  # contain only a single unique value, as these have no predictive power.\n  step_zv(all_predictors()) %&gt;% \n  \n  # 7. Normalize numeric predictors: `step_normalize()` scales all numeric predictors to have\n  # a mean of 0 and a standard deviation of 1. This helps many models converge faster.\n  step_normalize(all_numeric_predictors())\n\n# Print the recipe to see the defined steps\ntree_rec\n\n\n\n\n4. Prepping and Baking the Recipe\nDefining the recipe doesn’t actually perform the transformations. This is a crucial concept.\n\nprep(recipe): You first need to prep() the recipe. This function estimates the required parameters from the training data only. For example, it learns the means and standard deviations for normalization, the levels to collapse for step_other, and the full set of dummy variables to create. This is the step that prevents data leakage.\nbake(prep, new_data): After prepping, you can bake() the recipe. This applies the learned transformations to any dataset, such as the training data or, more importantly, new data like a test set.\n\n\n\nCode\n# Prep the recipe using the training data\nprepped_recipe &lt;- prep(tree_rec, training = trees_train)\n\n# Bake the training data to see the result of the transformations\n# Using new_data = NULL bakes the original training data\nprocessed_training_data &lt;- bake(prepped_recipe, new_data = NULL)\n\n# Display the first few rows of the processed data\nhead(processed_training_data)\n\n\n# A tibble: 6 × 11\n  tree_id height_m diameter_cm legal_status  date_planted_year species_Oak\n    &lt;int&gt;    &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;                     &lt;dbl&gt;       &lt;dbl&gt;\n1       1   -0.161     -0.108  Protected                -1.02        1.45 \n2       2    0.377      0.379  Not Protected            -0.305      -0.621\n3       3   -0.699     -0.595  Protected                -0.842      -0.621\n4       4    1.18       0.866  Protected                 0.592       1.45 \n5       5    0.646      0.671  Not Protected             0.233      -0.621\n6       6    0.108      0.0866 Protected                -1.02       -0.621\n# ℹ 5 more variables: species_Pine &lt;dbl&gt;, species_other_level &lt;dbl&gt;,\n#   caretaker_Private &lt;dbl&gt;, caretaker_other_level &lt;dbl&gt;,\n#   site_info_other_level &lt;dbl&gt;\n\n\nNow, let’s apply the same, already-prepped recipe to our new_trees_data.\n\n\nCode\n# Bake the new data\nprocessed_new_data &lt;- bake(prepped_recipe, new_data = new_trees_data)\n\n# Display the processed new data\nprocessed_new_data\n\n\n# A tibble: 2 × 11\n  tree_id height_m diameter_cm legal_status date_planted_year species_Oak\n    &lt;int&gt;    &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;                    &lt;dbl&gt;       &lt;dbl&gt;\n1      11    -1.51       -1.57 Protected                 1.49       1.45 \n2      12    -2.58       -2.84 Protected                 2.56      -0.621\n# ℹ 5 more variables: species_Pine &lt;dbl&gt;, species_other_level &lt;dbl&gt;,\n#   caretaker_Private &lt;dbl&gt;, caretaker_other_level &lt;dbl&gt;,\n#   site_info_other_level &lt;dbl&gt;\n\n\nNotice how the recipe correctly handled the new, unseen levels (“Redwood”, “State”, etc.) in the test set based on the rules it learned from the training set. The new levels were converted to the “other_level” dummy variable, and the normalization was applied using the mean and standard deviation from the training data.\n\n\n5. Common Recipe Steps and Selectors\nThe recipes package has a rich set of steps. Some of the most common include:\n\nstep_impute_*(): For handling missing data (e.g., step_impute_mean, step_impute_median, step_impute_knn).\nstep_log(): For log-transforming numeric variables.\nstep_corr(): For removing highly correlated predictors.\nstep_downsample() / step_upsample(): For addressing class imbalance.\nstep_pca(): For Principal Component Analysis.\n\n\nSelector Functions\nYou can use powerful selector functions to choose which variables a step should apply to. This makes your recipes more robust and scalable.\n\nall_predictors(): Selects all predictor variables.\nall_outcomes(): Selects all outcome variables.\nall_numeric(), all_nominal(): Selects variables of a specific type.\nall_numeric_predictors(): Selects all numeric predictors.\nstarts_with(), ends_with(), contains(): Selects variables based on their names.\n\n\n\n\n6. Reference\n\nTidymodels recipes Documentation\nAvailable Recipe Steps\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "Recipe in tidymodels"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html",
    "href": "Plot/4 Financial data.html",
    "title": "Plot Financial data",
    "section": "",
    "text": "This document provides a guide to sourcing and analyzing financial data in R. We will explore several packages that provide access to financial data from various sources, including Yahoo Finance and Quandl. We will also demonstrate how to use these packages to retrieve stock prices and financial statements, and how to visualize the data using plotly.\nCode\npak::pak(c(\"Quandl\"))\nCode\n# Load necessary libraries\nlibrary(quantmod)\nlibrary(tidyverse)\nlibrary(yahoofinancer)\nlibrary(Quandl)\nlibrary(plotly)\n#library(finreportr)\nlibrary(rvest)\nlibrary(chromote)\nlibrary(httr)\nlibrary(janitor)\nlibrary(knitr)",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html",
    "href": "Plot/2 plotly.html",
    "title": "Plotly in R",
    "section": "",
    "text": "This document provides a comprehensive guide to creating interactive visualizations in R using the plotly package. Plotly is a powerful graphing library that allows you to create a wide range of interactive plots, including scatter plots, line plots, histograms, bar charts, box plots, and more. These plots are rendered as HTML widgets, which means they can be easily embedded in web pages and R Markdown documents, and they offer interactive features like tooltips, zooming, and panning right out of the box.\nWe will cover various types of plots and their customization options, demonstrating how to leverage Plotly’s capabilities for effective data visualization.\nCode\n# Load necessary libraries\nlibrary(gapminder)\nlibrary(plotly)\nlibrary(reshape2)\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# It's good practice to check the version of the package you are using.\npackageVersion(\"plotly\")\n\n\n[1] '4.10.4'",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#color-by-group",
    "href": "Plot/2 plotly.html#color-by-group",
    "title": "Plotly in R",
    "section": "1.1 Color by Group",
    "text": "1.1 Color by Group\nYou can easily add a third variable to the scatter plot by mapping it to color. This helps in visualizing relationships within different categories.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip,color=~sex)\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#size-by-group",
    "href": "Plot/2 plotly.html#size-by-group",
    "title": "Plotly in R",
    "section": "1.2 Size by Group",
    "text": "1.2 Size by Group\nSimilarly, a fourth variable can be mapped to the size of the points, providing another dimension for data exploration.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip,color=~sex,size=~size)\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#line-plot",
    "href": "Plot/2 plotly.html#line-plot",
    "title": "Plotly in R",
    "section": "1.3 line Plot",
    "text": "1.3 line Plot\n\n\nCode\ndata001=gapminder\ndata002= data001 %&gt;% group_by(continent,year) %&gt;% summarise(pop=sum(pop))\n\n\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;%filter(continent=='Asia'), x = ~year, y = ~pop,mode = 'lines')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#line-width-and-colour",
    "href": "Plot/2 plotly.html#line-width-and-colour",
    "title": "Plotly in R",
    "section": "1.4 line width and colour",
    "text": "1.4 line width and colour\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;%filter(continent=='Asia'), x = ~year, y = ~pop,mode = 'lines',line = list(color = 'rgb(205, 12, 24)', width = 8))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#color-by-group-1",
    "href": "Plot/2 plotly.html#color-by-group-1",
    "title": "Plotly in R",
    "section": "2.2 Color by Group",
    "text": "2.2 Color by Group\nTo display multiple lines, one for each group, you can map a categorical variable to the color argument.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop,color = ~continent,mode = 'lines')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#set-bin-number",
    "href": "Plot/2 plotly.html#set-bin-number",
    "title": "Plotly in R",
    "section": "3.1 Set Bin Number",
    "text": "3.1 Set Bin Number\nYou can control the number of bins in a histogram using the nbinsx argument, which affects the granularity of the distribution visualization.\n\n\nCode\nfig &lt;- plot_ly(data=tips,x = ~total_bill, type = \"histogram\",nbinsx = 5 )\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#color-by-group-2",
    "href": "Plot/2 plotly.html#color-by-group-2",
    "title": "Plotly in R",
    "section": "3.2 Color by Group",
    "text": "3.2 Color by Group\nSimilar to scatter plots, you can color histogram bars by a categorical variable to compare distributions across different groups.\n\n\nCode\nfig &lt;- plot_ly(data=tips,x = ~total_bill,color=~sex, type = \"histogram\")\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#show-number",
    "href": "Plot/2 plotly.html#show-number",
    "title": "Plotly in R",
    "section": "4.1 Show Number",
    "text": "4.1 Show Number\nYou can display the exact values on top of the bars using the text argument.\n\n\nCode\nfig &lt;- plot_ly(data=tips2,x = ~sex,y=~total_bill,text=~total_bill, type = \"bar\")\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#horizontal-barplot",
    "href": "Plot/2 plotly.html#horizontal-barplot",
    "title": "Plotly in R",
    "section": "3.2 Horizontal Barplot",
    "text": "3.2 Horizontal Barplot\n\n\nCode\nfig &lt;- plot_ly(data=tips2,y = ~sex,x=~total_bill,color=~sex, type = \"bar\",orientation = 'h')\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#bar-chart-order",
    "href": "Plot/2 plotly.html#bar-chart-order",
    "title": "Plotly in R",
    "section": "4.3 Bar Chart Order",
    "text": "4.3 Bar Chart Order\nYou can control the order of categories on the x-axis using layout(xaxis = list(categoryorder = ...)). Options include \"total ascending\" and \"total descending\".\n\n\nCode\nfig &lt;- plot_ly(data=tips2,x = ~sex,y=~total_bill,color=~sex, type = \"bar\")%&gt;% \n  layout(xaxis = list(categoryorder = \"total ascending\"))\n\nfig\n\n\n\n\n\n\n\n\nCode\nfig &lt;- plot_ly(data=tips2,x = ~sex,y=~total_bill,color=~sex, type = \"bar\")%&gt;% \n  layout(xaxis = list(categoryorder = \"total descending\"))\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#color-by-group-3",
    "href": "Plot/2 plotly.html#color-by-group-3",
    "title": "Plotly in R",
    "section": "5.1 Color by Group",
    "text": "5.1 Color by Group\nYou can create separate box plots for different groups by mapping a categorical variable to the x-axis and coloring by it.\n\n\nCode\nfig &lt;- plot_ly(data=tips,x = ~sex,y=~total_bill,color=~sex, type = \"box\")\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#color-by-group-4",
    "href": "Plot/2 plotly.html#color-by-group-4",
    "title": "Plotly in R",
    "section": "6.1 Color by Group",
    "text": "6.1 Color by Group\nYou can also apply color mapping and adjust the jitter position for better visualization of overlapping points.\n\n\nCode\np=ggplot(tips, aes(day,tip,color=sex)) + geom_jitter(position=position_jitterdodge())\nggplotly(p)",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#add-title",
    "href": "Plot/2 plotly.html#add-title",
    "title": "Plotly in R",
    "section": "Add Title",
    "text": "Add Title\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\") %&gt;% layout(title = 'Distribution of Total Bill by Sex')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#adjust-size",
    "href": "Plot/2 plotly.html#adjust-size",
    "title": "Plotly in R",
    "section": "Adjust Size",
    "text": "Adjust Size\nControl the width and height of the plot using the width and height arguments in plot_ly().\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\", width = 500, height = 300)\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#change-x-y-name",
    "href": "Plot/2 plotly.html#change-x-y-name",
    "title": "Plotly in R",
    "section": "7.3 change x y name",
    "text": "7.3 change x y name\n\n\nCode\nfig &lt;- plot_ly(data=tips,x = ~total_bill,color=~sex, type = \"histogram\") %&gt;% layout(title = 'new title'\n                                                                                   ,xaxis = list(title = 'new x')\n                                                                                  ,yaxis = list(title = 'new y') \n                                                                                    )\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#change-x-y-axis-range",
    "href": "Plot/2 plotly.html#change-x-y-axis-range",
    "title": "Plotly in R",
    "section": "7.4 change x y axis range",
    "text": "7.4 change x y axis range\n\n\nCode\nfig &lt;- plot_ly(data=tips,x = ~total_bill,color=~sex, type = \"histogram\") %&gt;% layout(title = 'new title'\n                                                                                   ,xaxis = list(title = 'new x',range=c(20,40))\n                                                                                  ,yaxis = list(title = 'new y',range=c(20,40)) \n                                                                                    )\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#add-footnote",
    "href": "Plot/2 plotly.html#add-footnote",
    "title": "Plotly in R",
    "section": "Add Footnote",
    "text": "Add Footnote\nFootnotes can be added using the annotations argument within layout(), allowing you to include additional descriptive text.\n\n\nCode\nfig %&gt;% layout(annotations = \n               list(x = 1, y = -0.1, \n                    text = \"Source: reshape2 package\", \n                    showarrow = F, \n                    xref = 'paper', \n                    yref = 'paper', \n                    xanchor = 'right', \n                    yanchor = 'auto', \n                    xshift = 0, \n                    yshift = 0))",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#legend",
    "href": "Plot/2 plotly.html#legend",
    "title": "Plotly in R",
    "section": "8.6 Legend",
    "text": "8.6 Legend\n\n8.6.1 Hide Legend\nYou can hide the legend by setting showlegend = FALSE in the layout() function.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop,color = ~continent,mode = 'lines') %&gt;% layout(showlegend = FALSE)\nfig\n\n\n\n\n\n\n\n\n8.6.2 Show Legend and Change Legend Name\nTo explicitly show the legend and customize the name of a trace, use the name argument within plot_ly() and ensure showlegend = TRUE.\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;% filter(continent=='Asia'), x = ~year, y = ~pop,color = ~continent,mode = 'lines',name='Asia pop') %&gt;% layout(showlegend = TRUE)\nfig\n\n\n\n\n\n\n\n\n8.6.3 Change Legend Position and Orientation\nYou can adjust the legend’s position and orientation (e.g., horizontal) using the legend argument within layout().\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop,color = ~continent,mode = 'lines') %&gt;% layout(legend = list(orientation = 'h'))\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/5 Map/2 China accident map with mapview.html",
    "href": "Plot/5 Map/2 China accident map with mapview.html",
    "title": "China accident map",
    "section": "",
    "text": "1 data\ndata source :https://github.com/percent4/chinese_incident_tracker\n\n\nCode\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(jsonlite)\nlibrary(curl)\nlibrary(lubridate)\nlibrary(plotly)\nlibrary(ggplot2)\nlibrary(openxlsx)\nlibrary(readxl)\n\n\n\n\n2 one file\n\n\nCode\n#url &lt;- \"https://raw.githubusercontent.com/percent4/chinese_incident_tracker/main/elk/data/00105670-df53-4be8-9039-8a07fe2d2b4d.json\"\n#download.file(url,\"./data/SAFI.json\", mode = \"wb\")\n\n\n\n\nCode\ndata001 &lt;- read_json(\"./data/SAFI.json\")\n\n\n\n\nCode\ndata002=data001 %&gt;% as.data.frame()\ncolnames(data002)[14] = \"latitude\"\ncolnames(data002)[15] = \"longitude\"\nglimpse(data002)\n\n\nRows: 1\nColumns: 22\n$ item_id            &lt;chr&gt; \"00105670-df53-4be8-9039-8a07fe2d2b4d\"\n$ news_channel       &lt;chr&gt; \"新闻坊\"\n$ title              &lt;chr&gt; \"一养老院突发火灾，已致3死10伤！\"\n$ report             &lt;chr&gt; \"4月4日\\n\\n“东莞应急管理”\\n\\n发布情况通报\\n\\n↓↓↓\\n\\n4月4日4时21分，东莞万…\n$ original_websites  &lt;chr&gt; \"https://mp.weixin.qq.com/s/xUZR8gZ_N0UqGj0GvH6L8A\"\n$ start_date         &lt;chr&gt; \"2024-04-04\"\n$ start_time         &lt;chr&gt; \"2024-04-04 04:21:00\"\n$ update_time        &lt;chr&gt; \"2024-05-03 10:50:01\"\n$ incident_type      &lt;chr&gt; \"火灾\"\n$ incident_reason    &lt;chr&gt; \"该建筑为一栋11层楼房，起火部位为第三层303房，过火面积约20平方米。\"…\n$ person_death_num   &lt;int&gt; 3\n$ person_injury_num  &lt;int&gt; 10\n$ person_missing_num &lt;int&gt; 0\n$ latitude           &lt;dbl&gt; 113.6952\n$ longitude          &lt;dbl&gt; 23.07464\n$ place              &lt;chr&gt; \"东莞万江街道康怡护理院（公助民办养老院）\"\n$ province           &lt;chr&gt; \"广东省\"\n$ city               &lt;chr&gt; \"东莞市\"\n$ county             &lt;chr&gt; \"\"\n$ town               &lt;chr&gt; \"万江街道\"\n$ village            &lt;chr&gt; \"\"\n$ is_final           &lt;lgl&gt; TRUE\n\n\n\n\n3 all file\n\n\nCode\n#url=\"https://github.com/percent4/chinese_incident_tracker/archive/refs/heads/main.zip\"\n#download.file(url,\"./data/data.zip\", mode = \"wb\")\n\n\n\n\nCode\n#unzip(\"./data/data.zip\",exdir=\"./data/out\")\n\n\n\n\nCode\nfrom &lt;- \"./data/out/chinese_incident_tracker-main/elk/data\"\nto   &lt;- \"./data/json_folder\"\nfile.copy(list.files(from, full.names = TRUE), \n          to, \n          recursive = TRUE)\n\n\n [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[46] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n\n\n\n\nCode\n#list.files(\"./data/json_folder\")\n\n\n\n\nCode\nall_data=tibble()\n\nfor (i in list.files(\"./data/json_folder\")) {\n  #print(i)\n  data001=read_json(paste0(\"./data/json_folder/\",i))\n  data002=data001 %&gt;% as.data.frame()\n  colnames(data002)[14] = \"Longitude\"\n  colnames(data002)[15] = \"Latitude\"\n  #print(data002)\n  \n  all_data=rbind(all_data,data002)\n}\n\n\n\n\nCode\nall_data=all_data %&gt;% mutate(text=paste0(incident_type,\" \",\"死亡人数:\",person_death_num,\" 受伤人数:\",person_injury_num)\n                             ,month_year= format_ISO8601(ymd(start_date), precision = \"ym\")\n                             )\n\n\n\n\nCode\nglimpse(all_data)\n\n\nRows: 60\nColumns: 24\n$ item_id            &lt;chr&gt; \"00105670-df53-4be8-9039-8a07fe2d2b4d\", \"0683ba1e-7…\n$ news_channel       &lt;chr&gt; \"新闻坊\", \"中国新闻网\", \"凤凰网\", \"搜狐网\", \"每日经济新闻\", \"中国新闻网\", \"杭…\n$ title              &lt;chr&gt; \"一养老院突发火灾，已致3死10伤！\", \"江西于都一矿企发生事故 致3死2伤\", \"#云南镇雄突发山…\n$ report             &lt;chr&gt; \"4月4日\\n\\n“东莞应急管理”\\n\\n发布情况通报\\n\\n↓↓↓\\n\\n4月4日4时21分，东莞万…\n$ original_websites  &lt;chr&gt; \"https://mp.weixin.qq.com/s/xUZR8gZ_N0UqGj0GvH6L8A\"…\n$ start_date         &lt;chr&gt; \"2024-04-04\", \"2024-04-24\", \"2024-01-22\", \"2024-02-…\n$ start_time         &lt;chr&gt; \"2024-04-04 04:21:00\", \"2024-04-24 00:08:48\", \"2024…\n$ update_time        &lt;chr&gt; \"2024-05-03 10:50:01\", \"2024-05-03 00:08:48\", \"2024…\n$ incident_type      &lt;chr&gt; \"火灾\", \"溃水\", \"山体滑坡\", \"房屋坍塌\", \"燃气爆炸\", \"火灾\", \"摔伤\", \"摔伤…\n$ incident_reason    &lt;chr&gt; \"该建筑为一栋11层楼房，起火部位为第三层303房，过火面积约20平方米。\", \"企业清理排洪隧洞时溃…\n$ person_death_num   &lt;int&gt; 3, 3, 44, 1, 7, 4, 1, 1, 7, 1, 18, 4, 5, 1, 15, 12,…\n$ person_injury_num  &lt;int&gt; 10, 2, 2, 0, 27, 4, 0, 0, 0, 11, 1155, 0, 3, 2, 44,…\n$ person_missing_num &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 6, 0, …\n$ Longitude          &lt;dbl&gt; 113.69524, 115.32158, 104.95514, 113.28304, 116.808…\n$ Latitude           &lt;dbl&gt; 23.07464, 25.72126, 27.49063, 32.22574, 39.95258, 4…\n$ place              &lt;chr&gt; \"东莞万江街道康怡护理院（公助民办养老院）\", \"于都县龙鑫矿业有限公司选矿厂\", \"云南省昭通市镇雄…\n$ province           &lt;chr&gt; \"广东省\", \"江西省\", \"云南省\", \"湖北省\", \"河北省\", \"内蒙古自治区\", \"新疆维吾尔…\n$ city               &lt;chr&gt; \"东莞市\", \"赣州市\", \"昭通市\", \"随州市\", \"廊坊市\", \"呼和浩特市\", \"伊犁哈萨克自…\n$ county             &lt;chr&gt; \"\", \"于都县\", \"镇雄县\", \"随县\", \"三河市\", \"新城区\", \"富蕴县\", \"富蕴县\",…\n$ town               &lt;chr&gt; \"万江街道\", \"祁禄山镇\", \"塘房镇\", \"万和镇\", \"燕郊镇\", \"\", \"\", \"\", \"宁…\n$ village            &lt;chr&gt; \"\", \"金沙村\", \"\", \"\", \"小张各庄\", \"\", \"\", \"\", \"乔家沟\", \"\", \"…\n$ is_final           &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRU…\n$ text               &lt;chr&gt; \"火灾 死亡人数:3 受伤人数:10\", \"溃水 死亡人数:3 受伤人数:2\", \"山体滑坡 死亡人数…\n$ month_year         &lt;chr&gt; \"2024-04\", \"2024-04\", \"2024-01\", \"2024-02\", \"2024-0…\n\n\n\n\nCode\n#write.xlsx(all_data,'all_data.xlsx')\n\n\n\n\n4 chart\ngroup to month ::: {.cell}\n\nCode\nchartdata001=all_data %&gt;% group_by(month_year)  %&gt;%  summarise(person_death_num=sum(person_death_num)\n                                                           ,person_injury_num=sum(person_injury_num)\n                                                           )\n\n:::\nwide to long ::: {.cell}\n\nCode\nchartdata002=chartdata001 %&gt;%select(month_year,person_death_num,person_injury_num) %&gt;% \n  pivot_longer(!c(month_year), names_to = 'type', values_to = 'DATA')\n\n:::\n\n\nCode\ngg=ggplot(chartdata001, aes(x=month_year, y=person_death_num,label = person_death_num))+\n  geom_bar(stat=\"identity\",fill='red')+ geom_text(vjust = -1,\n              position = position_dodge(width = 0.9))+ theme_bw()\n\n\nggplotly(gg)\n\n\n\n\n\n\n\n\nCode\ngg=ggplot(chartdata002, aes(fill=type, y=DATA, x=month_year)) +\n    geom_col(position = \"dodge\") +\n    geom_text(aes(label = DATA), vjust = 1.5,\n              position = position_dodge(width = 0.9))+scale_y_log10()+ theme_light()\n\npp=ggplotly(gg)\n\npp\n\n\n\n\n\n\n\n\n5 map\n\n\nCode\nall_data2 =all_data %&gt;%  mutate(report=report %&gt;% str_trunc(100))\n\n\n\n\nCode\n#write.xlsx(all_data2,'all_data2.xlsx')\n\n\n\n\nCode\nlibrary(mapview)\nlibrary(sf)\nlibrary(stringr)\n\nmapview(all_data2, map.types='OpenStreetMap',label='text',xcol = \"Longitude\", ycol = \"Latitude\", zcol='incident_type',cex=\"person_death_num\",crs = 4269, grid = FALSE)\n\n\n\n\n\n\n\n\n6 resouce:\nhttps://github.com/percent4/chinese_incident_tracker\nhttps://github.com/r-spatial/mapview\nhttps://maps.clb.org.hk/\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Plot",
      "5 Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/5 Map/1 leaflet.html",
    "href": "Plot/5 Map/1 leaflet.html",
    "title": "map",
    "section": "",
    "text": "1 data\n\n\nCode\nlibrary(tidyverse)\n\nlibrary(sf)\nlibrary(leaflet)\nlibrary(geojsonio)\nlibrary(leaflet.extras)\n\n\n\n\n2 display at openstreet map\n\n\nCode\nm &lt;- leaflet() %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # add markers\n  addMarkers(lng=174.768, lat=-36.852, popup=\"The birthplace of R\")\n\nm  \n\n\n\n\n\n\n\n\n3 display at google map\n\n\nCode\nleaflet() |&gt;\n  # add base mao\n  addTiles(urlTemplate = \"https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}\") |&gt;\n  # set view\n  setView(116.347817690225, 39.997202126977, zoom = 16) |&gt;\n  # add markers\n  addMarkers(116.347817690225, 39.997202126977)\n\n\n\n\n\n\n\n\n4 Third-Party map\n\n\nCode\n#m &lt;- leaflet() %&gt;% setView(lng = -71.0589, lat = 42.3601, zoom = 10)\n#m %&gt;% addProviderTiles(providers$Stadia.StamenToner)\n\n\n\n\n5 add pop up\nPopups are small boxes containing arbitrary HTML, that point to a specific point on the map.\n\n\nCode\ncontent &lt;- paste(sep = \"&lt;br/&gt;\",\n  \"&lt;b&gt;&lt;a href='https://www.samurainoodle.com/'&gt;Samurai Noodle&lt;/a&gt;&lt;/b&gt;\",\n  \"606 5th Ave. S\",\n  \"Seattle, WA 98138\"\n)\n\nleaflet() %&gt;% addTiles() %&gt;%\n  setView(-122.327298, 47.597131,zoom = 12) %&gt;% \n  addPopups(-122.327298, 47.597131, content,\n    #options = popupOptions(closeButton = FALSE)\n    options = popupOptions(closeButton = FALSE)\n  )\n\n\n\n\n\n\n\n\n6 add Markers\n\n\nCode\nlibrary(htmltools)\n\ndf &lt;- read.csv(textConnection(\n\"Name,Lat,Long\nSamurai Noodle,47.597131,-122.327298\nKukai Ramen,47.6154,-122.327157\nTsukushinbo,47.59987,-122.326726\"\n))\n\nleaflet(df) %&gt;% addTiles() %&gt;%\n  addMarkers(~Long, ~Lat, popup = ~htmlEscape(Name))\n\n\n\n\n\n\n\n\n7 add Labels\nA label is a textual or HTML content that can attached to markers and shapes to be always displayed or displayed on mouse over. Unlike popups you don’t need to click a marker/polygon for the label to be shown.\n\n\nCode\nlibrary(htmltools)\n\ndf &lt;- read.csv(textConnection(\n\"Name,Lat,Long\nSamurai Noodle,47.597131,-122.327298\nKukai Ramen,47.6154,-122.327157\nTsukushinbo,47.59987,-122.326726\"))\n\nleaflet(df) %&gt;% addTiles() %&gt;%\n  addMarkers(~Long, ~Lat, label = ~htmlEscape(Name))\n\n\n\n\n\n\n\n\n8 World map\n\n\nCode\n#install.packages(\"https://cran.r-project.org/src/contrib/Archive/maptools/maptools_1.1-8.tar.gz\")\n\n\n\n\nCode\njson_data=read_sf(\"world-administrative-boundaries.geojson\")\n\n\n\n\nCode\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\n#Get my variable\n#name&lt;-c(\"Ghana\", \"Grenada\", \"Guyana\", \"India\", \"Jamaica\", \"Kenya\", \"United States\",\"Canada\")\n#val&lt;-c(1,2,4,5,5,1000,20000, 100)\n\n#per_gdp_usd&lt;-data.frame(name,val)\n\n\n\n\nCode\nlibrary(openxlsx)\nlibrary(readxl)\n\nper_gdp_usd=read_excel('world data.xlsx') %&gt;% mutate(\n  name=case_when(\n    name ==\"United States\" ~ \"United States of America\"\n     ,name ==\"Russia\" ~ \"Russian Federation\"\n   ,name ==\"U.K. of Great Britain and Northern Ireland\" ~ \"United Kingdom\"\n   \n   ,name ==\"U.K. of Great Britain and Northern Ireland\" ~ \"United Kingdom\"\n   \n   ,name == \"South Korea\"~ \"Republic of Korea\"\n   \n   ,name ==\"Lao People's Democratic Republic\" ~ \"Laos\"\n   \n    ,TRUE ~ name\n  )\n)\n\n\n\n\nCode\n#test=full_join(map_df, per_gdp_usd, by=\"name\")\n\n#left =test %&gt;% filter(is.na(iso3)==TRUE)\n\n#right=test %&gt;% filter(is.na(per_gdp_total)==TRUE)\n\n\n\n\nCode\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"name\")\n\n\n\n\nCode\nglimpse(map_df002)\n\n\nRows: 158\nColumns: 12\n$ name                     &lt;chr&gt; \"Albania\", \"Algeria\", \"Andorra\", \"Angola\", \"A…\n$ geo_point_2d             &lt;chr&gt; \"{ \\\"lon\\\": 20.068384605918776, \\\"lat\\\": 41.1…\n$ iso3                     &lt;chr&gt; \"ALB\", \"DZA\", \"AND\", \"AGO\", \"ARG\", \"ARM\", \"AU…\n$ status                   &lt;chr&gt; \"Member State\", \"Member State\", \"Member State…\n$ color_code               &lt;chr&gt; \"ALB\", \"DZA\", \"AND\", \"AGO\", \"ARG\", \"ARM\", \"AU…\n$ continent                &lt;chr&gt; \"Europe\", \"Africa\", \"Europe\", \"Africa\", \"Amer…\n$ region                   &lt;chr&gt; \"Southern Europe\", \"Northern Africa\", \"Southe…\n$ iso_3166_1_alpha_2_codes &lt;chr&gt; \"AL\", \"DZ\", \"AD\", \"AO\", \"AR\", \"AM\", \"AU\", \"AT…\n$ french_short             &lt;chr&gt; \"Albanie\", \"Algérie\", \"Andorre\", \"Angola\", \"A…\n$ geometry                 &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((20.07142 42..., …\n$ per_gdp_total            &lt;dbl&gt; 1.888210e+10, 1.919130e+11, 3.352033e+09, 1.0…\n$ per_gdp_usd              &lt;dbl&gt; 6643, 4274, 41993, 2999, 13904, 7014, 64003, …\n\n\n\n\nCode\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")\n\n\n\n\nCode\npal &lt;- colorNumeric(\"viridis\", NULL)\n\nleaflet(map_sf002) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(per_gdp_usd)\n    ,popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_gdp_usd, \"（千 美元）\", \"&lt;br/&gt;\"\n      \n    )\n     ,label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", round(map_sf002$per_gdp_usd/1000), \"K &lt;br/&gt;\",\n       \"总gpd 美元：\", round(map_sf002$per_gdp_total/1000000), \"M &lt;br/&gt;\"\n\n    ), htmltools::HTML)\n    )%&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_gdp_usd, opacity = 1.0\n    )\n\n\n\n\n\n\n\n\n9 China one city map\n\n\nCode\njson_data &lt;- sf::read_sf(\"./GeoMapData_CN/citys/440300.json\") \n#or\njson_data=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/440300_full.json\")\n\n\n深圳市： ::: {.cell}\n\nCode\npal &lt;- colorNumeric(\"viridis\", NULL)\n\nleaflet(json_data) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.1)\n\n\n\n\n\n:::\n\n\n10 all China each province GPD map\n\n\nCode\njson_data=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/100000_full.json\")\n\n\n中国 2022 各省 人均gpd usd：\n\n\nCode\nlibrary(openxlsx)\nlibrary(readxl)\nper_gdp_usd=read_excel('china gdp2022.xlsx')\n\n\n\n\nCode\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"city\")\n\n\n\n\nCode\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")\n\n\n\n\nCode\npal &lt;- colorNumeric(\"viridis\", NULL)\n\nleaflet(map_sf002) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(per_gpd_usd)\n    ,popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_gpd_usd, \"（美万）\", \"&lt;br/&gt;\"\n      \n    )\n     ,label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", map_sf002$per_gpd_usd, \"&lt;br/&gt;\",\n      \"人均gpd 人民币：\", map_sf002$per_gpd_rmb, \"&lt;br/&gt;\",\n       \"人口：\", round(map_sf002$total_gpd_rmb/map_sf002$per_gpd_rmb), \"&lt;br/&gt;\"\n    ), htmltools::HTML)\n    )%&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_gpd_usd, opacity = 1.0\n    )\n\n\n\n\n\n\nGPD data source:国家统计局数据库\n\n\n11 China one province map each city GPD\n\n\nCode\njson_data &lt;- sf::read_sf(\"./GeoMapData_CN/province/440000.json\") \n\n\n广东省 2021 人均gpd usd：\n\n\nCode\nlibrary(openxlsx)\nlibrary(readxl)\nper_gdp_usd=read_excel('guangdong city gdp2021.xlsx')\n\n\n\n\nCode\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"city\")\n\n\n\n\nCode\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")\n\n\ndata source:广东统计年鉴2022 ::: {.cell}\n\nCode\npal &lt;- colorNumeric(\"viridis\", NULL)\n\nleaflet(map_sf002) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(per_gpd_usd)\n    ,popup = ~ paste0(\n      \"城市：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_gpd_usd, \"（美万）\", \"&lt;br/&gt;\"\n      \n    )\n     ,label = lapply(paste0(\n      \"城市：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", map_sf002$per_gpd_usd, \"&lt;br/&gt;\",\n      \"人均gpd 人民币：\", map_sf002$per_gpd_rmb, \"&lt;br/&gt;\",\n       \"人口：\", round(map_sf002$total_gpd_rmb*10000000/map_sf002$per_gpd_rmb), \"&lt;br/&gt;\"\n    ), htmltools::HTML)\n    )%&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_gpd_usd, opacity = 1.0\n    )\n\n\n\n\n\n:::\nhttps://zh.wikipedia.org/wiki/%E5%B9%BF%E4%B8%9C%E5%90%84%E5%9C%B0%E7%BA%A7%E5%B8%82%E5%9C%B0%E5%8C%BA%E7%94%9F%E4%BA%A7%E6%80%BB%E5%80%BC%E5%88%97%E8%A1%A8\n\n\n12 China province map\n\n\nCode\nlibrary(leaflet)\nlibrary(sf)\n\njson_data &lt;- sf::read_sf(\"./GeoMapData_CN/china.json\") \n#or\njson_data=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/100000_full.json\")\n\n\npal &lt;- colorNumeric(\"viridis\", NULL)\n\nm=leaflet(json_data) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.1)\n \n\nm\n\n\n\n\n\n\nadd provincial capital ::: {.cell}\n\nCode\nChina=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/100000_full.json\")\n\n:::\n\n\nCode\nChina002=China %&gt;% as_data_frame() %&gt;% mutate(\n                                            center2=as.character(center) %&gt;% str_replace('c','')%&gt;% str_replace('[(]','') %&gt;% str_replace('[)]','')\n                                               )\n\n\n\n\nCode\nChina003=China002%&gt;%separate(center2, c(\"x\", \"y\"), \", \")\n\n\n\n\nCode\nChina_point = China003 %&gt;% \n  slice(-35)\n\nm %&gt;% \n  addCircles(data = China_point,\n                  lng = ~as.numeric(x), lat = ~as.numeric(y),color = \"red\",weight = 10,\n                  fillOpacity =2)\n\n\n\n\n\n\n\n\n13 China province and city map\n\n\nCode\nmap_list &lt;- lapply(\n  X = list.files(\"./GeoMapData_CN/province\", recursive = T, full.names = T),\n  FUN = sf::read_sf\n)\n\nlength(map_list)\n\n\n[1] 34\n\n\n\n\nCode\nfor (i in c(1:length(map_list))){\n   #print(i)\n  #print(dim(map_list[[i]]))\n  #print(ncol(map_list[[i]]))\n  if(ncol(map_list[[i]])!=10){print(map_list[[i]])}\n  }\n\n\nSimple feature collection with 1 feature and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 119.3183 ymin: 21.75147 xmax: 124.5656 ymax: 25.92592\nGeodetic CRS:  WGS 84\n# A tibble: 1 × 5\n  adcode name   center               level                              geometry\n  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;                &lt;chr&gt;                    &lt;MULTIPOLYGON [°]&gt;\n1 710000 台湾省 121.509062,25.044332 province (((119.5543 23.68248, 119.555 23.…\n\n\n\n\nCode\nX = list.files(\"./GeoMapData_CN/province\", recursive = T, full.names = T)\n\nX2=X[-which(X %in% c(\"./GeoMapData_CN/province/710000.json\"\n         ))]\n\nmap_list &lt;- lapply(\n  X = X2,\n  FUN = sf::read_sf\n)\n\n\n\n\nCode\nlength(map_list)\n\n\n[1] 33\n\n\n\n\nCode\nprovince_map &lt;- Reduce(\"rbind\", map_list)\n\n\n\n\nCode\n# library(leaflet)\n# library(sf)\n# \n# json_data &lt;- province_map\n# \n# \n# pal &lt;- colorNumeric(c(\"red\", \"green\", \"blue\"), 1:10)\n# \n# leaflet(json_data) %&gt;%\n#   addTiles() %&gt;%\n#   addPolygons(smoothFactor = 0.3, fillOpacity = 0.1)\n\n\n\n\n14 China city and district map\n\n\nCode\nmap_list &lt;- lapply(\n  X = list.files(\"./GeoMapData_CN/citys\", recursive = T, full.names = T),\n  FUN = sf::read_sf\n)\n\nlength(map_list)\n\n\n[1] 334\n\n\n\n\nCode\nfor (i in c(1:length(map_list))){\n   #print(i)\n  #print(dim(map_list[[i]]))\n  #print(ncol(map_list[[i]]))\n  if(ncol(map_list[[i]])!=10){print(map_list[[i]])}\n  }\n\n\nSimple feature collection with 1 feature and 4 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 113.5215 ymin: 22.65421 xmax: 114.2603 ymax: 23.14205\nGeodetic CRS:  WGS 84\n# A tibble: 1 × 5\n  adcode name   center               level                              geometry\n  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;                &lt;chr&gt;                         &lt;POLYGON [°]&gt;\n1 441900 东莞市 113.746262,23.046237 city  ((114.2292 22.81251, 114.2278 22.813…\nSimple feature collection with 1 feature and 4 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 113.157 ymin: 22.20104 xmax: 113.692 ymax: 22.7726\nGeodetic CRS:  WGS 84\n# A tibble: 1 × 5\n  adcode name   center               level                              geometry\n  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;                &lt;chr&gt;                         &lt;POLYGON [°]&gt;\n1 442000 中山市 113.382391,22.521113 city  ((113.5687 22.41193, 113.5666 22.412…\nSimple feature collection with 1 feature and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 115.9267 ymin: 20.58265 xmax: 116.9338 ymax: 21.12693\nGeodetic CRS:  WGS 84\n# A tibble: 1 × 5\n  adcode name     center               level                            geometry\n  &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;                &lt;chr&gt;                  &lt;MULTIPOLYGON [°]&gt;\n1 442100 东沙群岛 116.887312,20.617512 city  (((115.9433 21.09745, 115.95 21.11…\nSimple feature collection with 1 feature and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 108.9287 ymin: 19.17894 xmax: 109.7694 ymax: 19.92575\nGeodetic CRS:  WGS 84\n# A tibble: 1 × 5\n  adcode name   center               level                              geometry\n  &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;                &lt;chr&gt;                    &lt;MULTIPOLYGON [°]&gt;\n1 460400 儋州市 109.576782,19.517486 city  (((109.4322 19.91302, 109.4253 19.91…\nSimple feature collection with 1 feature and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 97.8483 ymin: 39.65426 xmax: 98.52018 ymax: 39.99979\nGeodetic CRS:  WGS 84\n# A tibble: 1 × 5\n  adcode name     center              level                             geometry\n  &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;               &lt;chr&gt;                   &lt;MULTIPOLYGON [°]&gt;\n1 620200 嘉峪关市 98.277304,39.786529 city  (((97.85974 39.7169, 97.85827 39.71…\n\n\n\n\nCode\nX = list.files(\"./GeoMapData_CN/citys\", recursive = T, full.names = T)\n\nX2=X[-which(X %in% c(\"./GeoMapData_CN/citys/620200.json\"\n         ,\"./GeoMapData_CN/citys/460400.json\"\n              ,\"./GeoMapData_CN/citys/442100.json\"\n              ,\"./GeoMapData_CN/citys/442000.json\"\n              ,\"./GeoMapData_CN/citys/441900.json\"\n         ))]\n\nmap_list &lt;- lapply(\n  X = X2,\n  FUN = sf::read_sf\n)\n\n\n\n\nCode\nlength(map_list)\n\n\n[1] 329\n\n\n\n\nCode\nprovince_map &lt;- Reduce(\"rbind\", map_list)\n\n\n\n\nCode\n# library(leaflet)\n# library(sf)\n# \n# json_data &lt;- province_map\n# \n# \n# pal &lt;- colorNumeric(c(\"red\", \"green\", \"blue\"), 1:10)\n# \n# leaflet(json_data) %&gt;%\n#   addTiles() %&gt;%\n#   addPolygons(smoothFactor = 0.3, fillOpacity = 0.1)\n\n\n\n\n15 show all map providers\n\n\nCode\nproviders\n\n\nproviders\n$OpenStreetMap\n[1] \"OpenStreetMap\"\n\n$OpenStreetMap.Mapnik\n[1] \"OpenStreetMap.Mapnik\"\n\n$OpenStreetMap.DE\n[1] \"OpenStreetMap.DE\"\n\n$OpenStreetMap.CH\n[1] \"OpenStreetMap.CH\"\n\n$OpenStreetMap.France\n[1] \"OpenStreetMap.France\"\n\n$OpenStreetMap.HOT\n[1] \"OpenStreetMap.HOT\"\n\n$OpenStreetMap.BZH\n[1] \"OpenStreetMap.BZH\"\n\n$MapTilesAPI\n[1] \"MapTilesAPI\"\n\n$MapTilesAPI.OSMEnglish\n[1] \"MapTilesAPI.OSMEnglish\"\n\n$MapTilesAPI.OSMFrancais\n[1] \"MapTilesAPI.OSMFrancais\"\n\n$MapTilesAPI.OSMEspagnol\n[1] \"MapTilesAPI.OSMEspagnol\"\n\n$OpenSeaMap\n[1] \"OpenSeaMap\"\n\n$OPNVKarte\n[1] \"OPNVKarte\"\n\n$OpenTopoMap\n[1] \"OpenTopoMap\"\n\n$OpenRailwayMap\n[1] \"OpenRailwayMap\"\n\n$OpenFireMap\n[1] \"OpenFireMap\"\n\n$SafeCast\n[1] \"SafeCast\"\n\n$Stadia\n[1] \"Stadia\"\n\n$Stadia.AlidadeSmooth\n[1] \"Stadia.AlidadeSmooth\"\n\n$Stadia.AlidadeSmoothDark\n[1] \"Stadia.AlidadeSmoothDark\"\n\n$Stadia.OSMBright\n[1] \"Stadia.OSMBright\"\n\n$Stadia.Outdoors\n[1] \"Stadia.Outdoors\"\n\n$Stadia.StamenToner\n[1] \"Stadia.StamenToner\"\n\n$Stadia.StamenTonerBackground\n[1] \"Stadia.StamenTonerBackground\"\n\n$Stadia.StamenTonerLines\n[1] \"Stadia.StamenTonerLines\"\n\n$Stadia.StamenTonerLabels\n[1] \"Stadia.StamenTonerLabels\"\n\n$Stadia.StamenTonerLite\n[1] \"Stadia.StamenTonerLite\"\n\n$Stadia.StamenWatercolor\n[1] \"Stadia.StamenWatercolor\"\n\n$Stadia.StamenTerrain\n[1] \"Stadia.StamenTerrain\"\n\n$Stadia.StamenTerrainBackground\n[1] \"Stadia.StamenTerrainBackground\"\n\n$Stadia.StamenTerrainLabels\n[1] \"Stadia.StamenTerrainLabels\"\n\n$Stadia.StamenTerrainLines\n[1] \"Stadia.StamenTerrainLines\"\n\n$Thunderforest\n[1] \"Thunderforest\"\n\n$Thunderforest.OpenCycleMap\n[1] \"Thunderforest.OpenCycleMap\"\n\n$Thunderforest.Transport\n[1] \"Thunderforest.Transport\"\n\n$Thunderforest.TransportDark\n[1] \"Thunderforest.TransportDark\"\n\n$Thunderforest.SpinalMap\n[1] \"Thunderforest.SpinalMap\"\n\n$Thunderforest.Landscape\n[1] \"Thunderforest.Landscape\"\n\n$Thunderforest.Outdoors\n[1] \"Thunderforest.Outdoors\"\n\n$Thunderforest.Pioneer\n[1] \"Thunderforest.Pioneer\"\n\n$Thunderforest.MobileAtlas\n[1] \"Thunderforest.MobileAtlas\"\n\n$Thunderforest.Neighbourhood\n[1] \"Thunderforest.Neighbourhood\"\n\n$CyclOSM\n[1] \"CyclOSM\"\n\n$Jawg\n[1] \"Jawg\"\n\n$Jawg.Streets\n[1] \"Jawg.Streets\"\n\n$Jawg.Terrain\n[1] \"Jawg.Terrain\"\n\n$Jawg.Sunny\n[1] \"Jawg.Sunny\"\n\n$Jawg.Dark\n[1] \"Jawg.Dark\"\n\n$Jawg.Light\n[1] \"Jawg.Light\"\n\n$Jawg.Matrix\n[1] \"Jawg.Matrix\"\n\n$MapBox\n[1] \"MapBox\"\n\n$MapTiler\n[1] \"MapTiler\"\n\n$MapTiler.Streets\n[1] \"MapTiler.Streets\"\n\n$MapTiler.Basic\n[1] \"MapTiler.Basic\"\n\n$MapTiler.Bright\n[1] \"MapTiler.Bright\"\n\n$MapTiler.Pastel\n[1] \"MapTiler.Pastel\"\n\n$MapTiler.Positron\n[1] \"MapTiler.Positron\"\n\n$MapTiler.Hybrid\n[1] \"MapTiler.Hybrid\"\n\n$MapTiler.Toner\n[1] \"MapTiler.Toner\"\n\n$MapTiler.Topo\n[1] \"MapTiler.Topo\"\n\n$MapTiler.Voyager\n[1] \"MapTiler.Voyager\"\n\n$TomTom\n[1] \"TomTom\"\n\n$TomTom.Basic\n[1] \"TomTom.Basic\"\n\n$TomTom.Hybrid\n[1] \"TomTom.Hybrid\"\n\n$TomTom.Labels\n[1] \"TomTom.Labels\"\n\n$Esri\n[1] \"Esri\"\n\n$Esri.WorldStreetMap\n[1] \"Esri.WorldStreetMap\"\n\n$Esri.DeLorme\n[1] \"Esri.DeLorme\"\n\n$Esri.WorldTopoMap\n[1] \"Esri.WorldTopoMap\"\n\n$Esri.WorldImagery\n[1] \"Esri.WorldImagery\"\n\n$Esri.WorldTerrain\n[1] \"Esri.WorldTerrain\"\n\n$Esri.WorldShadedRelief\n[1] \"Esri.WorldShadedRelief\"\n\n$Esri.WorldPhysical\n[1] \"Esri.WorldPhysical\"\n\n$Esri.OceanBasemap\n[1] \"Esri.OceanBasemap\"\n\n$Esri.NatGeoWorldMap\n[1] \"Esri.NatGeoWorldMap\"\n\n$Esri.WorldGrayCanvas\n[1] \"Esri.WorldGrayCanvas\"\n\n$OpenWeatherMap\n[1] \"OpenWeatherMap\"\n\n$OpenWeatherMap.Clouds\n[1] \"OpenWeatherMap.Clouds\"\n\n$OpenWeatherMap.CloudsClassic\n[1] \"OpenWeatherMap.CloudsClassic\"\n\n$OpenWeatherMap.Precipitation\n[1] \"OpenWeatherMap.Precipitation\"\n\n$OpenWeatherMap.PrecipitationClassic\n[1] \"OpenWeatherMap.PrecipitationClassic\"\n\n$OpenWeatherMap.Rain\n[1] \"OpenWeatherMap.Rain\"\n\n$OpenWeatherMap.RainClassic\n[1] \"OpenWeatherMap.RainClassic\"\n\n$OpenWeatherMap.Pressure\n[1] \"OpenWeatherMap.Pressure\"\n\n$OpenWeatherMap.PressureContour\n[1] \"OpenWeatherMap.PressureContour\"\n\n$OpenWeatherMap.Wind\n[1] \"OpenWeatherMap.Wind\"\n\n$OpenWeatherMap.Temperature\n[1] \"OpenWeatherMap.Temperature\"\n\n$OpenWeatherMap.Snow\n[1] \"OpenWeatherMap.Snow\"\n\n$HERE\n[1] \"HERE\"\n\n$HERE.normalDay\n[1] \"HERE.normalDay\"\n\n$HERE.normalDayCustom\n[1] \"HERE.normalDayCustom\"\n\n$HERE.normalDayGrey\n[1] \"HERE.normalDayGrey\"\n\n$HERE.normalDayMobile\n[1] \"HERE.normalDayMobile\"\n\n$HERE.normalDayGreyMobile\n[1] \"HERE.normalDayGreyMobile\"\n\n$HERE.normalDayTransit\n[1] \"HERE.normalDayTransit\"\n\n$HERE.normalDayTransitMobile\n[1] \"HERE.normalDayTransitMobile\"\n\n$HERE.normalDayTraffic\n[1] \"HERE.normalDayTraffic\"\n\n$HERE.normalNight\n[1] \"HERE.normalNight\"\n\n$HERE.normalNightMobile\n[1] \"HERE.normalNightMobile\"\n\n$HERE.normalNightGrey\n[1] \"HERE.normalNightGrey\"\n\n$HERE.normalNightGreyMobile\n[1] \"HERE.normalNightGreyMobile\"\n\n$HERE.normalNightTransit\n[1] \"HERE.normalNightTransit\"\n\n$HERE.normalNightTransitMobile\n[1] \"HERE.normalNightTransitMobile\"\n\n$HERE.reducedDay\n[1] \"HERE.reducedDay\"\n\n$HERE.reducedNight\n[1] \"HERE.reducedNight\"\n\n$HERE.basicMap\n[1] \"HERE.basicMap\"\n\n$HERE.mapLabels\n[1] \"HERE.mapLabels\"\n\n$HERE.trafficFlow\n[1] \"HERE.trafficFlow\"\n\n$HERE.carnavDayGrey\n[1] \"HERE.carnavDayGrey\"\n\n$HERE.hybridDay\n[1] \"HERE.hybridDay\"\n\n$HERE.hybridDayMobile\n[1] \"HERE.hybridDayMobile\"\n\n$HERE.hybridDayTransit\n[1] \"HERE.hybridDayTransit\"\n\n$HERE.hybridDayGrey\n[1] \"HERE.hybridDayGrey\"\n\n$HERE.hybridDayTraffic\n[1] \"HERE.hybridDayTraffic\"\n\n$HERE.pedestrianDay\n[1] \"HERE.pedestrianDay\"\n\n$HERE.pedestrianNight\n[1] \"HERE.pedestrianNight\"\n\n$HERE.satelliteDay\n[1] \"HERE.satelliteDay\"\n\n$HERE.terrainDay\n[1] \"HERE.terrainDay\"\n\n$HERE.terrainDayMobile\n[1] \"HERE.terrainDayMobile\"\n\n$HEREv3\n[1] \"HEREv3\"\n\n$HEREv3.normalDay\n[1] \"HEREv3.normalDay\"\n\n$HEREv3.normalDayCustom\n[1] \"HEREv3.normalDayCustom\"\n\n$HEREv3.normalDayGrey\n[1] \"HEREv3.normalDayGrey\"\n\n$HEREv3.normalDayMobile\n[1] \"HEREv3.normalDayMobile\"\n\n$HEREv3.normalDayGreyMobile\n[1] \"HEREv3.normalDayGreyMobile\"\n\n$HEREv3.normalDayTransit\n[1] \"HEREv3.normalDayTransit\"\n\n$HEREv3.normalDayTransitMobile\n[1] \"HEREv3.normalDayTransitMobile\"\n\n$HEREv3.normalNight\n[1] \"HEREv3.normalNight\"\n\n$HEREv3.normalNightMobile\n[1] \"HEREv3.normalNightMobile\"\n\n$HEREv3.normalNightGrey\n[1] \"HEREv3.normalNightGrey\"\n\n$HEREv3.normalNightGreyMobile\n[1] \"HEREv3.normalNightGreyMobile\"\n\n$HEREv3.normalNightTransit\n[1] \"HEREv3.normalNightTransit\"\n\n$HEREv3.normalNightTransitMobile\n[1] \"HEREv3.normalNightTransitMobile\"\n\n$HEREv3.reducedDay\n[1] \"HEREv3.reducedDay\"\n\n$HEREv3.reducedNight\n[1] \"HEREv3.reducedNight\"\n\n$HEREv3.basicMap\n[1] \"HEREv3.basicMap\"\n\n$HEREv3.mapLabels\n[1] \"HEREv3.mapLabels\"\n\n$HEREv3.trafficFlow\n[1] \"HEREv3.trafficFlow\"\n\n$HEREv3.carnavDayGrey\n[1] \"HEREv3.carnavDayGrey\"\n\n$HEREv3.hybridDay\n[1] \"HEREv3.hybridDay\"\n\n$HEREv3.hybridDayMobile\n[1] \"HEREv3.hybridDayMobile\"\n\n$HEREv3.hybridDayTransit\n[1] \"HEREv3.hybridDayTransit\"\n\n$HEREv3.hybridDayGrey\n[1] \"HEREv3.hybridDayGrey\"\n\n$HEREv3.pedestrianDay\n[1] \"HEREv3.pedestrianDay\"\n\n$HEREv3.pedestrianNight\n[1] \"HEREv3.pedestrianNight\"\n\n$HEREv3.satelliteDay\n[1] \"HEREv3.satelliteDay\"\n\n$HEREv3.terrainDay\n[1] \"HEREv3.terrainDay\"\n\n$HEREv3.terrainDayMobile\n[1] \"HEREv3.terrainDayMobile\"\n\n$FreeMapSK\n[1] \"FreeMapSK\"\n\n$MtbMap\n[1] \"MtbMap\"\n\n$CartoDB\n[1] \"CartoDB\"\n\n$CartoDB.Positron\n[1] \"CartoDB.Positron\"\n\n$CartoDB.PositronNoLabels\n[1] \"CartoDB.PositronNoLabels\"\n\n$CartoDB.PositronOnlyLabels\n[1] \"CartoDB.PositronOnlyLabels\"\n\n$CartoDB.DarkMatter\n[1] \"CartoDB.DarkMatter\"\n\n$CartoDB.DarkMatterNoLabels\n[1] \"CartoDB.DarkMatterNoLabels\"\n\n$CartoDB.DarkMatterOnlyLabels\n[1] \"CartoDB.DarkMatterOnlyLabels\"\n\n$CartoDB.Voyager\n[1] \"CartoDB.Voyager\"\n\n$CartoDB.VoyagerNoLabels\n[1] \"CartoDB.VoyagerNoLabels\"\n\n$CartoDB.VoyagerOnlyLabels\n[1] \"CartoDB.VoyagerOnlyLabels\"\n\n$CartoDB.VoyagerLabelsUnder\n[1] \"CartoDB.VoyagerLabelsUnder\"\n\n$HikeBike\n[1] \"HikeBike\"\n\n$HikeBike.HikeBike\n[1] \"HikeBike.HikeBike\"\n\n$HikeBike.HillShading\n[1] \"HikeBike.HillShading\"\n\n$BasemapAT\n[1] \"BasemapAT\"\n\n$BasemapAT.basemap\n[1] \"BasemapAT.basemap\"\n\n$BasemapAT.grau\n[1] \"BasemapAT.grau\"\n\n$BasemapAT.overlay\n[1] \"BasemapAT.overlay\"\n\n$BasemapAT.terrain\n[1] \"BasemapAT.terrain\"\n\n$BasemapAT.surface\n[1] \"BasemapAT.surface\"\n\n$BasemapAT.highdpi\n[1] \"BasemapAT.highdpi\"\n\n$BasemapAT.orthofoto\n[1] \"BasemapAT.orthofoto\"\n\n$nlmaps\n[1] \"nlmaps\"\n\n$nlmaps.standaard\n[1] \"nlmaps.standaard\"\n\n$nlmaps.pastel\n[1] \"nlmaps.pastel\"\n\n$nlmaps.grijs\n[1] \"nlmaps.grijs\"\n\n$nlmaps.water\n[1] \"nlmaps.water\"\n\n$nlmaps.luchtfoto\n[1] \"nlmaps.luchtfoto\"\n\n$NASAGIBS\n[1] \"NASAGIBS\"\n\n$NASAGIBS.ModisTerraTrueColorCR\n[1] \"NASAGIBS.ModisTerraTrueColorCR\"\n\n$NASAGIBS.ModisTerraBands367CR\n[1] \"NASAGIBS.ModisTerraBands367CR\"\n\n$NASAGIBS.ViirsEarthAtNight2012\n[1] \"NASAGIBS.ViirsEarthAtNight2012\"\n\n$NASAGIBS.ModisTerraLSTDay\n[1] \"NASAGIBS.ModisTerraLSTDay\"\n\n$NASAGIBS.ModisTerraSnowCover\n[1] \"NASAGIBS.ModisTerraSnowCover\"\n\n$NASAGIBS.ModisTerraAOD\n[1] \"NASAGIBS.ModisTerraAOD\"\n\n$NASAGIBS.ModisTerraChlorophyll\n[1] \"NASAGIBS.ModisTerraChlorophyll\"\n\n$NLS\n[1] \"NLS\"\n\n$JusticeMap\n[1] \"JusticeMap\"\n\n$JusticeMap.income\n[1] \"JusticeMap.income\"\n\n$JusticeMap.americanIndian\n[1] \"JusticeMap.americanIndian\"\n\n$JusticeMap.asian\n[1] \"JusticeMap.asian\"\n\n$JusticeMap.black\n[1] \"JusticeMap.black\"\n\n$JusticeMap.hispanic\n[1] \"JusticeMap.hispanic\"\n\n$JusticeMap.multi\n[1] \"JusticeMap.multi\"\n\n$JusticeMap.nonWhite\n[1] \"JusticeMap.nonWhite\"\n\n$JusticeMap.white\n[1] \"JusticeMap.white\"\n\n$JusticeMap.plurality\n[1] \"JusticeMap.plurality\"\n\n$GeoportailFrance\n[1] \"GeoportailFrance\"\n\n$GeoportailFrance.plan\n[1] \"GeoportailFrance.plan\"\n\n$GeoportailFrance.parcels\n[1] \"GeoportailFrance.parcels\"\n\n$GeoportailFrance.orthos\n[1] \"GeoportailFrance.orthos\"\n\n$OneMapSG\n[1] \"OneMapSG\"\n\n$OneMapSG.Default\n[1] \"OneMapSG.Default\"\n\n$OneMapSG.Night\n[1] \"OneMapSG.Night\"\n\n$OneMapSG.Original\n[1] \"OneMapSG.Original\"\n\n$OneMapSG.Grey\n[1] \"OneMapSG.Grey\"\n\n$OneMapSG.LandLot\n[1] \"OneMapSG.LandLot\"\n\n$USGS\n[1] \"USGS\"\n\n$USGS.USTopo\n[1] \"USGS.USTopo\"\n\n$USGS.USImagery\n[1] \"USGS.USImagery\"\n\n$USGS.USImageryTopo\n[1] \"USGS.USImageryTopo\"\n\n$WaymarkedTrails\n[1] \"WaymarkedTrails\"\n\n$WaymarkedTrails.hiking\n[1] \"WaymarkedTrails.hiking\"\n\n$WaymarkedTrails.cycling\n[1] \"WaymarkedTrails.cycling\"\n\n$WaymarkedTrails.mtb\n[1] \"WaymarkedTrails.mtb\"\n\n$WaymarkedTrails.slopes\n[1] \"WaymarkedTrails.slopes\"\n\n$WaymarkedTrails.riding\n[1] \"WaymarkedTrails.riding\"\n\n$WaymarkedTrails.skating\n[1] \"WaymarkedTrails.skating\"\n\n$OpenAIP\n[1] \"OpenAIP\"\n\n$OpenSnowMap\n[1] \"OpenSnowMap\"\n\n$OpenSnowMap.pistes\n[1] \"OpenSnowMap.pistes\"\n\n$AzureMaps\n[1] \"AzureMaps\"\n\n$AzureMaps.MicrosoftImagery\n[1] \"AzureMaps.MicrosoftImagery\"\n\n$AzureMaps.MicrosoftBaseDarkGrey\n[1] \"AzureMaps.MicrosoftBaseDarkGrey\"\n\n$AzureMaps.MicrosoftBaseRoad\n[1] \"AzureMaps.MicrosoftBaseRoad\"\n\n$AzureMaps.MicrosoftBaseHybridRoad\n[1] \"AzureMaps.MicrosoftBaseHybridRoad\"\n\n$AzureMaps.MicrosoftTerraMain\n[1] \"AzureMaps.MicrosoftTerraMain\"\n\n$AzureMaps.MicrosoftWeatherInfraredMain\n[1] \"AzureMaps.MicrosoftWeatherInfraredMain\"\n\n$AzureMaps.MicrosoftWeatherRadarMain\n[1] \"AzureMaps.MicrosoftWeatherRadarMain\"\n\n$SwissFederalGeoportal\n[1] \"SwissFederalGeoportal\"\n\n$SwissFederalGeoportal.NationalMapColor\n[1] \"SwissFederalGeoportal.NationalMapColor\"\n\n$SwissFederalGeoportal.NationalMapGrey\n[1] \"SwissFederalGeoportal.NationalMapGrey\"\n\n$SwissFederalGeoportal.SWISSIMAGE\n[1] \"SwissFederalGeoportal.SWISSIMAGE\"\n\n\n\n\n\nCode\nsessionInfo()\n\n\nsessionInfo()\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS 15.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] readxl_1.4.3         openxlsx_4.2.7.1     htmltools_0.5.8.1   \n [4] leaflet.extras_2.0.1 geojsonio_0.11.3     leaflet_2.2.2       \n [7] sf_1.0-18            lubridate_1.9.4      forcats_1.0.0       \n[10] stringr_1.5.1        dplyr_1.1.4          purrr_1.0.2         \n[13] readr_2.1.5          tidyr_1.3.1          tibble_3.2.1        \n[16] ggplot2_3.5.1        tidyverse_2.0.0     \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6            xfun_0.48               htmlwidgets_1.6.4      \n [4] lattice_0.22-6          tzdb_0.4.0              leaflet.providers_2.0.0\n [7] vctrs_0.6.5             tools_4.4.1             crosstalk_1.2.1        \n[10] generics_0.1.3          curl_6.2.0              proxy_0.4-27           \n[13] pkgconfig_2.0.3         KernSmooth_2.23-24      RColorBrewer_1.1-3     \n[16] lifecycle_1.0.4         farver_2.1.2            compiler_4.4.1         \n[19] munsell_0.5.1           jqr_1.4.0               class_7.3-22           \n[22] yaml_2.3.10             lazyeval_0.2.2          pillar_1.10.1          \n[25] jquerylib_0.1.4         classInt_0.4-10         zip_2.3.1              \n[28] tidyselect_1.2.1        digest_0.6.37           stringi_1.8.4          \n[31] fastmap_1.2.0           grid_4.4.1              colorspace_2.1-1       \n[34] cli_3.6.4               magrittr_2.0.3          utf8_1.2.4             \n[37] crul_1.5.0              e1071_1.7-16            withr_3.0.2            \n[40] scales_1.3.0            sp_2.1-4                timechange_0.3.0       \n[43] rmarkdown_2.28          cellranger_1.1.0        hms_1.1.3              \n[46] evaluate_1.0.1          knitr_1.48              V8_6.0.0               \n[49] viridisLite_0.4.2       geojson_0.3.5           rlang_1.1.5            \n[52] Rcpp_1.0.13-1           glue_1.8.0              DBI_1.2.3              \n[55] httpcode_0.3.0          geojsonsf_2.0.3         rstudioapi_0.17.1      \n[58] jsonlite_1.8.9          R6_2.6.1                units_0.8-5            \n\n\n\n\n\n16 resouce:\nhttps://rstudio.github.io/leaflet/\nhttps://github.com/Lchiffon/leafletCN\nhttps://github.com/longwosion/geojson-map-china\nhttps://xiangyun.rbind.io/2022/02/draw-china-maps/\nhttps://datav.aliyun.com/portal/school/atlas/area_selector\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Plot",
      "5 Map",
      "map"
    ]
  },
  {
    "objectID": "intro/7 error handling.html",
    "href": "intro/7 error handling.html",
    "title": "Error handling",
    "section": "",
    "text": "error: can not find Python specified in RETICULATE_PYTHON (/Library/Frameworks/Python.framework/Versions/3.12/bin/python3)\n\n\nwhich -a python python3\n\n\n\ngo to home folder by Command-Shift-H\nRETICULATE_PYTHON=\"/Library/Frameworks/Python.framework/Versions/3.13/bin/python3\"",
    "crumbs": [
      "Intro",
      "Error handling"
    ]
  },
  {
    "objectID": "intro/7 error handling.html#find-current-python-version",
    "href": "intro/7 error handling.html#find-current-python-version",
    "title": "Error handling",
    "section": "",
    "text": "which -a python python3",
    "crumbs": [
      "Intro",
      "Error handling"
    ]
  },
  {
    "objectID": "intro/7 error handling.html#change-python-version-in-.renviron-under-home-folder",
    "href": "intro/7 error handling.html#change-python-version-in-.renviron-under-home-folder",
    "title": "Error handling",
    "section": "",
    "text": "go to home folder by Command-Shift-H\nRETICULATE_PYTHON=\"/Library/Frameworks/Python.framework/Versions/3.13/bin/python3\"",
    "crumbs": [
      "Intro",
      "Error handling"
    ]
  },
  {
    "objectID": "intro/6 data analytic in R book.html",
    "href": "intro/6 data analytic in R book.html",
    "title": "Data analytic in R book",
    "section": "",
    "text": "R for Data Science\nby Garrett Grolemund, Hadley Wickham 2017\n\n\n\nHands on programming with R\nby Garrett Grolemund, Hadley Wickham\n\n\n\nTidy Modeling with R\nby Max Kuhn and Julia Silge\n\n(https://www.tmwr.org/)\n\n\nDeep Learning with R\nby François Chollet,J. J. Allaire\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Intro",
      "Data analytic in R book"
    ]
  },
  {
    "objectID": "intro/5 R boook.html",
    "href": "intro/5 R boook.html",
    "title": "R book",
    "section": "",
    "text": "The Art of R Programming\nby Norman Matloff 2011\n\n\n\nThe book of R\nby Tilman M. Davie 2016\n\n\n\nR in action\nby Robert I. Kabacoff 2011\n\n\n\nR Packages\nby Hadley Wickham Jennifer Bryan\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Intro",
      "R book"
    ]
  },
  {
    "objectID": "other/6 other/1 chromote.html",
    "href": "other/6 other/1 chromote.html",
    "title": "chromote",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(chromote)\n\n\n\n\nCode\npackageVersion(\"chromote\")\n\n\n\n1 create view\n\n\nCode\nlibrary(chromote)\n\nb &lt;- ChromoteSession$new()\n\n# In a web browser, open a viewer for the headless browser. Works best with\n# Chromium-based browsers.\nb$view()\n\n\n\n\nCode\nb$Browser$getVersion()\n\n\n\n\n2 go to page\n\n\nCode\nb$Page$navigate(\"https://www.r-project.org/\")\n\n\n\n\n3 take picture\n\n\nCode\n# Saves to screenshot.png\nb$screenshot()\n\n\n\n\nCode\n# Takes a screenshot of elements picked out by CSS selector\nis_interactive &lt;- interactive() # Display screenshot if interactive\nb$screenshot(\"sidebar.png\", selector = \"h1\" ,show = is_interactive)\n\n\n\n\n4 take picture as pdf\n\n\nCode\nb$screenshot_pdf(filename='page.pdf')\n\n\n\n\n5 Reference:\nhttps://rstudio.github.io/chromote/\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "6 other",
      "chromote"
    ]
  },
  {
    "objectID": "other/2 web scrap/web scrap.html",
    "href": "other/2 web scrap/web scrap.html",
    "title": "web scrap",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(rvest)\n\n\n\n1 table\n\n\nCode\nlibrary(tidyverse)\ncontent &lt;- read_html(\"https://en.wikipedia.org/wiki/List_of_highest-grossing_films_in_the_United_States_and_Canada\")\ntables &lt;- content %&gt;% html_table(fill = TRUE)\nfirst_table &lt;- tables[[1]]\nfirst_table &lt;- first_table[-1,]\nfirst_table\n\n\n\n\n2 Reference:\nhttps://rvest.tidyverse.org/reference/read_html_live.html\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "2 web scrap",
      "web scrap"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/1 shiny weight tracking.html",
    "href": "Publish/1 Shiny/1 shiny weight tracking.html",
    "title": "Shiny in R:weight tracking",
    "section": "",
    "text": "1 Shiny app:https://tonyflying.shinyapps.io/weight_tracking\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in R:weight tracking"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/3 China accident map.html",
    "href": "Publish/1 Shiny/3 China accident map.html",
    "title": "Shiny in R:China accident map",
    "section": "",
    "text": "1 Shiny app:https://tduan.shinyapps.io/China_accident_map/\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in R:China accident map"
    ]
  },
  {
    "objectID": "Publish/2 quarto/4 quarto presentation .html",
    "href": "Publish/2 quarto/4 quarto presentation .html",
    "title": "quarto presentation",
    "section": "",
    "text": "Code\n---\ntitle: \"Habits\"\nauthor: \"John Doe\"\nformat: revealjs\n---",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "Publish/2 quarto/5 quarto extensions.html",
    "href": "Publish/2 quarto/5 quarto extensions.html",
    "title": "quarto Extensioins",
    "section": "",
    "text": "Extensions are a powerful way to modify and extend the behavior of Quarto. Quarto v1.2 Required for Quarto Extensions.\n\n1 quarto extension： lightbox\nAn extension that uses the GLightbox javascript library to add lightbox styling and behavior to images in your HTML documents.\n\n\n2 Installation:\n\n\n\nCode\n\nTerminal\n\nquarto install extension quarto-ext/lightbox\n\n\n\n\n\n3 Usage:\nThe Lightbox extension can automatically give images in your web page a lightbox treatment. You can enable this like:\nin header yaml:\n\n\nCode\n---\ntitle: Simple Lightbox Example\nfilters:\n   - lightbox\nlightbox: auto\n---\n\n\nIn addition to simply providing a lightbox treatment for individual images, you can also group images into a ‘gallery’. When the user activates the lightbox, they will be able to page through the images in the gallery without returning to the main document.\nin content:\n\n\nCode\n![](images/image-562149792.png){group=\"my-gallery\"\ndescription=\"its a picture\"}\n\n\n\n\n4 quarto extension lightbox example:\ncode:example.qmd\nwebsite:example.qmd.\n\n\n5 list quarto extension\ngo to folder which have added quarto extension\n\n\n\nCode\n\nTerminal\n\n\nquarto list extensions\n\n\n\n\n\n\n6 update quarto extension\n\n\n\nCode\n\nTerminal\n\n\nquarto update quarto-ext/fontawesome\n\n\n\n\n\n7 remove quarto extension\n\n\n\nCode\n\nTerminal\n\n\nquarto remove quarto-ext/fontawesome\n\n\n\nIf you run the quarto remove extension command with no extension-id, you will be presented with a list of extensions that are present and you may select which extensions to remove.\n\n\n8 Reference\nhttps://quarto.org/docs/extensions/\nhttps://github.com/quarto-ext/lightbox\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto Extensioins"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html",
    "href": "Publish/2 quarto/1 quarto tips.html",
    "title": "quarto introduction",
    "section": "",
    "text": "https://quarto.org/docs/get-started/\n\n\n\n\n\nCode\ninstall.packages(\"quarto\")",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#install-quarto-cli",
    "href": "Publish/2 quarto/1 quarto tips.html#install-quarto-cli",
    "title": "quarto introduction",
    "section": "",
    "text": "https://quarto.org/docs/get-started/",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#install-quarto-pacakge",
    "href": "Publish/2 quarto/1 quarto tips.html#install-quarto-pacakge",
    "title": "quarto introduction",
    "section": "",
    "text": "Code\ninstall.packages(\"quarto\")",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#in-terminal",
    "href": "Publish/2 quarto/1 quarto tips.html#in-terminal",
    "title": "quarto introduction",
    "section": "in Terminal",
    "text": "in Terminal\n\n\n\nCode\n\nTerminal\n\nquarto check",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#in-r",
    "href": "Publish/2 quarto/1 quarto tips.html#in-r",
    "title": "quarto introduction",
    "section": "in R",
    "text": "in R\n\n\nCode\nlibrary(quarto)\nquarto_version()\n\n\n[1] '99.9.9'\n\n\nquarto location\n\n\nCode\nquarto_path()\n\n\n[1] \"/usr/local/bin/quarto\"",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#r",
    "href": "Publish/2 quarto/1 quarto tips.html#r",
    "title": "quarto introduction",
    "section": "R",
    "text": "R\n```{R}\nversion\n```",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#python",
    "href": "Publish/2 quarto/1 quarto tips.html#python",
    "title": "quarto introduction",
    "section": "Python",
    "text": "Python\n```{python}\nimport sys\nprint(sys.version)\n```",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#bath",
    "href": "Publish/2 quarto/1 quarto tips.html#bath",
    "title": "quarto introduction",
    "section": "Bath",
    "text": "Bath\n```{bash}\necho \"foo\" \n```",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#in-yaml-header",
    "href": "Publish/2 quarto/1 quarto tips.html#in-yaml-header",
    "title": "quarto introduction",
    "section": "in YAML header",
    "text": "in YAML header\n---\ntitle: \"My Document\"\nexecute:\n  echo: false\njupyter: python3\n---\n\neval： Evaluate the code chunk (if false, just echos the code into the output).\necho： Include the source code in output.\noutput： Include the results of executing the code in the output (true, false, or asis to indicate that the output is raw markdown and should not have any of Quarto’s standard enclosing markdown).\nwarning： Include warnings in the output.\nerror： Evaluate the code chunk (if false, just echos the code into the output).\ninclude： Catch all for preventing any output (code or results) from being included (e.g. include: false suppresses all output from the code block).",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#in-code-chunk",
    "href": "Publish/2 quarto/1 quarto tips.html#in-code-chunk",
    "title": "quarto introduction",
    "section": "in code chunk",
    "text": "in code chunk\n\n\nCode\n #| eval: false",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#embed-youtube",
    "href": "Publish/2 quarto/1 quarto tips.html#embed-youtube",
    "title": "quarto introduction",
    "section": "embed youtube",
    "text": "embed youtube\n\n\nCode\n&lt;iframe width=\"640\" height=\"480\" src=\"https://www.youtube.com/embed/nku5zFMZAdU\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen&gt;\n&lt;/iframe&gt;",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#embed-local-video",
    "href": "Publish/2 quarto/1 quarto tips.html#embed-local-video",
    "title": "quarto introduction",
    "section": "embed local video",
    "text": "embed local video\n\n\nCode\n{{&lt; video images/vv.mp4 height=\"600\" &gt;}}",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#render-a-folder-or-file",
    "href": "Publish/2 quarto/1 quarto tips.html#render-a-folder-or-file",
    "title": "quarto introduction",
    "section": "render a folder or file",
    "text": "render a folder or file\n\n\n\nCode\n\nTerminal\n\nquarto render introduction.qmd\nquarto render subdir/",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-all-installed-package",
    "href": "intro/1 basic R.html#check-all-installed-package",
    "title": "Basic R",
    "section": "8.5 check all installed package",
    "text": "8.5 check all installed package\n\n\nCode\nlibrary(gt)\nip = as.data.frame(installed.packages()[,c(1,3:4)])\nip = ip[is.na(ip$Priority),1:2,drop=FALSE]\nip |&gt; gt() |&gt; opt_interactive()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "Publish/2 quarto/2 quarto blog.html#using-giscus-comment-tool",
    "href": "Publish/2 quarto/2 quarto blog.html#using-giscus-comment-tool",
    "title": "quarto blog",
    "section": "2.1 using giscus comment tool",
    "text": "2.1 using giscus comment tool\nhttps://giscus.app/\n\n2.1.1 step 1 install giscus on github\nhttps://github.com/apps/giscus\n\n\n2.1.2 step 2 enable GitHub Discussions for your repository\n\n\n\n2.1.3 step 3 add script to blog post\n’’’\n\n’’’",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#list-all-packages-on-cran",
    "href": "intro/1 basic R.html#list-all-packages-on-cran",
    "title": "Basic R",
    "section": "8.7 List all packages on CRAN",
    "text": "8.7 List all packages on CRAN\navailable.packages() returns a matrix of all packages available on CRAN.\n\n\nCode\ncran_package_num=available.packages(repos = \"http://cran.us.r-project.org\") |&gt; as.data.frame()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-local-installed-old-package-compare-with-cran",
    "href": "intro/1 basic R.html#check-local-installed-old-package-compare-with-cran",
    "title": "Basic R",
    "section": "8.8 check local installed old package compare with cran",
    "text": "8.8 check local installed old package compare with cran\n\n\nCode\nold.packages(repos = \"http://cran.us.r-project.org\")\n\n\n           Package     \ndata.table \"data.table\"\nDeriv      \"Deriv\"     \nevaluate   \"evaluate\"  \nkeyring    \"keyring\"   \nlattice    \"lattice\"   \nmgcv       \"mgcv\"      \nplotly     \"plotly\"    \nquantmod   \"quantmod\"  \n           LibPath                                                               \ndata.table \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"\nDeriv      \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"\nevaluate   \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"\nkeyring    \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"\nlattice    \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"\nmgcv       \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"\nplotly     \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"\nquantmod   \"/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/library\"\n           Installed Built   ReposVer\ndata.table \"1.17.4\"  \"4.5.0\" \"1.17.6\"\nDeriv      \"4.1.6\"   \"4.5.0\" \"4.2.0\" \nevaluate   \"1.0.3\"   \"4.5.0\" \"1.0.4\" \nkeyring    \"1.4.0\"   \"4.5.0\" \"1.4.1\" \nlattice    \"0.22-6\"  \"4.5.0\" \"0.22-7\"\nmgcv       \"1.9-1\"   \"4.5.0\" \"1.9-3\" \nplotly     \"4.10.4\"  \"4.5.0\" \"4.11.0\"\nquantmod   \"0.4.27\"  \"4.5.0\" \"0.4.28\"\n           Repository                                \ndata.table \"http://cran.us.r-project.org/src/contrib\"\nDeriv      \"http://cran.us.r-project.org/src/contrib\"\nevaluate   \"http://cran.us.r-project.org/src/contrib\"\nkeyring    \"http://cran.us.r-project.org/src/contrib\"\nlattice    \"http://cran.us.r-project.org/src/contrib\"\nmgcv       \"http://cran.us.r-project.org/src/contrib\"\nplotly     \"http://cran.us.r-project.org/src/contrib\"\nquantmod   \"http://cran.us.r-project.org/src/contrib\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#update-all-installed-package",
    "href": "intro/1 basic R.html#update-all-installed-package",
    "title": "Basic R",
    "section": "8.9 update all installed package",
    "text": "8.9 update all installed package\nUpdate packages which are currently out-of-date. Currently supports CRAN, Bioconductor, other CRAN-like repositories, GitHub, GitLab, Git, and BitBucket.\n\n\nCode\nupdate.packages(ask = FALSE, checkBuilt = TRUE)",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#inital-renv-and-create-renv.lock-with-current-loaded-pacakge",
    "href": "intro/1 basic R.html#inital-renv-and-create-renv.lock-with-current-loaded-pacakge",
    "title": "Basic R",
    "section": "11.1 inital renv and create renv.lock with current loaded pacakge",
    "text": "11.1 inital renv and create renv.lock with current loaded pacakge\n\n\nCode\nrenv::init()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#show-all-installed-pacakge",
    "href": "intro/1 basic R.html#show-all-installed-pacakge",
    "title": "Basic R",
    "section": "11.2 show all installed pacakge",
    "text": "11.2 show all installed pacakge\n\n\nCode\nlibrary(gt)\ninstalled_pacakge = as.data.frame(installed.packages()[,c(1,3:4)])\ninstalled_pacakge = installed_pacakge[is.na(installed_pacakge$Priority),1:2,drop=FALSE]",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#show-all-installed-pacakge-and-loaded-pacakge",
    "href": "intro/1 basic R.html#show-all-installed-pacakge-and-loaded-pacakge",
    "title": "Basic R",
    "section": "11.3 show all installed pacakge and loaded pacakge",
    "text": "11.3 show all installed pacakge and loaded pacakge\n\n\nCode\nlibrary(dplyr)\ninstalled_pacakge = as.data.frame(installed.packages()[,c(1,3:4)])\ninstalled_pacakge = installed_pacakge[is.na(installed_pacakge$Priority),1:2,drop=FALSE]\ninstalled_pacakge |&gt; filter(Package %in% (.packages()))|&gt; gt() |&gt; opt_interactive()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#when-using-renv-and-install-new-pakcage",
    "href": "intro/1 basic R.html#when-using-renv-and-install-new-pakcage",
    "title": "Basic R",
    "section": "11.4 when using renv and install new pakcage",
    "text": "11.4 when using renv and install new pakcage\n\n\nCode\n# it will not work\n# library(lubridate)",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#install-new-package-with-renvinstall",
    "href": "intro/1 basic R.html#install-new-package-with-renvinstall",
    "title": "Basic R",
    "section": "11.5 install new package with renv::install",
    "text": "11.5 install new package with renv::install\n\n\nCode\nrenv::install('lubridate')\n\n\n\n\nCode\nlibrary(lubridate)",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-current-package-and-renv-package",
    "href": "intro/1 basic R.html#check-current-package-and-renv-package",
    "title": "Basic R",
    "section": "11.6 check current package and renv package",
    "text": "11.6 check current package and renv package\n\n\nCode\nrenv::status()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#update-lock-file",
    "href": "intro/1 basic R.html#update-lock-file",
    "title": "Basic R",
    "section": "9.2 Update lock file",
    "text": "9.2 Update lock file\nrenv::snapshot() updates the renv.lock file to reflect the current state of the project’s library.\n\n\nCode\nrenv::snapshot()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-status-again",
    "href": "intro/1 basic R.html#check-status-again",
    "title": "Basic R",
    "section": "11.8 check status again",
    "text": "11.8 check status again\n\n\nCode\nrenv::status()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#make-all-current-pakcage-version-back-to-renv-list",
    "href": "intro/1 basic R.html#make-all-current-pakcage-version-back-to-renv-list",
    "title": "Basic R",
    "section": "11.9 make all current pakcage version back to renv list",
    "text": "11.9 make all current pakcage version back to renv list\n\n\nCode\nrenv::restore()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#update-all-pakcage-in-renv.-recommand-do-it-once-a-year-to-keep-package-updated.",
    "href": "intro/1 basic R.html#update-all-pakcage-in-renv.-recommand-do-it-once-a-year-to-keep-package-updated.",
    "title": "Basic R",
    "section": "11.10 update all pakcage in renv. recommand do it once a year to keep package updated.",
    "text": "11.10 update all pakcage in renv. recommand do it once a year to keep package updated.\nUpdate packages which are currently out-of-date. Currently supports CRAN, Bioconductor, other CRAN-like repositories, GitHub, GitLab, Git, and BitBucket.\n\n\nCode\nrenv::update()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#update-renv-itself-only",
    "href": "intro/1 basic R.html#update-renv-itself-only",
    "title": "Basic R",
    "section": "11.11 update renv itself only",
    "text": "11.11 update renv itself only\n\n\nCode\nrenv::upgrade()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#close-renv-in-a-project",
    "href": "intro/1 basic R.html#close-renv-in-a-project",
    "title": "Basic R",
    "section": "11.12 close renv in a project",
    "text": "11.12 close renv in a project\n\n\nCode\nrenv::deactivate()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#re-enable-renv-in-a-project",
    "href": "intro/1 basic R.html#re-enable-renv-in-a-project",
    "title": "Basic R",
    "section": "11.13 re enable renv in a project",
    "text": "11.13 re enable renv in a project\n\n\nCode\nrenv::activate()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#centrality-mean-median-mode",
    "href": "intro/3 Statistics.html#centrality-mean-median-mode",
    "title": "Statistics",
    "section": "6.1 Centrality: Mean, Median, Mode",
    "text": "6.1 Centrality: Mean, Median, Mode",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#spread-variance-standard-deviation-and-the-interquartile-range",
    "href": "intro/3 Statistics.html#spread-variance-standard-deviation-and-the-interquartile-range",
    "title": "Statistics",
    "section": "6.2 Spread: Variance, Standard Deviation, and the Interquartile Range",
    "text": "6.2 Spread: Variance, Standard Deviation, and the Interquartile Range",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#covariance-and-correlation",
    "href": "intro/3 Statistics.html#covariance-and-correlation",
    "title": "Statistics",
    "section": "6.3 Covariance and Correlation",
    "text": "6.3 Covariance and Correlation\nWhen analyzing data, it’s often useful to be able to investigate the rela- tionship between two numeric variables to assess trends. For example, you might expect height and weight observations to have a noticeable positive relationship—taller people tend to weigh more. Conversely, you might imag- ine that handspan and length of hair would have less of an association. One of the simplest and most common ways such associations are quantified and compared is through the idea of correlation, for which you need the covariance. The covariance expresses how much two numeric variables “change together” and the nature of that relationship,",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "intro/3 Statistics.html#correlationpearsons-product-moment-correlation-coefficient",
    "href": "intro/3 Statistics.html#correlationpearsons-product-moment-correlation-coefficient",
    "title": "Statistics",
    "section": "6.4 Correlation,Pearson’s product-moment correlation coefficient",
    "text": "6.4 Correlation,Pearson’s product-moment correlation coefficient\nPearson’s sample correlation coef- ficient ρxy is computed by dividing the sample covariance by the product of the standard deviation of each data set\n\nSome Correlation Example:",
    "crumbs": [
      "Intro",
      "Statistics"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#freeze",
    "href": "Publish/2 quarto/1 quarto tips.html#freeze",
    "title": "quarto introduction",
    "section": "Freeze",
    "text": "Freeze\nYou can use the freeze option to denote that computational documents should never be re-rendered during a global project render, or alternatively only be re-rendered when their source file changes:\nin _quarto.yml(for all page) or header(only for this page)\n\n\n\nCode\n\n_quarto.yml\n\nexecute:\n  freeze: true  # never re-render during project render\n\n\n\n\n\n\nCode\n\n_quarto.yml\n\nexecute:\n  freeze: auto  # re-render only when source changes",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#cache",
    "href": "Publish/2 quarto/1 quarto tips.html#cache",
    "title": "quarto introduction",
    "section": "Cache",
    "text": "Cache\nYou can use the cache option to cache the results of computations (using the knitr cache for R documents, and Jupyter Cache for Jupyter documents):\n\n\n\nCode\n\n_quarto.yml\n\nexecute:\n  cache: true\n\n\n\nNote that cache invalidation is triggered by changes in chunk source code (or other cache attributes you’ve defined). You may however need to manually refresh the cache if you know that some other input (or even time) has changed sufficiently to warrant an update. To do this, render either individual files or an entire project using the –cache-refresh option:\nsource:https://quarto.org/docs/projects/code-execution.html\n\n\n\nCode\n\nTerminal\n\nquarto render mydoc.qmd --cache-refresh # single doc\nquarto render --cache-refresh           # entire project",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#in-_quarto.ymlfor-all-page-or-headeronly-for-this-page",
    "href": "Publish/2 quarto/1 quarto tips.html#in-_quarto.ymlfor-all-page-or-headeronly-for-this-page",
    "title": "quarto introduction",
    "section": "in _quarto.yml(for all page) or header(only for this page)",
    "text": "in _quarto.yml(for all page) or header(only for this page)\n\n\n\nCode\n\n_quarto.yml\n\nformat:\n  html:\n    mainfont:Times New Roman\n    font-size: 120%;\n  \n# can find more font:https://developer.mozilla.org/en-US/docs/Web/CSS/font-family\n\n\n\nsource:https://quarto.org/docs/reference/formats/context.html",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#in-page",
    "href": "Publish/2 quarto/1 quarto tips.html#in-page",
    "title": "quarto introduction",
    "section": "in page",
    "text": "in page\n\n\nCode\n&lt;p style=\"font-family: times, serif; font-size:500% \"&gt;This is font size 500%&lt;/p&gt;\n\n\n\nThis is font size 500%\n\n\n\nCode\n&lt;p style=\"font-family: times, serif; font-size:50% \"&gt;This is font size 50%&lt;/p&gt;\n\n\n\nThis is font size 50%",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#using-giscus-comment-tool",
    "href": "Publish/2 quarto/1 quarto tips.html#using-giscus-comment-tool",
    "title": "quarto introduction",
    "section": "using giscus comment tool",
    "text": "using giscus comment tool\nhttps://giscus.app/\n\nstep 1 install giscus on github\nhttps://github.com/apps/giscus\n\n\nstep 2 enable GitHub Discussions for your repository\n\n\n\nstep 3 add script to blog post\n\n\nCode\n'''\n&lt;script src=\"https://giscus.app/client.js\"\n        data-repo=\"[ENTER REPO HERE]\"\n        data-repo-id=\"[ENTER REPO ID HERE]\"\n        data-category=\"[ENTER CATEGORY NAME HERE]\"\n        data-category-id=\"[ENTER CATEGORY ID HERE]\"\n        data-mapping=\"pathname\"\n        data-strict=\"0\"\n        data-reactions-enabled=\"1\"\n        data-emit-metadata=\"0\"\n        data-input-position=\"bottom\"\n        data-theme=\"preferred_color_scheme\"\n        data-lang=\"en\"\n        crossorigin=\"anonymous\"\n        async&gt;\n&lt;/script&gt;\n'''\n\n\n\nstep 3b or using comment for all page\nadd into _quarto.yml\n\n\n\nCode\n\n_quarto.yml\n\nformat:\n  html:\n    include-after-body: \n         - text: &lt;script src=\"https://giscus.app/client.js\" data-repo=\"[ENTER REPO HERE]\" data-repo-id=\"[ENTER REPO ID HERE]\" data-category=\"[ENTER CATEGORY NAME HERE]\" data-category-id=\"[ENTER CATEGORY ID HERE]\" data-mapping=\"pathname\" data-strict=\"0\" data-reactions-enabled=\"1\" data-emit-metadata=\"0\" data-input-position=\"bottom\" data-theme=\"preferred_color_scheme\" data-lang=\"en\" crossorigin=\"anonymous\" async&gt; &lt;/script&gt;",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/5 git/git.html",
    "href": "Publish/5 git/git.html",
    "title": "Git",
    "section": "",
    "text": "create or open R project(xxxxx.Rproj) in Rstudio\nenable github connection: \n\n\ncommit change and push to github\n\n\n\nReference:\nhttps://www.youtube.com/watch?v=PihKq1GPlcc\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "5 git",
      "Git"
    ]
  },
  {
    "objectID": "Publish/4 email/email.html",
    "href": "Publish/4 email/email.html",
    "title": "Email",
    "section": "",
    "text": "Code\nlibrary(blastula)\nlibrary(keyring)\n\n\n\n\n\n\n\n\nCode\ncreate_smtp_creds_key(\n  id = \"gmail001_creds\",\n  provider = \"gmail\",\n  user = \"verykoala@gmail.com\",\n  overwrite = TRUE\n  )\n\n\n\n\n\n\n\nCode\n# create_smtp_creds_key(\n#   id = \"outlook001_creds\",\n#   provider = \"outlook\",\n#   user = \"jcpartner@outlook.com\",\n#   overwrite = TRUE\n#   )\n\ncreate_smtp_creds_file(file = \"ggnot_throwaway_creds\",\n                       user = \"jcpartner@outlook.com\",\n                       provider = \"outlook\")\n\n\n\n\nCode\n#delete_credential_key(\"gmail001_creds\")\n\n\n\n\nCode\nview_credential_keys()\n\n\n\n\n\n\n\n\nCode\nlibrary(blastula)\nmsg=compose_email(\n  body = md(\n  \"Hi there 👋,\n  \n  This is an email to let you now thatrunning job **finished**.\n\n  Best,&lt;br&gt;\n  Tony\"\n  )\n)\n\nmsg\n\n\n\n\n\n\n\n\n\nCode\nmsg %&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nlibrary(Microsoft365R)\noutl &lt;- get_personal_outlook()\n\n\n\n\nCode\n# list the most recent emails in your Inbox\n#outl$list_emails()\n\n\n\n\nCode\nem &lt;- outl$create_email(msg, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\n\n\n\n\nCode\nem$send()\n\n\n\n\n\n\n\n\nCode\nemail_obj=render_email('.quarto_email.Rmd')\n\n\n\n\nCode\nemail_obj\n\n\n\n\n\n\nCode\nemail_obj%&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nem &lt;- outl$create_email(email_obj, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\nem$send()",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/4 email/email.html#create-smtp-credentials",
    "href": "Publish/4 email/email.html#create-smtp-credentials",
    "title": "Email",
    "section": "",
    "text": "Code\ncreate_smtp_creds_key(\n  id = \"gmail001_creds\",\n  provider = \"gmail\",\n  user = \"verykoala@gmail.com\",\n  overwrite = TRUE\n  )\n\n\n\n\n\n\n\nCode\n# create_smtp_creds_key(\n#   id = \"outlook001_creds\",\n#   provider = \"outlook\",\n#   user = \"jcpartner@outlook.com\",\n#   overwrite = TRUE\n#   )\n\ncreate_smtp_creds_file(file = \"ggnot_throwaway_creds\",\n                       user = \"jcpartner@outlook.com\",\n                       provider = \"outlook\")\n\n\n\n\nCode\n#delete_credential_key(\"gmail001_creds\")\n\n\n\n\nCode\nview_credential_keys()",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/4 email/email.html#email-content",
    "href": "Publish/4 email/email.html#email-content",
    "title": "Email",
    "section": "",
    "text": "Code\nlibrary(blastula)\nmsg=compose_email(\n  body = md(\n  \"Hi there 👋,\n  \n  This is an email to let you now thatrunning job **finished**.\n\n  Best,&lt;br&gt;\n  Tony\"\n  )\n)\n\nmsg",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/4 email/email.html#send-email",
    "href": "Publish/4 email/email.html#send-email",
    "title": "Email",
    "section": "",
    "text": "Code\nmsg %&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nlibrary(Microsoft365R)\noutl &lt;- get_personal_outlook()\n\n\n\n\nCode\n# list the most recent emails in your Inbox\n#outl$list_emails()\n\n\n\n\nCode\nem &lt;- outl$create_email(msg, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\n\n\n\n\nCode\nem$send()",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "Publish/4 email/email.html#send-email-with-quarto-content",
    "href": "Publish/4 email/email.html#send-email-with-quarto-content",
    "title": "Email",
    "section": "",
    "text": "Code\nemail_obj=render_email('.quarto_email.Rmd')\n\n\n\n\nCode\nemail_obj\n\n\n\n\n\n\nCode\nemail_obj%&gt;% \n  smtp_send(\n    from = 'verykoala@gmail.com',\n    to = \"jcflyingco@outlook.com\",\n    subject = \"Testing the email function\",\n    credentials = creds_key(id = \"gmail001_creds\")\n  )\n\n\n\n\n\n\n\nCode\nem &lt;- outl$create_email(email_obj, subject=\"Hello\", to=\"jcflyingco@outlook.com\")\nem$send()",
    "crumbs": [
      "Publish",
      "4 email",
      "Email"
    ]
  },
  {
    "objectID": "other/2 web scrap/2 web scrap with chromote.html",
    "href": "other/2 web scrap/2 web scrap with chromote.html",
    "title": "web scrap with chromote",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(chromote)\n\n\n\n\nCode\npackageVersion(\"chromote\")\n\n\n\n1 create view\n\n\nCode\nlibrary(chromote)\n\nb &lt;- ChromoteSession$new()\n\n# In a web browser, open a viewer for the headless browser. Works best with\n# Chromium-based browsers.\nb$view()\n\n\n\n\nCode\nb$Browser$getVersion()\n\n\n\n\n2 go to page\n\n\nCode\nb$Page$navigate(\"https://www.bing.com\")\n\n\n\n\n3 take picture\n\n\nCode\n# Saves to screenshot.png\nb$screenshot()\n\n\n\n\nCode\n# Takes a screenshot of elements picked out by CSS selector\nis_interactive &lt;- interactive() # Display screenshot if interactive\nb$screenshot(\"sidebar.png\", selector = \"h1\" ,show = is_interactive)\n\n\n\n\n4 take picture as pdf\n\n\nCode\nb$screenshot_pdf(filename='page.pdf')\n\n\n\n\n5 Reference:\nhttps://rstudio.github.io/chromote/\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "2 web scrap",
      "web scrap with chromote"
    ]
  },
  {
    "objectID": "other/2 web scrap/1 web scrap with rvest.html",
    "href": "other/2 web scrap/1 web scrap with rvest.html",
    "title": "web scrap with rvest",
    "section": "",
    "text": "Code\nlibrary(rvest)\nlibrary(tidyverse)",
    "crumbs": [
      "Other",
      "2 web scrap",
      "web scrap with rvest"
    ]
  },
  {
    "objectID": "other/2 web scrap/3 web scrap advance.html",
    "href": "other/2 web scrap/3 web scrap advance.html",
    "title": "web scrap with advance",
    "section": "",
    "text": "Code\nfrom seleniumbase import SB\n\nwith SB(test=True, uc=True) as sb:\n    sb.open(\"https://google.com/ncr\")\n    sb.type('[title=\"Search\"]', \"SeleniumBase GitHub page\\n\")\n    sb.click('[href*=\"github.com/seleniumbase/\"]')\n    sb.save_screenshot_to_logs()  # ./latest_logs/\n    print(sb.get_page_title())\n\n\n\n\nCode\nfrom seleniumbase import SB\n\nwith SB(test=True, uc=True) as sb:\n    sb.open(\"https://www.whiskybase.com/whiskies/\")\n    #sb.type('[title=\"Search\"]', \"SeleniumBase GitHub page\\n\")\n    #sb.click('[href*=\"github.com/seleniumbase/\"]')\n    sb.save_screenshot_to_logs()  # ./latest_logs/\n    print(sb.get_page_title())\n\n\n\n\nCode\nfrom seleniumbase import Driver\nclass Scraper(BaseCase):\ndef test_bypass_bot_protection(self):\ndriver = Driver(uc=True)\ndriver.open(\"https://www.whiskybase.com/whiskies/whisky/268484/2009-ud\")\ndriver.uc_gui_click_captcha()\npage_html = driver.get_page_source()\nprint(page_html)\ndriver.quit()\n\n\n\n\nCode\nfrom bs4 import BeautifulSoup\nsoup = BeautifulSoup(page_html, 'html.parser')\nprint(soup.prettify())\n\n\n\n\nCode\nprint(soup.get_text())\n\n\n\n\nCode\nsoup.select(\".votes-rating-current\").text\n\n\nh1\n\n1 Reference:\nhttps://github.com/seleniumbase/SeleniumBase\nhttps://medium.com/@datajournal/web-scraping-with-seleniumbase-e3ead6aebe7f\nhttps://github.com/ultrafunkamsterdam/undetected-chromedriver\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "2 web scrap",
      "web scrap with advance"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#step-1.-add-foldablecodeblcok.lua-into-blog-root-folder",
    "href": "Publish/2 quarto/1 quarto tips.html#step-1.-add-foldablecodeblcok.lua-into-blog-root-folder",
    "title": "quarto introduction",
    "section": "step 1. add foldableCodeBlcok.lua into blog root folder",
    "text": "step 1. add foldableCodeBlcok.lua into blog root folder\n\n\n\nCode\n\nfoldableCodeBlcok.lua\n\nfunction CodeBlock(elem)\n  if elem.classes and elem.classes:find(\"details\") then\n    local summary = \"Code\"\n    if elem.attributes.summary then\n      summary = elem.attributes.summary\n    end\n    return{\n      pandoc.RawBlock(\n        \"html\", \"&lt;details&gt;&lt;summary&gt;\" .. summary .. \"&lt;/summary&gt;\"\n      ),\n      elem,\n      pandoc.RawBlock(\"html\", \"&lt;/details&gt;\")\n    }\n  end\nend",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#step-2.-add-following-line-in-_quarto.yml",
    "href": "Publish/2 quarto/1 quarto tips.html#step-2.-add-following-line-in-_quarto.yml",
    "title": "quarto introduction",
    "section": "step 2. add following line in _quarto.yml",
    "text": "step 2. add following line in _quarto.yml\n\n\n\nCode\n\n_quarto.yml\n\nwebsite:\n  title: \"quarto blog\"\n\nfilters:\n  - foldableCodeBlcok.lua",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#step-3.-put-following-on-code-chunk",
    "href": "Publish/2 quarto/1 quarto tips.html#step-3.-put-following-on-code-chunk",
    "title": "quarto introduction",
    "section": "step 3. put following on code chunk:",
    "text": "step 3. put following on code chunk:\n{r, attr.output='.details summary=\"sessionInfo()\"'}\n\n\nCode\nsessionInfo()\n\n\nsessionInfo()\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS 15.3.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] quarto_1.4.4\n\nloaded via a namespace (and not attached):\n [1] digest_0.6.37     later_1.4.1       fastmap_1.2.0     xfun_0.51        \n [5] knitr_1.49        htmltools_0.5.8.1 rmarkdown_2.29    ps_1.9.0         \n [9] cli_3.6.4         processx_3.8.6    compiler_4.4.1    rstudioapi_0.17.1\n[13] tools_4.4.1       evaluate_1.0.3    Rcpp_1.0.14       yaml_2.3.10      \n[17] rlang_1.1.5       jsonlite_1.9.1    htmlwidgets_1.6.4",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "other/2 web scrap/1 web scrap with rvest.html#get-3rd-table",
    "href": "other/2 web scrap/1 web scrap with rvest.html#get-3rd-table",
    "title": "web scrap with rvest",
    "section": "5.1 get 3rd table",
    "text": "5.1 get 3rd table\nfind table xpath\n\n\nCode\ntable=page %&gt;%html_element(xpath = '//*[@id=\"mw-content-text\"]/div[1]/table[3]') |&gt; html_table()\ntable |&gt; head()\n\n\n# A tibble: 6 × 11\n  `Driver name`     Nationality    `Seasons competed` `Drivers' Championships`\n  &lt;chr&gt;             &lt;chr&gt;          &lt;chr&gt;              &lt;chr&gt;                   \n1 Carlo Abate       Italy          1962–1963          0                       \n2 George Abecassis  United Kingdom 1951–1952          0                       \n3 Kenny Acheson     United Kingdom 1983, 1985         0                       \n4 Andrea de Adamich Italy          1968, 1970–1973    0                       \n5 Philippe Adams    Belgium        1994               0                       \n6 Walt Ader         United States  1950               0                       \n# ℹ 7 more variables: `Race entries` &lt;chr&gt;, `Race starts` &lt;chr&gt;,\n#   `Pole positions` &lt;chr&gt;, `Race wins` &lt;chr&gt;, Podiums &lt;chr&gt;,\n#   `Fastest laps` &lt;chr&gt;, `Points[a]` &lt;chr&gt;",
    "crumbs": [
      "Other",
      "2 web scrap",
      "web scrap with rvest"
    ]
  },
  {
    "objectID": "other/2 web scrap/1 web scrap with rvest.html#get-4th-table",
    "href": "other/2 web scrap/1 web scrap with rvest.html#get-4th-table",
    "title": "web scrap with rvest",
    "section": "5.2 get 4th table",
    "text": "5.2 get 4th table\nfind table xpath\n\n\nCode\ntable=page %&gt;%html_element(xpath = '//*[@id=\"mw-content-text\"]/div[1]/table[4]') |&gt; html_table()\ntable |&gt; head()\n\n\n# A tibble: 6 × 7\n  Country     Totaldrivers Champions Championships `Race wins` `First driver(s)`\n  &lt;chr&gt;       &lt;chr&gt;        &lt;chr&gt;     &lt;chr&gt;         &lt;chr&gt;       &lt;chr&gt;            \n1 Argentinad… 26           1(Fangio… 5(1951, 1954… \"38\\n(Fang… Juan Manuel Fang…\n2 Australiad… 18           2(Brabha… 4(1959, 1960… \"45\\n(Brab… Tony Gaze(1952 B…\n3 Austriadet… 16           2(Rindt,… 4(1970, 1975… \"41\\n(Rind… Jochen Rindt(196…\n4 Belgiumdet… 25           0         0             \"11\\n(Ickx… Johnny Claes(195…\n5 Brazildeta… 32           3(Fittip… 8(1972, 1974… \"101\\n(Fit… Chico Landi(1951…\n6 Canadadeta… 15           1(J. Vil… 1(1997)       \"17\\n(G. V… Peter Ryan(1961 …\n# ℹ 1 more variable: `Most recent driver(s)/Current driver(s)` &lt;chr&gt;\n\n\n\n\nCode\nsessionInfo()\n\n\nsessionInfo()\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS 15.3.1\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] lubridate_1.9.4 forcats_1.0.0   stringr_1.5.1   dplyr_1.1.4    \n [5] purrr_1.0.4     readr_2.1.5     tidyr_1.3.1     tibble_3.2.1   \n [9] ggplot2_3.5.1   tidyverse_2.0.0 rvest_1.0.4    \n\nloaded via a namespace (and not attached):\n [1] utf8_1.2.4        generics_0.1.3    xml2_1.3.7        stringi_1.8.4    \n [5] hms_1.1.3         digest_0.6.37     magrittr_2.0.3    evaluate_1.0.3   \n [9] grid_4.4.1        timechange_0.3.0  fastmap_1.2.0     jsonlite_1.9.1   \n[13] processx_3.8.6    chromote_0.4.0    ps_1.9.0          promises_1.3.2   \n[17] httr_1.4.7        selectr_0.4-2     scales_1.3.0      cli_3.6.4        \n[21] rlang_1.1.5       munsell_0.5.1     withr_3.0.2       yaml_2.3.10      \n[25] tools_4.4.1       tzdb_0.4.0        colorspace_2.1-1  curl_6.2.1       \n[29] vctrs_0.6.5       R6_2.6.1          lifecycle_1.0.4   htmlwidgets_1.6.4\n[33] pkgconfig_2.0.3   pillar_1.10.1     later_1.4.1       gtable_0.3.6     \n[37] glue_1.8.0        Rcpp_1.0.14       xfun_0.51         tidyselect_1.2.1 \n[41] rstudioapi_0.17.1 knitr_1.49        htmltools_0.5.8.1 websocket_1.4.2  \n[45] rmarkdown_2.29    compiler_4.4.1",
    "crumbs": [
      "Other",
      "2 web scrap",
      "web scrap with rvest"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#using-r",
    "href": "Publish/2 quarto/1 quarto tips.html#using-r",
    "title": "quarto introduction",
    "section": "using R",
    "text": "using R\nby defalut,Quarto uses Knitr to execute R code\n\n\nCode\ntitle: \"matplotlib demo\"\nformat:\n  html:\n    code-fold: true",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto tips.html#using-python",
    "href": "Publish/2 quarto/1 quarto tips.html#using-python",
    "title": "quarto introduction",
    "section": "using Python",
    "text": "using Python\nwhen set jupyter: python3 it will run quarto file with python\nFirst, install jupyter ::: {.cell}\n\nCode\npython3 -m pip install jupyter\n\n:::\n\n\nCode\n---\ntitle: \"ggplot2 demo\"\nauthor: \"Norah Jones\"\ndate: \"5/22/2021\"\nformat: \n  html:\n    code-fold: true\njupyter: python3\n---\n\n\nNote that when rendering an .ipynb Quarto will not execute the cells within the notebook by default (the presumption being that you have already executed them while editing the notebook)\nYou can also specify this behavior within the notebook’s YAML front matter:\n\n\nCode\n---\ntitle: \"My Notebook\"\nexecute: \n  enabled: true\n---\n\n\n:::",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html",
    "href": "Publish/2 quarto/1 quarto intro.html",
    "title": "quarto introduction",
    "section": "",
    "text": "https://quarto.org/docs/get-started/\n\n\n\n\n\nCode\ninstall.packages(\"quarto\")",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#install-quarto-cli",
    "href": "Publish/2 quarto/1 quarto intro.html#install-quarto-cli",
    "title": "quarto introduction",
    "section": "",
    "text": "https://quarto.org/docs/get-started/",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#install-quarto-pacakge",
    "href": "Publish/2 quarto/1 quarto intro.html#install-quarto-pacakge",
    "title": "quarto introduction",
    "section": "",
    "text": "Code\ninstall.packages(\"quarto\")",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#in-terminal",
    "href": "Publish/2 quarto/1 quarto intro.html#in-terminal",
    "title": "quarto introduction",
    "section": "in Terminal",
    "text": "in Terminal\n\n\n\nCode\n\nTerminal\n\nquarto check",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#in-r",
    "href": "Publish/2 quarto/1 quarto intro.html#in-r",
    "title": "quarto introduction",
    "section": "in R",
    "text": "in R\n\n\nCode\nlibrary(quarto)\nquarto_version()\n\n\n[1] '99.9.9'\n\n\nquarto location\n\n\nCode\nquarto_path()\n\n\n[1] \"/usr/local/bin/quarto\"",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#r",
    "href": "Publish/2 quarto/1 quarto intro.html#r",
    "title": "quarto introduction",
    "section": "R",
    "text": "R\n```{R}\nversion\n```",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#python",
    "href": "Publish/2 quarto/1 quarto intro.html#python",
    "title": "quarto introduction",
    "section": "Python",
    "text": "Python\n```{python}\nimport sys\nprint(sys.version)\n```",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#bath",
    "href": "Publish/2 quarto/1 quarto intro.html#bath",
    "title": "quarto introduction",
    "section": "Bath",
    "text": "Bath\n```{bash}\necho \"foo\" \n```",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#in-yaml-header",
    "href": "Publish/2 quarto/1 quarto intro.html#in-yaml-header",
    "title": "quarto introduction",
    "section": "in YAML header",
    "text": "in YAML header\n---\ntitle: \"My Document\"\nexecute:\n  echo: false\njupyter: python3\n---\n\neval： Evaluate the code chunk (if false, just echos the code into the output).\necho： Include the source code in output.\noutput： Include the results of executing the code in the output (true, false, or asis to indicate that the output is raw markdown and should not have any of Quarto’s standard enclosing markdown).\nwarning： Include warnings in the output.\nerror： Evaluate the code chunk (if false, just echos the code into the output).\ninclude： Catch all for preventing any output (code or results) from being included (e.g. include: false suppresses all output from the code block).",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#in-code-chunk",
    "href": "Publish/2 quarto/1 quarto intro.html#in-code-chunk",
    "title": "quarto introduction",
    "section": "in code chunk",
    "text": "in code chunk\n\n\nCode\n #| eval: false",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#step-1.-add-foldablecodeblcok.lua-into-blog-root-folder",
    "href": "Publish/2 quarto/1 quarto intro.html#step-1.-add-foldablecodeblcok.lua-into-blog-root-folder",
    "title": "quarto introduction",
    "section": "step 1. add foldableCodeBlcok.lua into blog root folder",
    "text": "step 1. add foldableCodeBlcok.lua into blog root folder\n\n\n\nCode\n\nfoldableCodeBlcok.lua\n\nfunction CodeBlock(elem)\n  if elem.classes and elem.classes:find(\"details\") then\n    local summary = \"Code\"\n    if elem.attributes.summary then\n      summary = elem.attributes.summary\n    end\n    return{\n      pandoc.RawBlock(\n        \"html\", \"&lt;details&gt;&lt;summary&gt;\" .. summary .. \"&lt;/summary&gt;\"\n      ),\n      elem,\n      pandoc.RawBlock(\"html\", \"&lt;/details&gt;\")\n    }\n  end\nend",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#step-2.-add-following-line-in-_quarto.yml",
    "href": "Publish/2 quarto/1 quarto intro.html#step-2.-add-following-line-in-_quarto.yml",
    "title": "quarto introduction",
    "section": "step 2. add following line in _quarto.yml",
    "text": "step 2. add following line in _quarto.yml\n\n\n\nCode\n\n_quarto.yml\n\nwebsite:\n  title: \"quarto blog\"\n\nfilters:\n  - foldableCodeBlcok.lua",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#step-3.-put-following-on-code-chunk",
    "href": "Publish/2 quarto/1 quarto intro.html#step-3.-put-following-on-code-chunk",
    "title": "quarto introduction",
    "section": "step 3. put following on code chunk:",
    "text": "step 3. put following on code chunk:\n{r, attr.output='.details summary=\"sessionInfo()\"'}\n\n\nCode\nsessionInfo()\n\n\nsessionInfo()\nR version 4.4.1 (2024-06-14)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS 15.3.2\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] reticulate_1.41.0 quarto_1.4.4     \n\nloaded via a namespace (and not attached):\n [1] digest_0.6.37       later_1.4.1         fastmap_1.2.0      \n [4] Matrix_1.7-2        xfun_0.51           lattice_0.22-6     \n [7] knitr_1.49          htmltools_0.5.8.1   png_0.1-8          \n[10] rmarkdown_2.29      ps_1.9.0            cli_3.6.4          \n[13] processx_3.8.6.9000 grid_4.4.1          compiler_4.4.1     \n[16] rstudioapi_0.17.1   tools_4.4.1         evaluate_1.0.3     \n[19] Rcpp_1.0.14         yaml_2.3.10         rlang_1.1.5        \n[22] jsonlite_2.0.0      htmlwidgets_1.6.4",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#embed-youtube",
    "href": "Publish/2 quarto/1 quarto intro.html#embed-youtube",
    "title": "quarto introduction",
    "section": "embed youtube",
    "text": "embed youtube\n\n\nCode\n&lt;iframe width=\"640\" height=\"480\" src=\"https://www.youtube.com/embed/nku5zFMZAdU\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen&gt;\n&lt;/iframe&gt;",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#embed-local-video",
    "href": "Publish/2 quarto/1 quarto intro.html#embed-local-video",
    "title": "quarto introduction",
    "section": "embed local video",
    "text": "embed local video\n\n\nCode\n{{&lt; video images/vv.mp4 height=\"600\" &gt;}}",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#in-_quarto.ymlfor-all-page-or-headeronly-for-this-page",
    "href": "Publish/2 quarto/1 quarto intro.html#in-_quarto.ymlfor-all-page-or-headeronly-for-this-page",
    "title": "quarto introduction",
    "section": "in _quarto.yml(for all page) or header(only for this page)",
    "text": "in _quarto.yml(for all page) or header(only for this page)\n\n\n\nCode\n\n_quarto.yml\n\nformat:\n  html:\n    mainfont:Times New Roman\n    font-size: 120%;\n  \n# can find more font:https://developer.mozilla.org/en-US/docs/Web/CSS/font-family\n\n\n\nsource:https://quarto.org/docs/reference/formats/context.html",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#in-page",
    "href": "Publish/2 quarto/1 quarto intro.html#in-page",
    "title": "quarto introduction",
    "section": "in page",
    "text": "in page\n\n\nCode\n&lt;p style=\"font-family: times, serif; font-size:500% \"&gt;This is font size 500%&lt;/p&gt;\n\n\n\nThis is font size 500%\n\n\n\nCode\n&lt;p style=\"font-family: times, serif; font-size:50% \"&gt;This is font size 50%&lt;/p&gt;\n\n\n\nThis is font size 50%",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#render-a-folder-or-file",
    "href": "Publish/2 quarto/1 quarto intro.html#render-a-folder-or-file",
    "title": "quarto introduction",
    "section": "render a folder or file",
    "text": "render a folder or file\n\n\n\nCode\n\nTerminal\n\nquarto render introduction.qmd\nquarto render subdir/",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#freeze",
    "href": "Publish/2 quarto/1 quarto intro.html#freeze",
    "title": "quarto introduction",
    "section": "Freeze",
    "text": "Freeze\nYou can use the freeze option to denote that computational documents should never be re-rendered during a global project render, or alternatively only be re-rendered when their source file changes:\nin _quarto.yml(for all page) or header(only for this page)\n\n\n\nCode\n\n_quarto.yml\n\nexecute:\n  freeze: true  # never re-render during project render\n\n\n\n\n\n\nCode\n\n_quarto.yml\n\nexecute:\n  freeze: auto  # re-render only when source changes",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#cache",
    "href": "Publish/2 quarto/1 quarto intro.html#cache",
    "title": "quarto introduction",
    "section": "Cache",
    "text": "Cache\nYou can use the cache option to cache the results of computations (using the knitr cache for R documents, and Jupyter Cache for Jupyter documents):\n\n\n\nCode\n\n_quarto.yml\n\nexecute:\n  cache: true\n\n\n\nNote that cache invalidation is triggered by changes in chunk source code (or other cache attributes you’ve defined). You may however need to manually refresh the cache if you know that some other input (or even time) has changed sufficiently to warrant an update. To do this, render either individual files or an entire project using the –cache-refresh option:\nsource:https://quarto.org/docs/projects/code-execution.html\n\n\n\nCode\n\nTerminal\n\nquarto render mydoc.qmd --cache-refresh # single doc\nquarto render --cache-refresh           # entire project",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#using-giscus-comment-tool",
    "href": "Publish/2 quarto/1 quarto intro.html#using-giscus-comment-tool",
    "title": "quarto introduction",
    "section": "using giscus comment tool",
    "text": "using giscus comment tool\nhttps://giscus.app/\n\nstep 1 install giscus on github\nhttps://github.com/apps/giscus\n\n\nstep 2 enable GitHub Discussions for your repository\n\n\n\nstep 3 add script to blog post\n\n\nCode\n'''\n&lt;script src=\"https://giscus.app/client.js\"\n        data-repo=\"[ENTER REPO HERE]\"\n        data-repo-id=\"[ENTER REPO ID HERE]\"\n        data-category=\"[ENTER CATEGORY NAME HERE]\"\n        data-category-id=\"[ENTER CATEGORY ID HERE]\"\n        data-mapping=\"pathname\"\n        data-strict=\"0\"\n        data-reactions-enabled=\"1\"\n        data-emit-metadata=\"0\"\n        data-input-position=\"bottom\"\n        data-theme=\"preferred_color_scheme\"\n        data-lang=\"en\"\n        crossorigin=\"anonymous\"\n        async&gt;\n&lt;/script&gt;\n'''\n\n\n\nstep 3b or using comment for all page\nadd into _quarto.yml\n\n\n\nCode\n\n_quarto.yml\n\nformat:\n  html:\n    include-after-body: \n         - text: &lt;script src=\"https://giscus.app/client.js\" data-repo=\"[ENTER REPO HERE]\" data-repo-id=\"[ENTER REPO ID HERE]\" data-category=\"[ENTER CATEGORY NAME HERE]\" data-category-id=\"[ENTER CATEGORY ID HERE]\" data-mapping=\"pathname\" data-strict=\"0\" data-reactions-enabled=\"1\" data-emit-metadata=\"0\" data-input-position=\"bottom\" data-theme=\"preferred_color_scheme\" data-lang=\"en\" crossorigin=\"anonymous\" async&gt; &lt;/script&gt;",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#bash",
    "href": "Publish/2 quarto/1 quarto intro.html#bash",
    "title": "quarto introduction",
    "section": "Bash",
    "text": "Bash\n```{bash}\necho \"foo\" \n```",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#link",
    "href": "Publish/2 quarto/1 quarto intro.html#link",
    "title": "quarto introduction",
    "section": "link",
    "text": "link\n[link](www.rstudio.com)\nlink",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#tab",
    "href": "Publish/2 quarto/1 quarto intro.html#tab",
    "title": "quarto introduction",
    "section": "tab",
    "text": "tab\n::: {.panel-tabset}\n\n## Tab 1\n\nThis is tab 1\n\n\n## Tab 2\n\nThis is tab 2\n\n:::\n\nTab 1Tab 2\n\n\nThis is tab 1\n\n\nThis is tab 2",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#column-display",
    "href": "Publish/2 quarto/1 quarto intro.html#column-display",
    "title": "quarto introduction",
    "section": "column display",
    "text": "column display\n\n\nCode\n::: columns\n::: {.column width=\"40%\"}\nthis column with 40% width\n::: \n\n::: {.column width=\"60%\"}\nthis column with 60% width\n::: \n\n::: \n\n\n\n\nthis column with 40% width\n\nthis column with 60% width",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-data-from-images",
    "href": "data manipulation/1 input ouput.html#read-data-from-images",
    "title": "input & ouput in R",
    "section": "1.6 read Data from Images",
    "text": "1.6 read Data from Images\n\n\nCode\nlibrary(tesseract)\n\n\n\n\nCode\neng &lt;- tesseract(\"eng\")\ntext001 &lt;- tesseract::ocr(\"640.png\", engine = eng)\n\n\n\n\nCode\ncat(text001)\n\n\nWOODCASK = @WOODCASKSHOP\nwww.woodcask.shop\nSingapore All prices are in 10ml pours.\nPrice valid date: 22-23/2/2025\n1D Name PRICE/1OML\n\"R1054_—-CARONI21Y01997888R60.4%  ~Sst~CS~=“C~S*‘“s*~*~*~*~*~*~*S~SSC&lt;C*‘;*‘«wRROCO\nR1066A Long Pond 2005 stc&lt;h&gt;e ester 550/700 cambridge 62.5% ¥ 50.00\n\"R1063___ LONG POND 2005 HABITATION VELIER 14 YOEASTER1285.4%62% +¥ ~~ 60.00.\nR1030 CARONI 23 YO 1994-2017 DOUBLE MATURATION GUYANA STOCK 57.18% ¥ 150.00\nR1080 CARONI 15 YO SINGLE CASK#3767 LMDW 2000 -2015 68.4% ¥ 400.00\nR1081 Long Pond Plantation Single Cask 1993 CRV 15 YO The Nectar 70cl 76,8% ¥ 50.00\nR1073 New Yarmouth Jamaica 1994 26 YO Year Old Blackadder 66.8% ¥ 50.00\nR1046 CARONI 17 YO VELIER EXTRA STRONG 110 PROOF ¥ 50.00\nR1070 CARONI 23 YO 1997 SPHERIC SPIRITS 1ST FILL BOURBON BARREL#1143 62% ¥ 70.00\nHw s1005 GLEN GRANT 31yo 1970 2001 70cl 45% SAMAROLI Sherry Cask 1025 ¥ 200.00\nWS1395 Longrow 1987 \"The Last Bottling\" Bottled 2007 45% CASK #116 ¥ 100.00\nws1402 Glen Scotia 1977 Prestonfield House 33 YO LMDW & The Nectar 49.1% ¥ 100.00\nws1304 SPRINGBANK 21 YO SINGLE CASK NEDERLAND OLOROSO SHERRY HOGSHEAD 48% ¥ 150.00\nWS1396 Springbank 1993 Moon Import 35th Anniversary / Lawless 45% ¥ 100.00\nws1391 Springbank 1985 Brae Dean Dtm Sherry Wood Moon Import 50% Barrel 40/1-4 ¥ 200.00\nws1210 CLYNELISH 1990-2022 BOURBON BARREL#3477 LMDW ARTIST12 47.7% ¥ 100.00\nWS1450 TALISKER 12 YO The Golden Spirit - John Walker & Sons 1980S BOT 43% ¥ 100.00\nws1165 GLENURY 21 YO 1980 OMC 50% ¥ 100.00\nws1279 GLEN KEITH 20 YO LMDW ARTIST#3 BOURBON BARREL#120560 1992-2013 60.1% ¥ 60.00\nWS1278 GLENCRAIG 35 YO LMDW ARTIST#3 BOURBON BARREL#4257 1976-2013 43.7% ¥ 100.00\n“WS1240 Blair Athol 1976 Cadenhead's 200 1976-1997478% ~~~ ~+¥ ~~~~-80.00°\nWS1233 BENROMACH 28 YO 1965-1993 CADENHEADS AUTHENTIC COLLECTION 47.6% ¥ 120.00\nws1311 SPRINGBANK 22 YO 1992 THE BOTTLERS REFILL SHERRY HOGSHEAD#227 51.9% ¥ 150.00\nws1449 GLENDRONACH 25 YO 1993 -2019 OLOROSO SHERRY CASK#416 51.2% ¥ 60.00\nws1162 MALALLAN 2002-2022 TWE SPEYMALT CASK#9545 55.5% ¥ 60.00\nWS1375, MACALLAN 12 YO LIC UTIF 935 MILANO 1980S 43% ¥ 100.00\nws1358 MACALLAN 8 YEAR OLD SHERRY WOOD 1970S 75CL 43% ¥ 200.00\nwS1205 MACALLAN 11 YO SMWS 24.57 1988 55.9% ¥ 120.00\nws1200 GLENFARCLAS 29 YO 1970 SHERRYWOOD Cadenhead bot 2000 54% ¥ 150.00\nws1341 GLENROTHES 27 YO 1979-2006 RED WINE CASK FINISHED OMC 50% ¥ 120.00\n\n\n\n\nCode\nraw_tibble001 &lt;- text001 %&gt;% \n  str_split(pattern = \"\\n\") %&gt;% \n  unlist() %&gt;%\n  tibble(data = .) %&gt;% slice(6:n()) %&gt;% filter(str_length(data) &gt;= 2) %&gt;%  mutate(old=data\n         ,data=data %&gt;%str_replace_all('_','')%&gt;%str_replace_all('—','')%&gt;%str_replace_all(\"'\",'')%&gt;%str_replace_all('\"','')\n         ) %&gt;% separate(\n    data, \n    into = c(\"one\", \"price\"), \n    sep = c(\"¥\")\n    ) %&gt;% mutate(\n    id = str_extract(one, \"^\\\\S+ \")\n    ,name=gsub(\"^\\\\S+ \", \"\",one)\n  )\n\n\nglimpse(raw_tibble001)\n\n\nRows: 30\nColumns: 5\n$ one   &lt;chr&gt; \"R1054-CARONI21Y01997888R60.4%  ~Sst~CS~=“C~S*‘“s*~*~*~*~*~*~*S~…\n$ price &lt;chr&gt; NA, \" 50.00\", \" ~~ 60.00.\", \" 150.00\", \" 400.00\", \" 50.00\", \" 50…\n$ old   &lt;chr&gt; \"\\\"R1054_—-CARONI21Y01997888R60.4%  ~Sst~CS~=“C~S*‘“s*~*~*~*~*~*…\n$ id    &lt;chr&gt; \"R1054-CARONI21Y01997888R60.4% \", \"R1066A \", \"R1063 \", \"R1030 \",…\n$ name  &lt;chr&gt; \" ~Sst~CS~=“C~S*‘“s*~*~*~*~*~*~*S~SSC&lt;C*‘;*‘«wRROCO\", \"Long Pond…",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-data-from-rdatards",
    "href": "data manipulation/1 input ouput.html#read-data-from-rdatards",
    "title": "Input & Output in R",
    "section": "1.7 Read data from RData/Rds",
    "text": "1.7 Read data from RData/Rds\n\n\nCode\nmy_data &lt;- readRDS(\"mtcars.rds\")\nload(\"my_work_space.RData\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-doxc",
    "href": "data manipulation/1 input ouput.html#read-doxc",
    "title": "input & ouput in R",
    "section": "1.8 read doxc",
    "text": "1.8 read doxc\n\n\nCode\npak::pkg_install('officer')\nlibrary(officer)\ndocx=read_docx(\"data/example03.docx\")\n#docx\n\n\n\n\nCode\ndocx_dim(docx)\n\n\n$page\n width height \n   8.5   11.0 \n\n$landscape\n[1] FALSE\n\n$margins\n      top    bottom      left     right    header    footer \n1.0000000 1.0000000 0.7875000 0.9201389 0.4916667 0.4916667 \n\n\n\n\nCode\ndocx_summary(docx)\n\n\n     doc_index content_type\n1            1    paragraph\n2            2    paragraph\n3            3    paragraph\n4            4    paragraph\n5            5    paragraph\n6            6    paragraph\n7            7    paragraph\n8            8    paragraph\n9            9    paragraph\n10          10    paragraph\n11          11    paragraph\n12          12    paragraph\n13          13    paragraph\n14          14    paragraph\n15          15    paragraph\n16          16    paragraph\n17          17    paragraph\n18          18    paragraph\n19          19    paragraph\n20          20    paragraph\n21          21    paragraph\n22          22    paragraph\n23          23    paragraph\n24          24    paragraph\n25          25    paragraph\n26          26    paragraph\n27          27    paragraph\n28          28    paragraph\n29          29    paragraph\n30          30    paragraph\n31          31    paragraph\n32          32    paragraph\n33          33    paragraph\n34          34    paragraph\n35          35    paragraph\n36          36    paragraph\n37          37    paragraph\n38          38    paragraph\n39          39    paragraph\n40          40    paragraph\n41          41    paragraph\n42          42    paragraph\n43          43    paragraph\n44          44    paragraph\n45          45    paragraph\n46          46    paragraph\n47          47    paragraph\n48          48    paragraph\n49          49    paragraph\n50          50    paragraph\n51          51    paragraph\n52          52    paragraph\n53          53    paragraph\n54          54    paragraph\n55          55    paragraph\n56          56    paragraph\n57          57    paragraph\n58          58    paragraph\n59          59    paragraph\n60          60    paragraph\n61          61    paragraph\n62          62    paragraph\n63          63    paragraph\n64          64    paragraph\n65          65    paragraph\n66          66    paragraph\n67          67    paragraph\n68          68    paragraph\n1.1         69   table cell\n1.6         69   table cell\n2.2         69   table cell\n2.7         69   table cell\n3.3         69   table cell\n3.8         69   table cell\n4.4         69   table cell\n4.9         69   table cell\n5.5         69   table cell\n5.10        69   table cell\n110         70    paragraph\n111         71    paragraph\n112         72    paragraph\n113         73    paragraph\n114         74    paragraph\n115         75    paragraph\n116         76    paragraph\n117         77    paragraph\n118         78    paragraph\n119         79    paragraph\n120         80    paragraph\n121         81    paragraph\n122         82    paragraph\n123         83    paragraph\n124         84    paragraph\n125         85    paragraph\n126         86    paragraph\n127         87    paragraph\n128         88    paragraph\n129         89    paragraph\n                                                              style_name\n1                                                              heading 1\n2                                                                   &lt;NA&gt;\n3                                                              heading 1\n4                                                                   &lt;NA&gt;\n5                                                                   &lt;NA&gt;\n6                                                                   &lt;NA&gt;\n7                                                                   &lt;NA&gt;\n8                                                                   &lt;NA&gt;\n9                                                                   &lt;NA&gt;\n10                                                                  &lt;NA&gt;\n11   Style Heading 2 + Not Italic Before:  0 pt After:  0 pt Line spa...\n12                                                                  &lt;NA&gt;\n13                                                                  &lt;NA&gt;\n14                                                                  &lt;NA&gt;\n15                                                                  &lt;NA&gt;\n16                                                                  &lt;NA&gt;\n17                                                                  &lt;NA&gt;\n18                                                                  &lt;NA&gt;\n19                                                             heading 3\n20                                                                  &lt;NA&gt;\n21                                                                  &lt;NA&gt;\n22                                                                  &lt;NA&gt;\n23                                                                  &lt;NA&gt;\n24                                                                  &lt;NA&gt;\n25                                                                  &lt;NA&gt;\n26                                                                  &lt;NA&gt;\n27                                                                  &lt;NA&gt;\n28                                                                  &lt;NA&gt;\n29                                                                  &lt;NA&gt;\n30                                                                  &lt;NA&gt;\n31                                                                  &lt;NA&gt;\n32                                                                  &lt;NA&gt;\n33                                                                  &lt;NA&gt;\n34                                                                  &lt;NA&gt;\n35                                                                  &lt;NA&gt;\n36                                                                  &lt;NA&gt;\n37                                                                  &lt;NA&gt;\n38                                                                  &lt;NA&gt;\n39                                                             heading 2\n40                                                                  &lt;NA&gt;\n41                                                                  &lt;NA&gt;\n42                                                                  &lt;NA&gt;\n43                                                                  &lt;NA&gt;\n44                                                                  &lt;NA&gt;\n45                                                                  &lt;NA&gt;\n46                                                             heading 2\n47                                                                  &lt;NA&gt;\n48                                                             heading 2\n49                                                             heading 2\n50                                                                  &lt;NA&gt;\n51                                                                  &lt;NA&gt;\n52                                                                  &lt;NA&gt;\n53                                                                  &lt;NA&gt;\n54                                                                  &lt;NA&gt;\n55                                                                  &lt;NA&gt;\n56                                                             heading 2\n57                                                             heading 2\n58                                                                  &lt;NA&gt;\n59                                                                  &lt;NA&gt;\n60                                                             heading 2\n61                                                                  &lt;NA&gt;\n62                                                                  &lt;NA&gt;\n63                                                                  &lt;NA&gt;\n64                                                                  &lt;NA&gt;\n65                                                                  &lt;NA&gt;\n66                                                                  &lt;NA&gt;\n67                                                                  &lt;NA&gt;\n68                                                                  &lt;NA&gt;\n1.1                                                                 &lt;NA&gt;\n1.6                                                                 &lt;NA&gt;\n2.2                                                                 &lt;NA&gt;\n2.7                                                                 &lt;NA&gt;\n3.3                                                                 &lt;NA&gt;\n3.8                                                                 &lt;NA&gt;\n4.4                                                                 &lt;NA&gt;\n4.9                                                                 &lt;NA&gt;\n5.5                                                                 &lt;NA&gt;\n5.10                                                                &lt;NA&gt;\n110                                                            heading 2\n111                                                            heading 2\n112                                                                 &lt;NA&gt;\n113                                                                 &lt;NA&gt;\n114                                                                 &lt;NA&gt;\n115                                                                 &lt;NA&gt;\n116                                                                 &lt;NA&gt;\n117                                                                 &lt;NA&gt;\n118                                         Style Heading 2 + Not Italic\n119                                         Style Heading 2 + Not Italic\n120                                         Style Heading 2 + Not Italic\n121                                                                 &lt;NA&gt;\n122                                                                 &lt;NA&gt;\n123                                                                 &lt;NA&gt;\n124                                                                 &lt;NA&gt;\n125                                                                 &lt;NA&gt;\n126                                                                 &lt;NA&gt;\n127                                                            heading 2\n128                                                                 &lt;NA&gt;\n129                                                                 &lt;NA&gt;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        text\n1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Word Documents Template\n2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           \n3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Main heading: \n4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Use the Heading 1 style for primary headings so that screen readers can identify them as such. \n5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               If not already, manually change your heading 1 style to be: \n6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 - sans serif (e.g. Arial, Verdana, Trebuchet or Calibri), \n7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              - 16 pt, and \n8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     - Bold\n9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Then set this formatting as your default for this style.\n10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n11                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Sub Headings: \n12                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Use Heading 2 style for sub headings. \n13                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              If not already, manually change your heading 2 style to be: \n14                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                - sans serif (e.g. Arial, Verdana, Trebuchet or Calibri), \n15                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             - 14 pt, and \n16                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    - Bold\n17                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Then set this formatting as your default for this style.\n18                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n19                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Sub Sub Headings: \n20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Use Heading 3 for sub sub-headings. \n21                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              If not already, manually change your heading 2 style to be: \n22                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                - sans serif (e.g. Arial, Verdana, Trebuchet or Calibri), \n23                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             - 12 pt, and \n24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    - Bold\n25                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Then set this formatting as your default for this style.\n26                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n27                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Paragraph\n28                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Paragraphs should not be styled as headings. Paragraphs should be ‘normal’ style.\n29                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           They should be:\n30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Sans serif font, 12 point\n31                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           1.5 spacing (except for lists of bullet points)\n32                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Left aligned instead of justified\n33                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Then set this formatting as your default for this style.\n34                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n35                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Your document should also:\n36                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Leave sufficient white space at either side of the page\n37                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Avoid using block capitals or italics. Use bold to make text stand out instead.\n38                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n39                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  To amend default styles:\n40                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n41                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Amend the style in line with the above guidelines then right click the style in question under the home tab. Choose ‘modify’ from the drop down list. This will open a box.\n42                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n43                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Within the box, ensure that the style is formatted to your preferences. For example, if ‘italics’ is checked, uncheck it.\n44                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n45                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Choose the radio button that states: ‘New documents based on this template’, and click ‘okay’.\n46                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n47                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n48                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n49                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            To amend paragraph defaulting:\n50                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n51                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Left click ‘paragraph’ under the home tab.\n52                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n53                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Ensure your alignment is set to ‘left’ and line spacing is set to ‘1.5 lines’.\n54                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Once your settings are correct click ‘default’.\n55                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Click ‘yes’ on the resulting ‘Are your sure’ message.\n56                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n57                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 To test your new settings\n58                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Open a new document and test each heading and paragraph style to ensure all settings have been saved.\n59                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n60                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Table Usage\n61                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Construct tables to read logically from left to right, top to bottom order.\n62                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Tables with column headings in the top row must have the top row formatted as a header row. To set a table header row:\n63                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Highlight the top row of the table\n64                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Right click to display editing options\n65                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Select “Table Properties” from the list.\n66                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n67                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     The Table Properties window will be displayed; click on the “Row” tab\n68                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Check the option “Repeat as header at the top of each page”\n1.1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n1.6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Row 1\n2.2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Col 1\n2.7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n3.3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Col 2\n3.8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n4.4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Col 3\n4.9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n5.5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Col 4\n5.10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \n110                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n111                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Images \n112                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Alternative or Alt text is required for all images in a document (excluding purely decorative images without meaningful content).  \n113                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Right-click on the image;\n114                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Select Format Picture.\n115                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           The Format Picture dialog box will appear. Select the Web tab.\n116                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       In the Alternative text box, type in the description of the image.\n117                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Click “OK”.\n118                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n119                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n120                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Rationale for following Clear Print Guidelines\n121                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Example A:\n122  Example A is Times New Roman, size ten, with single spacing. Example B is Arial, size twelve with 1.5 spacing. As you can see, smaller font sizes, single spacing and serif fonts are harder to read. Additionally, it is easier to keep one’s place on a page with left aligned text, as in example B, as left alignment gives the body of the text a specific shape and gives uniformity between words. Example A, which is justified, has no natural shape. Furthermore, bold print stands out, and does not distort the shape of text as italics and underlining do. FINALLY, BLOCK CAPITALS CAN BE DIFFICULT TO FOLLOW AS BLOCK CAPITALS REMOVE THE NATURAL SHAPE OF WORDS, TURNING THEM INTO BLOCKS. Clear layout allows one to focus on the content of visual materials rather than the format. \n123                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n124                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Example B:\n125  Example A is Times New Roman, size ten, with single spacing. Example B is Arial, size twelve with 1.5 spacing. As you can see, smaller font sizes, single spacing and serif fonts are harder to read. Additionally, it is easier to keep one’s place on a page with left aligned text, as in example B, as left alignment gives the body of the text a specific shape and gives uniformity between words. Example A, which is justified, has no natural shape. Furthermore, bold print stands out, and does not distort the shape of text as italics and underlining do. Finally, block capitals can be difficult to follow as block capitals remove the natural shape of words, turning them into blocks. Clear layout allows one to focus on the content of visual materials rather than the format. \n126                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n127                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Furthermore\n128                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               If you use headings it makes the creation and upkeep of tables of contents easier (For automatic creation and updating go to: Insert – Reference – Index and Tables – Table of contents). \n129                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         \n     level num_id row_id is_header cell_id col_span row_span\n1       NA     NA     NA        NA      NA       NA       NA\n2       NA     NA     NA        NA      NA       NA       NA\n3       NA     NA     NA        NA      NA       NA       NA\n4       NA     NA     NA        NA      NA       NA       NA\n5       NA     NA     NA        NA      NA       NA       NA\n6       NA     NA     NA        NA      NA       NA       NA\n7       NA     NA     NA        NA      NA       NA       NA\n8       NA     NA     NA        NA      NA       NA       NA\n9       NA     NA     NA        NA      NA       NA       NA\n10      NA     NA     NA        NA      NA       NA       NA\n11      NA     NA     NA        NA      NA       NA       NA\n12      NA     NA     NA        NA      NA       NA       NA\n13      NA     NA     NA        NA      NA       NA       NA\n14      NA     NA     NA        NA      NA       NA       NA\n15      NA     NA     NA        NA      NA       NA       NA\n16      NA     NA     NA        NA      NA       NA       NA\n17      NA     NA     NA        NA      NA       NA       NA\n18      NA     NA     NA        NA      NA       NA       NA\n19      NA     NA     NA        NA      NA       NA       NA\n20      NA     NA     NA        NA      NA       NA       NA\n21      NA     NA     NA        NA      NA       NA       NA\n22      NA     NA     NA        NA      NA       NA       NA\n23      NA     NA     NA        NA      NA       NA       NA\n24      NA     NA     NA        NA      NA       NA       NA\n25      NA     NA     NA        NA      NA       NA       NA\n26      NA     NA     NA        NA      NA       NA       NA\n27      NA     NA     NA        NA      NA       NA       NA\n28      NA     NA     NA        NA      NA       NA       NA\n29      NA     NA     NA        NA      NA       NA       NA\n30       1      1     NA        NA      NA       NA       NA\n31       1      1     NA        NA      NA       NA       NA\n32       1      1     NA        NA      NA       NA       NA\n33      NA     NA     NA        NA      NA       NA       NA\n34      NA     NA     NA        NA      NA       NA       NA\n35      NA     NA     NA        NA      NA       NA       NA\n36       1      1     NA        NA      NA       NA       NA\n37       1      1     NA        NA      NA       NA       NA\n38      NA     NA     NA        NA      NA       NA       NA\n39      NA     NA     NA        NA      NA       NA       NA\n40      NA     NA     NA        NA      NA       NA       NA\n41      NA     NA     NA        NA      NA       NA       NA\n42      NA     NA     NA        NA      NA       NA       NA\n43      NA     NA     NA        NA      NA       NA       NA\n44      NA     NA     NA        NA      NA       NA       NA\n45      NA     NA     NA        NA      NA       NA       NA\n46      NA     NA     NA        NA      NA       NA       NA\n47      NA     NA     NA        NA      NA       NA       NA\n48      NA     NA     NA        NA      NA       NA       NA\n49      NA     NA     NA        NA      NA       NA       NA\n50      NA     NA     NA        NA      NA       NA       NA\n51      NA     NA     NA        NA      NA       NA       NA\n52      NA     NA     NA        NA      NA       NA       NA\n53      NA     NA     NA        NA      NA       NA       NA\n54      NA     NA     NA        NA      NA       NA       NA\n55      NA     NA     NA        NA      NA       NA       NA\n56      NA     NA     NA        NA      NA       NA       NA\n57      NA     NA     NA        NA      NA       NA       NA\n58      NA     NA     NA        NA      NA       NA       NA\n59      NA     NA     NA        NA      NA       NA       NA\n60      NA     NA     NA        NA      NA       NA       NA\n61      NA     NA     NA        NA      NA       NA       NA\n62      NA     NA     NA        NA      NA       NA       NA\n63       1      2     NA        NA      NA       NA       NA\n64       1      2     NA        NA      NA       NA       NA\n65       1      2     NA        NA      NA       NA       NA\n66      NA     NA     NA        NA      NA       NA       NA\n67      NA     NA     NA        NA      NA       NA       NA\n68      NA     NA     NA        NA      NA       NA       NA\n1.1     NA     NA      1      TRUE       1        1        1\n1.6     NA     NA      2     FALSE       1        1        1\n2.2     NA     NA      1      TRUE       2        1        1\n2.7     NA     NA      2     FALSE       2        1        1\n3.3     NA     NA      1      TRUE       3        1        1\n3.8     NA     NA      2     FALSE       3        1        1\n4.4     NA     NA      1      TRUE       4        1        1\n4.9     NA     NA      2     FALSE       4        1        1\n5.5     NA     NA      1      TRUE       5        1        1\n5.10    NA     NA      2     FALSE       5        1        1\n110     NA     NA     NA        NA      NA       NA       NA\n111     NA     NA     NA        NA      NA       NA       NA\n112     NA     NA     NA        NA      NA       NA       NA\n113      1      3     NA        NA      NA       NA       NA\n114      1      3     NA        NA      NA       NA       NA\n115      1      3     NA        NA      NA       NA       NA\n116      1      3     NA        NA      NA       NA       NA\n117      1      3     NA        NA      NA       NA       NA\n118     NA     NA     NA        NA      NA       NA       NA\n119     NA     NA     NA        NA      NA       NA       NA\n120     NA     NA     NA        NA      NA       NA       NA\n121     NA     NA     NA        NA      NA       NA       NA\n122     NA     NA     NA        NA      NA       NA       NA\n123     NA     NA     NA        NA      NA       NA       NA\n124     NA     NA     NA        NA      NA       NA       NA\n125     NA     NA     NA        NA      NA       NA       NA\n126     NA     NA     NA        NA      NA       NA       NA\n127     NA     NA     NA        NA      NA       NA       NA\n128     NA     NA     NA        NA      NA       NA       NA\n129     NA     NA     NA        NA      NA       NA       NA\n\n\nfilter table section\n\n\nCode\ntable_cells=docx_summary(docx) %&gt;% filter(content_type == \"table cell\")\n\ntable_data &lt;- table_cells %&gt;% filter(!is_header) %&gt;% select(row_id, cell_id, text)\ntable_data\n\n\n     row_id cell_id  text\n1.6       2       1 Row 1\n2.7       2       2      \n3.8       2       3      \n4.9       2       4      \n5.10      2       5      \n\n\ntransform the table data into a data frame\n\n\nCode\n# The content of the table is in 'long' format, but we can 're-rectangularise'\ntable_names &lt;- table_cells[table_cells$is_header, \"text\"]\ntable_content &lt;- table_cells[!table_cells$is_header, \"text\"]\nrow_count &lt;- nrow(table_cells) / nrow(table_cells[table_cells$is_header, ]) - 1\ntable_mat &lt;- as.data.frame(matrix(table_content, nrow = row_count))\nnames(table_mat) &lt;- table_names\ntable_mat\n\n\n        Col 1 Col 2 Col 3 Col 4\n1 Row 1",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-rdatards",
    "href": "data manipulation/1 input ouput.html#write-to-rdatards",
    "title": "input & ouput in R",
    "section": "2.6 write to RData/Rds",
    "text": "2.6 write to RData/Rds\n\n2.6.1 write one data\n\n\nCode\n# Save a single object to a file\nsaveRDS(mtcars, \"mtcars.rds\")\n\n\n\n\n2.6.2 write multiple data\n\n\nCode\n# Save a single object to a file\nsave(mtcars,iris, file=\"mtcars_and_iris.RData\")\n\n\n\n\n2.6.3 write all working space data\n\n\nCode\n# Save a single object to a file\nsave.image(file = \"my_work_space.RData\")",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "Plot/5 Map/5 world map.html",
    "href": "Plot/5 Map/5 world map.html",
    "title": "World map with GPD per capita",
    "section": "",
    "text": "1 Download data\n\n\nCode\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(chromote)\nlibrary(janitor)\nlibrary(tidygeocoder)\nlibrary(leaflet)\nlibrary(sf)\n\n\nworld geojson\n\n\nCode\n# From http://data.okfn.org/data/datasets/geo-boundaries-world-110m\n#countries &lt;- sf::read_sf(\"https://rstudio.github.io/leaflet/json/countries.geojson\")\ncountries &lt;- sf::read_sf(\"https://raw.githubusercontent.com/johan/world.geo.json/refs/heads/master/countries.geo.json\")\n\n\nworld gpd per capita data\n\n\nCode\nworld_gdp_per_capita=read.csv(\"https://gist.githubusercontent.com/vr-23/d6a4a0aadcf3a2640091ca43c25e1955/raw/57b9cb74b24dc87b489c74cc4e11209cd5720642/world-data-2023.csv\")\n\n\n\n\nCode\n# data source: https://data.worldbank.org/\ndownload.file(\"https://api.worldbank.org/v2/en/indicator/NY.GDP.PCAP.CD?downloadformat=csv\",destfile='world_data.zip')\n\n\n\n\nCode\nunzip('world_data.zip')\n\n\n\n\nCode\nworld_gdp_per_capita=read.csv(\"API_NY.GDP.PCAP.CD_DS2_en_csv_v2_76317.csv\",skip = 3) |&gt; clean_names()\n\n\n\n\nCode\ndata001=countries |&gt; left_join(world_gdp_per_capita,by = join_by(id ==country_code))\n\n\n\n\nCode\npal &lt;- colorNumeric(palette = c('red','orange','yellow','pink','blue', 'green'),\n                    domain = data001$x2023\n  )\n\n\n\nm &lt;- leaflet(data001) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n   addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(x2023)\n    ,color = ~pal(x2023)\n   #color = ~binpal(x2023)\n    ,popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", x2023, \"（美元）\", \"&lt;br/&gt;\"\n      \n    )\n     ,label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", data001$country_name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", round(data001$x2023), \" USD&lt;br/&gt;\"\n     # , \"总gpd 美元：\", round(data001$total_2022_usd), \"M &lt;br/&gt;\"\n\n    ), htmltools::HTML)\n    )%&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~x2023, opacity = 1.0\n    )\n\n\n\n\nCode\nm  |&gt;  setView(lng = -10, lat = 45, zoom = 2)\n\n\n\n\n\n\n\n\n2 resouce:\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Plot",
      "5 Map",
      "World map with GPD per capita"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#select-python-version",
    "href": "intro/1 basic R.html#select-python-version",
    "title": "Basic R",
    "section": "14.1 Select Python version",
    "text": "14.1 Select Python version\nreticulate::py_available() checks if Python is available, and reticulate::py_config() shows the Python configuration that reticulate is using.\n\n\nCode\nreticulate::py_available()\n\n\n[1] FALSE\n\n\n\n\nCode\nreticulate::py_config()\n\n\npython:         /Users/jinchaoduan/.cache/uv/archive-v0/UrOpP-HJIh2TRyEyDTspO/bin/python3\nlibpython:      /Users/jinchaoduan/.local/share/uv/python/cpython-3.11.11-macos-aarch64-none/lib/libpython3.11.dylib\npythonhome:     /Users/jinchaoduan/.cache/uv/archive-v0/UrOpP-HJIh2TRyEyDTspO:/Users/jinchaoduan/.cache/uv/archive-v0/UrOpP-HJIh2TRyEyDTspO\nvirtualenv:     /Users/jinchaoduan/.cache/uv/archive-v0/UrOpP-HJIh2TRyEyDTspO/bin/activate_this.py\nversion:        3.11.11 (main, Mar 11 2025, 17:41:13) [Clang 20.1.0 ]\nnumpy:          /Users/jinchaoduan/.cache/uv/archive-v0/UrOpP-HJIh2TRyEyDTspO/lib/python3.11/site-packages/numpy\nnumpy_version:  2.3.1\n\nNOTE: Python version was forced by py_require()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#select-python-version-1",
    "href": "intro/1 basic R.html#select-python-version-1",
    "title": "Basic R",
    "section": "15.2 select python version",
    "text": "15.2 select python version\nSet up Python:Using python 3.11 instead of 3.13. It need to restart first\n\n\nCode\nSys.setenv(RETICULATE_PYTHON = \"/Library/Frameworks/Python.framework/Versions/3.11/bin/python3.11\")\nlibrary(reticulate)\nuse_python(\"/Library/Frameworks/Python.framework/Versions/3.11/bin/python3.11\")\n\n\n\n\nCode\nfrom platform import python_version\nprint(python_version())",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#run-python-in-r",
    "href": "intro/1 basic R.html#run-python-in-r",
    "title": "Basic R",
    "section": "14.2 Run Python in R",
    "text": "14.2 Run Python in R\nsource_python() executes a Python script and makes its objects available in the R environment.\n\n\nCode\nsource_python(\"flights.py\")\n\n\n\n\nCode\nsessionInfo()\n\n\nsessionInfo()\nR version 4.4.3 (2025-02-28)\nPlatform: aarch64-apple-darwin20\nRunning under: macOS Sequoia 15.5\n\nMatrix products: default\nBLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib \nLAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0\n\nlocale:\n[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8\n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] gt_1.0.0        lubridate_1.9.4 forcats_1.0.0   stringr_1.5.1  \n [5] dplyr_1.1.4     purrr_1.0.4     readr_2.1.5     tidyr_1.3.1    \n [9] tibble_3.2.1    ggplot2_3.5.1   tidyverse_2.0.0\n\nloaded via a namespace (and not attached):\n [1] sass_0.4.9        utf8_1.2.4        generics_0.1.3    xml2_1.3.8       \n [5] lattice_0.22-6    stringi_1.8.4     hms_1.1.3         digest_0.6.37    \n [9] magrittr_2.0.3    evaluate_1.0.3    grid_4.4.3        timechange_0.3.0 \n[13] fastmap_1.2.0     rprojroot_2.0.4   Matrix_1.7-2      jsonlite_2.0.0   \n[17] processx_3.8.6    ps_1.9.0          crosstalk_1.2.1   scales_1.3.0     \n[21] cli_3.6.4         rlang_1.1.5       pak_0.8.0.1       munsell_0.5.1    \n[25] withr_3.0.2       reactR_0.6.1      yaml_2.3.10       tools_4.4.3      \n[29] tzdb_0.4.0        colorspace_2.1-1  here_1.0.1        reticulate_1.42.0\n[33] png_0.1-8         vctrs_0.6.5       R6_2.6.1          lifecycle_1.0.4  \n[37] reactable_0.4.4   htmlwidgets_1.6.4 pkgconfig_2.0.3   callr_3.7.6      \n[41] pillar_1.10.1     gtable_0.3.6      Rcpp_1.0.14       glue_1.8.0       \n[45] xfun_0.51         tidyselect_1.2.1  rstudioapi_0.17.1 knitr_1.49       \n[49] htmltools_0.5.8.1 rmarkdown_2.29    compiler_4.4.3",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "Publish/2 quarto/1 quarto intro.html#embed-bilibili",
    "href": "Publish/2 quarto/1 quarto intro.html#embed-bilibili",
    "title": "quarto introduction",
    "section": "embed bilibili",
    "text": "embed bilibili",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto introduction"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-txt",
    "href": "data manipulation/1 input ouput.html#read-txt",
    "title": "input & ouput in R",
    "section": "1.9 read txt",
    "text": "1.9 read txt\n\n\nCode\nmy_data &lt;- read.delim(\"text.txt\")\nmy_data\n\n\n  X.hello.world.nits.time..\n1    hello world\\nits time!",
    "crumbs": [
      "data manipulation",
      "input & ouput in R"
    ]
  },
  {
    "objectID": "Publish/2 quarto/2 quarto blog.html#create-password-for-blog",
    "href": "Publish/2 quarto/2 quarto blog.html#create-password-for-blog",
    "title": "quarto blog",
    "section": "",
    "text": "Code\nremotes::install_github(\"nikitoshina/staticryptR\")\n\n\n\n\n\n\n\nCode\nbrew install node\n\n\n\n\n\n\n\nCode\nnpm install -g staticrypt\n\n\n\n\n\n\n\nCode\n# _quarto.yml\nproject:\n  output-dir: \"./_output\"\n  post-render: encrypt.r\n\n\n\n\n\npassword protect all website\n\n\nCode\n# encrypt.r\nstaticryptR::staticryptr(\n  files = \"_output/\",\n  directory = \".\",\n  password = \"123123\",\n  short = TRUE,\n  recursive = TRUE,\n  template_color_primary = \"#6667AB\",\n  template_color_secondary = \"#f9f9f3\",\n  template_title = \"Your Document Title\",\n  template_instructions = \"Enter the password or contact example@email.com\",\n  template_button = \"Access\"\n)\n\n\npassword protect one posts\n\n\nCode\nstaticryptR::staticryptr(\n  files = c(\"posts/youtube_yt-dlp/\"),\n  directory = c(\"docs/posts/\"),\n  password = \"123123\",\n  short = TRUE,\n  recursive = TRUE,\n  template_color_primary = \"#6667AB\",\n  template_color_secondary = \"#f9f9f3\",\n  template_title = \"Your Document Title\",\n  template_instructions = \"Enter the password or contact TonyJCing@outlook.com\",\n  template_button = \"Access\",\n  print_cmd = TRUE\n)",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto blog"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/4 shiny in quarto doc.html",
    "href": "Publish/1 Shiny/4 shiny in quarto doc.html",
    "title": "Shiny in quarto doc",
    "section": "",
    "text": "---\n\nformat: html server: shiny\n  \n---",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in quarto doc"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/4 shiny in quarto doc.html#server",
    "href": "Publish/1 Shiny/4 shiny in quarto doc.html#server",
    "title": "Shiny in quarto doc",
    "section": "2.1 server",
    "text": "2.1 server\n\n\nCode\noutput$output_plot &lt;- shiny::renderPlot({\n  palmerpenguins::penguins |&gt; \n    dplyr::filter(\n      species %in% input$select_species,\n      body_mass_g &gt;= input$slider_weight\n    ) |&gt; \n    ggplot(\n      aes(\n        x = bill_length_mm, \n        y = flipper_length_mm, \n        fill = species\n      )\n    ) +\n    geom_point(\n      shape = 21, \n      size = 6, \n      col = 'black'\n    ) +\n    labs(\n      x = 'Bill length (in mm)',\n      y = 'Flipper length (in mm)',\n      fill = 'Species',\n      title = 'Penguins from the Palmer Archipelago'\n    ) +\n    theme_minimal(\n      base_size = 20, \n      base_family = 'Source Sans Pro'\n    ) +\n    scale_fill_manual(\n      values = c(\n        Adelie = '#0072B2', \n        Gentoo = '#009E73',\n        Chinstrap = '#CC79A7'\n      ),\n    ) +\n    coord_cartesian(\n      xlim = c(30, 60), \n      ylim = c(170, 240)\n    )\n})",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in quarto doc"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/4 shiny in quarto doc.html#ui",
    "href": "Publish/1 Shiny/4 shiny in quarto doc.html#ui",
    "title": "Shiny in quarto doc",
    "section": "2.2 ui",
    "text": "2.2 ui\n\n\nCode\nlayout_sidebar(\n  height = 600,\n  sidebar =  sidebar(\n    shiny::selectizeInput(\n      'select_species', \n      'Highlighted Species', \n      choices = c('Adelie', 'Chinstrap', 'Gentoo'),\n      selected = c('Adelie', 'Chinstrap', 'Gentoo'),\n      multiple = TRUE\n    ),\n    shiny::sliderInput(\n      'slider_weight',\n      'Minimum Weight (g)',\n      min = 1000,\n      max = 5000,\n      value = 3000\n    )\n  ),\n  shiny::plotOutput('output_plot')\n)",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in quarto doc"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#patchwork",
    "href": "Plot/1 ggplot2.html#patchwork",
    "title": "ggplot2 in R",
    "section": "patchwork",
    "text": "patchwork\nThe patchwork package makes it easy to combine multiple ggplot2 plots into a single graphic.\n\n\nCode\nlibrary(patchwork)\n\np1 &lt;- ggplot(mtcars) + geom_point(aes(mpg, disp))\np2 &lt;- ggplot(mtcars) + geom_boxplot(aes(gear, disp, group = gear))\np3 &lt;- ggplot(mtcars) + geom_smooth(aes(disp, qsec))\np4 &lt;- ggplot(mtcars) + geom_bar(aes(carb))\n\n(p1 | p2 | p3) / p4",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#marquee",
    "href": "Plot/1 ggplot2.html#marquee",
    "title": "ggplot2 in R",
    "section": "16.3 marquee",
    "text": "16.3 marquee",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#ggiraph",
    "href": "Plot/1 ggplot2.html#ggiraph",
    "title": "ggplot2 in R",
    "section": "16.4 ggiraph",
    "text": "16.4 ggiraph",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#geomtextpath",
    "href": "Plot/1 ggplot2.html#geomtextpath",
    "title": "ggplot2 in R",
    "section": "16.5 geomtextpath",
    "text": "16.5 geomtextpath",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#ggpattern",
    "href": "Plot/1 ggplot2.html#ggpattern",
    "title": "ggplot2 in R",
    "section": "16.6 ggpattern",
    "text": "16.6 ggpattern",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#ggbump",
    "href": "Plot/1 ggplot2.html#ggbump",
    "title": "ggplot2 in R",
    "section": "16.7 ggbump",
    "text": "16.7 ggbump",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#gghighlight",
    "href": "Plot/1 ggplot2.html#gghighlight",
    "title": "ggplot2 in R",
    "section": "16.8 gghighlight",
    "text": "16.8 gghighlight",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#ggdist",
    "href": "Plot/1 ggplot2.html#ggdist",
    "title": "ggplot2 in R",
    "section": "16.9 ggdist",
    "text": "16.9 ggdist",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#legendry",
    "href": "Plot/1 ggplot2.html#legendry",
    "title": "ggplot2 in R",
    "section": "legendry",
    "text": "legendry\nThe legendry package provides additional guide functionality to the ggplot2 ecosystem, allowing for more customized legends.\n\n\nCode\n# pak::pak('legendry') # Uncomment to install\n\n\n\n\nCode\nlibrary(legendry)\n\nbase_plot &lt;- ggplot(mpg, aes(displ, hwy, colour = cty)) +\n  geom_point() +\n  labs(\n    x = \"Engine displacement\",\n    y = \"Highway miles per gallon\",\n    col = \"City miles\\nper gallon\"\n  ) +\n  theme(axis.line = element_line())\n\n# A partial guide to display a bracket\nefficient_bracket &lt;- primitive_bracket(\n  key = key_range_manual(start = 25, end = Inf, name = \"Efficient\"),\n  bracket = \"square\",\n  theme = theme(\n    legend.text = element_text(angle = 90, hjust = 0.5),\n    axis.text.y.left = element_text(angle = 90, hjust = 0.5)\n  )\n)\n\nbase_plot + guides(y = guide_axis_stack(\"axis\", efficient_bracket))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#using-map-funcation-for-loop",
    "href": "intro/1 basic R.html#using-map-funcation-for-loop",
    "title": "Basic R",
    "section": "5.2 using map() funcation for loop",
    "text": "5.2 using map() funcation for loop\nThe map functions transform their input by applying a function to each element and returning a vector the same length as the input.\n\n\nCode\nlibrary(tidyverse)\n\n\n\n\nCode\nmap(\n  1:3, \n    \\(x) x+2\n  )\n\n\n[[1]]\n[1] 3\n\n[[2]]\n[1] 4\n\n[[3]]\n[1] 5\n\n\nreturn number vector\n\n\nCode\nmap_dbl(\n  1:3, \n    \\(x) x+2\n  )\n\n\n[1] 3 4 5\n\n\nreturn char vector\n\n\nCode\nmap_chr(\n  1:3, \n    \\(x) x+2\n  )\n\n\n[1] \"3.000000\" \"4.000000\" \"5.000000\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#r",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#r",
    "title": "Shiny in web web browser",
    "section": "2.1 R",
    "text": "2.1 R\n\n\nCode\nshinylive::export(app_dir=\"my_shiny_app\",output_dir=\"shiny_web\")\nhttps::run_app(\"shiny_web\")",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#python",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#python",
    "title": "Shiny in web web browser",
    "section": "2.2 Python",
    "text": "2.2 Python\n\n\nCode\nshinylive export my_shiny_app shiny_web\ncd site\npython -m http.server 8000",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#r-1",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#r-1",
    "title": "Shiny in web web browser",
    "section": "3.1 R",
    "text": "3.1 R\nshinylive.io/r/",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#python-1",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#python-1",
    "title": "Shiny in web web browser",
    "section": "3.2 Python",
    "text": "3.2 Python\nshinylive.io/py/",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#step-1-add-in-header",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#step-1-add-in-header",
    "title": "Shiny in web web browser",
    "section": "",
    "text": "---\n\nfilters:\n  - shinylive\n  \n---",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#step-2-make-shiny-app",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#step-2-make-shiny-app",
    "title": "Shiny in web web browser",
    "section": "",
    "text": "#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\n\nlibrary(shiny)\nlibrary(bslib)\n\ntheme &lt;- bs_theme(font_scale = 1.5)\n\n# Define UI for app that draws a histogram ----\nui &lt;- page_sidebar(theme = theme,\n  sidebar = sidebar(open = \"open\",\n    numericInput(\"n\", \"Sample count\", 100),\n    checkboxInput(\"pause\", \"Pause\", FALSE),\n  ),\n  plotOutput(\"plot\", width=1100)\n)\n\nserver &lt;- function(input, output, session) {\n  data &lt;- reactive({\n    input$resample\n    if (!isTRUE(input$pause)) {\n      invalidateLater(1000)\n    }\n    rnorm(input$n)\n  })\n  \n  output$plot &lt;- renderPlot({\n    hist(data(),\n      breaks = 40,\n      xlim = c(-2, 2),\n      ylim = c(0, 1),\n      lty = \"blank\",\n      xlab = \"value\",\n      freq = FALSE,\n      main = \"\"\n    )\n    \n    x &lt;- seq(from = -2, to = 2, length.out = 500)\n    y &lt;- dnorm(x)\n    lines(x, y, lwd=1.5)\n    \n    lwd &lt;- 5\n    abline(v=0, col=\"red\", lwd=lwd, lty=2)\n    abline(v=mean(data()), col=\"blue\", lwd=lwd, lty=1)\n\n    legend(legend = c(\"Normal\", \"Mean\", \"Sample mean\"),\n      col = c(\"black\", \"red\", \"blue\"),\n      lty = c(1, 2, 1),\n      lwd = c(1, lwd, lwd),\n      x = 1,\n      y = 0.9\n    )\n  }, res=140)\n}\n\n# Create Shiny app ----\nshinyApp(ui = ui, server = server)",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html",
    "href": "Publish/1 Shiny/5 shiny in web browser.html",
    "title": "Shiny in web browser",
    "section": "",
    "text": "Code\nquarto add quarto-ext/shinylive\n\n\n\n\n\n---\n\nfilters:\n  - shinylive\n  \n---\n\n\n\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\nlibrary(shiny)\nlibrary(bslib)\n\nui &lt;- page_fluid(\n  h2(\"Simple Histogram App\"),\n  layout_sidebar(\n    sidebar = sidebar(\n      sliderInput(\"n\", \"Number of observations:\", min = 10, max = 100, value = 30)\n    ),\n    plotOutput(\"hist\")\n  )\n)\n\nserver &lt;- function(input, output) {\n  output$hist &lt;- renderPlot({\n    hist(rnorm(input$n), main = \"Random Normal Data\", col = \"skyblue\")\n  })\n}\n\nshinyApp(ui, server)",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#step-1-add-quarto-extension",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#step-1-add-quarto-extension",
    "title": "Shiny in web web browser",
    "section": "",
    "text": "Code\nquarto add quarto-ext/shinylive",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#step-2-add-in-header",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#step-2-add-in-header",
    "title": "Shiny in web browser",
    "section": "",
    "text": "---\n\nfilters:\n  - shinylive\n  \n---",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#step-3-make-shiny-app",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#step-3-make-shiny-app",
    "title": "Shiny in web browser",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\nlibrary(shiny)\nlibrary(bslib)\n\nui &lt;- page_fluid(\n  h2(\"Simple Histogram App\"),\n  layout_sidebar(\n    sidebar = sidebar(\n      sliderInput(\"n\", \"Number of observations:\", min = 10, max = 100, value = 30)\n    ),\n    plotOutput(\"hist\")\n  )\n)\n\nserver &lt;- function(input, output) {\n  output$hist &lt;- renderPlot({\n    hist(rnorm(input$n), main = \"Random Normal Data\", col = \"skyblue\")\n  })\n}\n\nshinyApp(ui, server)",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/5 shiny in web browser.html#step-1-add-quarto-extension-in-project-root-folder",
    "href": "Publish/1 Shiny/5 shiny in web browser.html#step-1-add-quarto-extension-in-project-root-folder",
    "title": "Shiny in web browser",
    "section": "",
    "text": "Code\nquarto add quarto-ext/shinylive",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web browser"
    ]
  },
  {
    "objectID": "data manipulation/7 data management.html",
    "href": "data manipulation/7 data management.html",
    "title": "Data management",
    "section": "",
    "text": "1 using Pins package\n\n\n\n2 reference:\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "Data management"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-all-file-name-under-one-level-up-directory",
    "href": "intro/1 basic R.html#get-all-file-name-under-one-level-up-directory",
    "title": "Basic R",
    "section": "2.3 get all file name under one level up directory",
    "text": "2.3 get all file name under one level up directory\n\n\nCode\nlist.files('../')\n\n\n [1] \"_extensions\"           \"_freeze\"               \"_publish.yml\"         \n [4] \"_quarto.yml\"           \"_site\"                 \"data manipulation\"    \n [7] \"docs\"                  \"foldableCodeBlcok.lua\" \"images\"               \n[10] \"index.qmd\"             \"intro\"                 \"Intro R.Rproj\"        \n[13] \"LICENSE\"               \"other\"                 \"Plot\"                 \n[16] \"Publish\"               \"README.md\"             \"Rlogo.png\"            \n[19] \"sidebar.png\"           \"site_libs\"             \"styles.css\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#missing-data",
    "href": "data manipulation/3 data manipulation with tidyverse.html#missing-data",
    "title": "Data manipulation with tidyverse",
    "section": "2.10 missing data",
    "text": "2.10 missing data\n\n2.10.1 find missing data\n\n\n2.10.2 filter missing data",
    "crumbs": [
      "data manipulation",
      "Data manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html#table-editing",
    "href": "data manipulation/4 data table.html#table-editing",
    "title": "Data table",
    "section": "2.1 Table Editing",
    "text": "2.1 Table Editing\n\n\nCode\nhead(iris) |&gt; datatable(editable = 'cell')",
    "crumbs": [
      "data manipulation",
      "Data table"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html#format-table",
    "href": "data manipulation/4 data table.html#format-table",
    "title": "Data table",
    "section": "2.2 format table",
    "text": "2.2 format table\n\n\nCode\niris |&gt; datatable() %&gt;% \n  formatStyle('Sepal.Length', fontWeight = styleInterval(5, c('normal', 'bold'))) %&gt;%\n  \n  formatStyle(\n    'Sepal.Width',\n    color = styleInterval(c(3.4, 3.8), c('white', 'blue', 'red')),\n    backgroundColor = styleInterval(3.4, c('gray', 'yellow'))\n  ) %&gt;%\n  \n  formatStyle(\n    'Petal.Length',\n    background = styleColorBar(iris$Petal.Length, 'steelblue'),\n    backgroundSize = '100% 90%',\n    backgroundRepeat = 'no-repeat',\n    backgroundPosition = 'center'\n  ) %&gt;%\n  \n  formatStyle(\n    'Species',\n    transform = 'rotateX(45deg) rotateY(20deg) rotateZ(30deg)',\n    backgroundColor = styleEqual(\n      unique(iris$Species), c('lightblue', 'lightgreen', 'lightpink')\n    )\n  )",
    "crumbs": [
      "data manipulation",
      "Data table"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html#reference-3",
    "href": "data manipulation/4 data table.html#reference-3",
    "title": "Data table",
    "section": "4.2 reference:",
    "text": "4.2 reference:\nhttps://rstudio.github.io/distill/tables.html",
    "crumbs": [
      "data manipulation",
      "Data table"
    ]
  },
  {
    "objectID": "data manipulation/4 data table.html#buttons-extension",
    "href": "data manipulation/4 data table.html#buttons-extension",
    "title": "Data table",
    "section": "2.3 Buttons extension",
    "text": "2.3 Buttons extension\n\n\nCode\niris |&gt; datatable( extensions = 'Buttons', options = list(\n  \n  ####### buttons ########\n    dom = 'Bfrtip',\n    buttons = c('copy', 'csv', 'excel', 'pdf', 'print'),\n   ###### color #########\n      initComplete = JS(\n        \"function(settings, json) {\",\n        \"$(this.api().table().header()).css({'background-color': 'red', 'color': 'white'});\",\n        \"}\")\n    ###################\n  )\n)",
    "crumbs": [
      "data manipulation",
      "Data table"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#using-ggpattern",
    "href": "Plot/1 ggplot2.html#using-ggpattern",
    "title": "ggplot2 in R",
    "section": "3.1 using ggpattern",
    "text": "3.1 using ggpattern\n\n\nCode\nlibrary(ggpattern)\np=ggplot(data002 |&gt; filter(continent=='Asia'), aes(year, pop)) + geom_area_pattern(pattern='circle',pattern_density = 0.1,pattern_fill='blue',pattern_colour='blue',color='blue',fill='transparent',linewidth=1)+theme_classic()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "other/6 other/3 API.html",
    "href": "other/6 other/3 API.html",
    "title": "API",
    "section": "",
    "text": "1 calling API\nto get exchange rate from European Central Bank.https://frankfurter.dev/\n\n\nCode\nlibrary(httr)\nlibrary(jsonlite)\nlibrary(plotly)\nlibrary(lubridate)\n\n\n\n\nCode\nget_usd_thb_rates &lt;- function(start_date, end_date,base_currency,target_currency) {\n  url &lt;- paste0(\n    \"https://api.frankfurter.app/\",\n    start_date, \"..\", end_date,\n    \"?from=\", base_currency,\n    \"&to=\", target_currency\n  )\n  \n  response &lt;- GET(url)\n  \n  if (status_code(response) == 200) {\n    data &lt;- fromJSON(content(response, \"text\"))\n    rates_df &lt;- data.frame(\n      date = names(data$rates),\n      rate = sapply(data$rates, function(x) x[[target_currency]])\n    )\n    row.names(rates_df) &lt;- NULL\n    rates_df$date &lt;- as.Date(rates_df$date)\n    return(rates_df)\n  } else {\n    stop(paste(\"Error:\", status_code(response)))\n  }\n}\n\n\n\n\nCode\nUSD_THB=get_usd_thb_rates(start_date='2024-01-01', end_date=Sys.Date(),base_currency='USD',target_currency='THB')\n\n\n\n\nCode\nUSD_CNY=get_usd_thb_rates(start_date='2024-01-01', end_date=Sys.Date(),base_currency='USD',target_currency='CNY')\n\n\n\n\nCode\nUSD_CNY_THB &lt;- merge(USD_THB, USD_CNY, by = \"date\", suffixes = c(\"_THB\", \"_CNY\"))\n\n\n\n\nCode\nplot_ly(data=USD_CNY_THB, x=~date) %&gt;%\n  add_lines(y=~rate_THB, name='USD to THB', line=list(color='blue')) %&gt;%\n  add_lines(y=~rate_CNY, name='USD to CNY', line=list(color='red'), yaxis = \"y2\") %&gt;%\n  layout(title=\"USD to THB and CNY Exchange Rates\",\n         xaxis=list(title=\"Date\"),\n         yaxis=list(title=\"Rate THB\", showgrid=FALSE),\n         yaxis2=list(title=\"Rate CNY\", overlaying = \"y\", side = \"right\", tickformat = \".2f\"),\n         legend=list(orientation = 'h', xanchor = \"center\", x = 0.5, y = -0.2),\n         margin = list(r = 80)) # Increase right margin\n\n\n\n\n\n\n\n\nCode\nCNY_THB=get_usd_thb_rates(start_date='2024-01-01', end_date=Sys.Date(),base_currency='CNY',target_currency='THB')\n\n\n\n\nCode\nplot_ly(data=CNY_THB, x=~date) |&gt; \n  add_lines(y=~rate, name='CNY to THB', line=list(color='green')) |&gt; \n  layout(title=\"CNY to THB Exchange Rate\",\n         xaxis=list(title=\"Date\"),\n         yaxis=list(title=\"Rate\", showgrid=FALSE),\n         legend=list(orientation = 'h', xanchor = \"center\", x = 0.5, y = -0.2),\n         margin = list(r = 80)) # Increase right margin\n\n\n\n\n\n\n\n\nCode\n(max(CNY_THB$rate)-min(CNY_THB$rate))/min(CNY_THB$rate)\n\n\n[1] 0.1271977\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Other",
      "6 other",
      "API"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html",
    "href": "Plot/5 chart club.html",
    "title": "Chart club",
    "section": "",
    "text": "Welcome to the Chart Club! In this document, we will explore a variety of interesting and informative chart types, all created using the R programming language and the powerful ggplot2 package. We will delve into the code and concepts behind each chart, providing a practical guide to creating your own stunning visualizations.",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#package",
    "href": "Plot/5 chart club.html#package",
    "title": "Chart club",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(ggtext)\n\n\n\n\nCode\nfont_add_google(\"Libre Franklin\", \"franklin\")\nshowtext_opts(dpi = 300)\nshowtext_auto()",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#data",
    "href": "Plot/5 chart club.html#data",
    "title": "Chart club",
    "section": "",
    "text": "data export from https://data.cdc.gov/National-Center-for-Health-Statistics/Weekly-Counts-of-Deaths-by-Jurisdiction-and-Age/y5bj-9g5w/about_data\n\n\nCode\npre0 &lt;- read_csv(\"./data/Weekly_Counts_of_Deaths_by_Jurisdiction_and_Age_20250615.csv\", \n         col_types = cols(`Week Ending Date` = col_date(format = \"%m/%d/%Y\")))\n\n\npre=pre0%&gt;%filter(Jurisdiction == \"United States\" & Type == \"Unweighted\") %&gt;%\n  # filter(`Age Group` == \"25-44 years\", `Week Ending Date` == \"2015-01-10\") %&gt;%\n  # print(width = Inf)\n  # count(`Age Group`, `Week Ending Date`)\n  summarize(pre_deaths = sum(`Number of Deaths`), .by = `Week Ending Date`) %&gt;%\n  rename(date = `Week Ending Date`)\n\n\ndata export from https://data.cdc.gov/National-Center-for-Health-Statistics/Provisional-COVID-19-Death-Counts-by-Week-Ending-D/r8kw-7aab/about_data\n\n\nCode\npost0=read_csv(\"./data/Provisional_COVID-19_Death_Counts_by_Week_Ending_Date_and_State_20250615.csv\",\n         col_types = cols(`End Date` = col_date(format = \"%m/%d/%Y\")))\n\n\n\n\nCode\npost &lt;- post0 %&gt;%\n  filter(State == \"United States\" & Group == \"By Week\")   |&gt; \n  select(date = `End Date`,\n         post_deaths = `Total Deaths`  ) |&gt;\n  group_by(date)%&gt;%\n  summarise(post_deaths=sum(post_deaths))\n\n\n\n\nCode\npost_year &lt;- post0 %&gt;%\n  filter(State == \"United States\" & Group == \"By Week\") %&gt;%\n  select(date = `End Date`,\n         post_deaths = `COVID-19 Deaths`  ) |&gt; group_by(year(date)) %&gt;%summarise(post_deaths=sum(post_deaths))\n\npost_year\n\n\n# A tibble: 6 × 2\n  `year(date)` post_deaths\n         &lt;dbl&gt;       &lt;dbl&gt;\n1         2020      367923\n2         2021      471027\n3         2022      257042\n4         2023       75720\n5         2024       47468\n6         2025       12539",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#data-cleaning",
    "href": "Plot/5 chart club.html#data-cleaning",
    "title": "Chart club",
    "section": "",
    "text": "Code\ndeaths_by_week &lt;- full_join(pre, post, by = \"date\") %&gt;%\n  mutate(deaths = if_else(is.na(post_deaths), pre_deaths, post_deaths)) %&gt;%\n  select(date, deaths) %&gt;%\n  mutate(pre_post = if_else(date &lt; \"2020-03-01\", \"pre\", \"post\")) %&gt;%\n  #filter(date &gt;= \"2015-03-01\" & date &lt;= \"2025-03-01\")\n  filter(date &gt;= \"2015-03-01\" & date &lt;= \"2025-05-17\")\n\npre_deaths &lt;- deaths_by_week %&gt;%\n  filter(pre_post == \"pre\") %&gt;%\n  summarize(mean = mean(deaths)) %&gt;%\n  pull(mean)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#chart",
    "href": "Plot/5 chart club.html#chart",
    "title": "Chart club",
    "section": "",
    "text": "Code\ngg=deaths_by_week %&gt;%\n  ggplot(aes(x = date, y = deaths, color = pre_post)) +\n  geom_rect(xmin = ymd(\"2020-03-01\"), xmax = ymd(\"2026-03-01\"),\n            ymin = 0, ymax = 1e6, fill = \"#FCF0E9\", color = \"white\") +\n  geom_hline(yintercept = c(60000, 80000, pre_deaths),\n             linewidth = c(0.2, 0.2, 0.4),\n             color = c(\"gray80\", \"gray80\", \"black\"),\n             linetype = c(1, 1, 2)) +\n  geom_line(show.legend = FALSE,\n            linewidth = 0.75) +\n  annotate(geom = \"text\", hjust = 0, vjust = -0.2,\n           family = \"franklin\", size = 8.5, size.unit = \"pt\",\n           x = ymd(\"2015-03-01\"),\n           y = c(60000, 80000),\n           label = c(\"60,000\", \"80,000 deaths per week\")) +\n  annotate(geom = \"text\", family = \"franklin\",\n           x = ymd(\"2022-09-01\"),\n           y = pre_deaths * 0.98,\n           label = \"2015-19 average\") +\n  coord_cartesian(expand = FALSE, clip = \"off\") +\n  scale_y_continuous(breaks = c(60000, 80000),\n                     limits = c(45000, 89000)) +\n  scale_x_date(breaks = ymd(c(\"2016-01-01\", \"2018-01-01\", \"2020-03-01\",\n                              \"2022-01-01\", \"2024-01-01\")),\n               labels = c(\"2016\", \"2018\", \"March 2020\", \"2022\", \"2024\")) +\n  scale_color_manual(breaks = c(\"pre\", \"post\"),\n                     values = c(\"#58595B\", \"#F05A27\")) +\n  labs(x = NULL,\n       y = NULL,\n       title = \"Total U.S. deaths\") +\n  theme(\n    text = element_text(family = \"franklin\"),\n    plot.background = element_rect(fill = \"#EEEEEE\"),\n    plot.title = element_textbox_simple(face = \"bold\", size = 11.5,\n                                        fill = \"white\", width = NULL,\n                                        padding = margin(5, 4, 5, 4),\n                                        hjust = 0),\n    plot.margin = margin(4, 15, 10, 10),\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank(),\n    axis.text.x = element_text(size = 8.5, margin = margin(t = 3),\n                               color = \"black\"),\n    axis.ticks.length.x = unit(4, \"pt\"),\n    axis.ticks.x = element_line(linewidth = 0.4),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    panel.background = element_rect(fill = NA)\n  )\ngg\n\n\n\n\n\n\n\n\n\n\n\nCode\nggsave(\"pre_post_covid.png\", width = 6, height = 4.26)\n\n\n\n\nCode\nlibrary(plotly)\nggplotly(gg)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#resource",
    "href": "Plot/5 chart club.html#resource",
    "title": "Chart club",
    "section": "",
    "text": "https://www.youtube.com/watch?v=pCXL0msqJD0",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#package-1",
    "href": "Plot/5 chart club.html#package-1",
    "title": "Chart club",
    "section": "2.1 package",
    "text": "2.1 package\n\n\nCode\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(quantmod)\nlibrary(ggtext)\n\n\n\n\nCode\nfont_add_google(\"Libre Franklin\", \"franklin\")\nfont_add_google(\"Domine\", \"domine\")\nshowtext_opts(dpi = 300)\nshowtext_auto()",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#data-1",
    "href": "Plot/5 chart club.html#data-1",
    "title": "Chart club",
    "section": "2.2 data",
    "text": "2.2 data\n\n\nCode\nbeginning &lt;- as.Date(\"2025-01-01\")\nending &lt;- today() #as.Date(\"2025-04-04\")\n\nsandp &lt;- getSymbols(\"^GSPC\", auto.assign = FALSE) %&gt;%\n  as_tibble(rownames = \"date\") %&gt;%\n  select(date, close = GSPC.Close) %&gt;%\n  mutate(date = parse_date(date),\n         week = isoweek(date),\n         year = year(date)) %&gt;%\n  filter((date &gt;= beginning - 7 & date &lt;= ending) & \n           ((year == 2024 & week == 52) | year == 2025)) %&gt;%\n  nest(weekly = -c(week, year)) %&gt;%\n  mutate(\n    weekly_close = map_dbl(weekly,\n                           ~slice_max(.x, order_by = date) %&gt;% pull(close)),\n    prev_weekly_close = lag(weekly_close),\n    weekly_loss = weekly_close &lt; prev_weekly_close) %&gt;%\n  drop_na(prev_weekly_close) %&gt;%\n  unnest(weekly)\n\nrectangles &lt;- sandp %&gt;%\n  summarize(first = min(date),\n            last = max(date),\n            weekly_loss = unique(weekly_loss), .by = c(week, year)) %&gt;%\n  select(first, last, weekly_loss)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#data-cleaning-1",
    "href": "Plot/5 chart club.html#data-cleaning-1",
    "title": "Chart club",
    "section": "2.3 data cleaning",
    "text": "2.3 data cleaning\n\n\nCode\nmonth_label &lt;- sandp %&gt;%\n  filter(date %in% c(\"2025-01-06\", \"2025-02-03\", \"2025-03-03\", \"2025-04-14\",\"2025-05-14\",\"2025-06-18\")) %&gt;%\n  mutate(month = month(date, label = TRUE)\n         ,year=year(date)) %&gt;%\n  select(date, month,year)\n\ngap &lt;- 0.005\nymax &lt;- (1 + gap) * max(sandp$close)\nymin &lt;- (1 - gap) * min(sandp$close) \nmonth_y &lt;- ymin * 0.97",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#chart-1",
    "href": "Plot/5 chart club.html#chart-1",
    "title": "Chart club",
    "section": "2.4 Chart",
    "text": "2.4 Chart\n\n\nCode\ngg=sandp %&gt;%\n  ggplot(aes(x = date, y = close, group = week)) +\n  geom_rect(data = rectangles,\n            aes(xmin = first, xmax = last,\n                ymin = ymin, ymax = ymax, fill = weekly_loss),\n            inherit.aes = FALSE) + \n  geom_hline(yintercept = seq(5100, 6100, 200),\n             color = \"gray80\", linewidth = 0.2) +\n  geom_line(color = \"#016C90\", linewidth = 0.75) + \n  geom_point(color = \"#016C90\") +\n  geom_text(data = month_label,\n            aes(x = date, y = month_y, label = paste0(month,' 25')), inherit.aes = FALSE,\n            family = \"franklin\", size = 9, size.unit = \"pt\") +\n  labs(\n    title = \"Investors recoil from Trump's pledge to remake the\\nglobal economy.\",\n    subtitle = \"&lt;span style = 'color:#F6904C'&gt;**Orange bars**&lt;/span&gt; indicate weekly losses from end of previous week.\",\n    caption = \"Source: Yahoo\"\n  ) +\n  scale_fill_manual(\n    breaks = c(TRUE, FALSE),\n    values = c(\"#FDE3D4\", \"#E9F0F3\")\n  ) +\n  coord_cartesian(expand = FALSE, clip = \"off\",\n                  ylim = c(ymin, ymax)) +\n  scale_y_continuous(breaks = seq(5100, 6100, 200),\n                     labels = scales::label_number(big.mark = \",\")) +\n  scale_x_date(limits = c(min(sandp$date) - 2, max(sandp$date) + 2),\n               breaks = seq(as.Date(\"2025-01-06\"), max(sandp$date), 14),\n               date_labels = \"%e\") +\n  theme(\n    text = element_text(family = \"franklin\"),\n    panel.grid = element_blank(),\n    panel.background = element_blank(),\n    legend.position = \"none\",\n    plot.title.position = \"plot\",\n    plot.title = element_text(family = \"domine\", size = 16, face = \"bold\",\n                              lineheight = 1.2),\n    plot.subtitle = element_markdown(family = \"domine\", size = 10,\n                                     color = \"gray30\",\n                                     margin = margin(t = 23, b = 19)),\n    plot.caption.position = \"plot\",\n    plot.caption = element_text(hjust = 0, size = 8, color = \"gray30\",\n                                margin = margin(t = 29)),\n    plot.margin = margin(t = 8, r = 10, b = 8, l = 7),\n    axis.title = element_blank(),\n    axis.ticks = element_blank(),\n    axis.text.x = element_text(margin = margin(t = 3))\n  )\n\ngg\n\n\n\n\n\n\n\n\n\n\n\nCode\nggsave(\"sandp500_weekly.png\", width = 6, height = 5.17)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#resource-1",
    "href": "Plot/5 chart club.html#resource-1",
    "title": "Chart club",
    "section": "2.5 resource:",
    "text": "2.5 resource:\nhttps://riffomonas.org/code_club/2025-05-02-sandp500_weekly\nhttps://www.youtube.com/watch?v=-UpqE1ilVuo",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-pdf",
    "href": "data manipulation/1 input ouput.html#read-pdf",
    "title": "Input & Output in R",
    "section": "1.10 Read PDF",
    "text": "1.10 Read PDF\nThe tabulapdf package can extract tables from PDF documents.\n\n\nCode\nlibrary(tabulapdf)\n\n\nextract_tables() reads the PDF and returns a list, where each element of the list is a data frame corresponding to a table found in the document.\n\n\nCode\nout &lt;- extract_tables('data/60870-By-the-Numbers.pdf')\n\n\nAccess the first table:\n\n\nCode\nout[[1]]\n\n\n# A tibble: 22 × 7\n   `The Budget Outlook, by Fiscal Year` ...2      ...3    ...4 ...5  ...6   ...7\n   &lt;chr&gt;                                &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;\n 1 &lt;NA&gt;                                 &lt;NA&gt;      Perc…   NA   &lt;NA&gt;  Bill…    NA\n 2 &lt;NA&gt;                                 Average,  Actu…   NA   Actu… &lt;NA&gt;     NA\n 3 &lt;NA&gt;                                 1975–2024 2024… 2035   2024  2025…  2035\n 4 Revenues                             17.3      17.1…   18.3 4,918 5,16…  8031\n 5 Individual income taxes              8.0       8.4 …   10   2,426 2,62…  4413\n 6 Payroll taxes                        6.0       5.9 …    5.9 1,709 1,75…  2605\n 7 Corporate income taxes               1.8       1.8 …    1.2 530   524 …   517\n 8 Other                                1.5       0.9 …    1.1 253   259 …   496\n 9 Outlays                              21.1      23.7…   24.4 6,826 7,02… 10730\n10 Mandatory                            11.1      14.3…   15.1 4,130 4,22…  6626\n# ℹ 12 more rows\n\n\nAccess the second table:\n\n\nCode\nout[[2]]\n\n\n# A tibble: 16 × 7\n   ...1                          `Estimated,` ...3  ...4    ...5 `2028–` `2030–`\n   &lt;chr&gt;                                &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n 1 &lt;NA&gt;                                2024   2025  2026  2027    2029    2035  \n 2 &lt;NA&gt;                                  NA   Chan… &lt;NA&gt;    NA      NA      NA  \n 3 Real (inflation-adjusted) GDP          2.3 1.9   1.8      1.8     1.8     1.8\n 4 Inflation                             NA   &lt;NA&gt;  &lt;NA&gt;    NA      NA      NA  \n 5 PCE price index                        2.5 2.2   2.1      2       2       2  \n 6 Consumer price index                   2.7 2.3   2.4      2.3     2.2     2.2\n 7 Payroll employment (net mont…        187   90    58      46      52      57  \n 8 &lt;NA&gt;                                  NA   &lt;NA&gt;  Annu…   NA      NA      NA  \n 9 Unemployment rate                      4   4.3   4.4      4.4     4.4     4.4\n10 Interest rates                        NA   &lt;NA&gt;  &lt;NA&gt;    NA      NA      NA  \n11 Effective federal funds rate           5.1 4.0   3.5      3.3     3.3     3.2\n12 3-month Treasury bills                 5   3.8   3.3      3.2     3.2     3.1\n13 10-year Treasury notes                 4.2 4.1   3.9      3.9     3.9     3.8\n14 Tax bases (percentage of GDP)         NA   &lt;NA&gt;  &lt;NA&gt;    NA      NA      NA  \n15 Wages and salaries                    42.6 42.8  43.1    43.2    43.5    43.6\n16 Domestic corporate profits            11.4 11.1  10.7    10.3     9.6     9.5",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#package-2",
    "href": "Plot/5 chart club.html#package-2",
    "title": "Chart club",
    "section": "3.1 package",
    "text": "3.1 package\n\n\nCode\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(ggtext)\nlibrary(tabulapdf)\n\n\n\n\nCode\nfont_add_google(\"Libre Franklin\", \"franklin\")\nshowtext_opts(dpi = 300)\nshowtext_auto()",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#data-2",
    "href": "Plot/5 chart club.html#data-2",
    "title": "Chart club",
    "section": "3.2 data",
    "text": "3.2 data\n\n\nCode\nwaffler &lt;- function(d, n_rows = 7){  \n  \n  n_cols &lt;- ceiling(sum(d$billions) / n_rows)\n  n_na &lt;- n_cols * n_rows - sum(d$billions)\n  \n  d &lt;- uncount(d, billions) %&gt;%\n    arrange(budget) \n  \n  if(n_na != 0) {\n    d &lt;- bind_rows(d, tibble(budget = rep(NA, n_na)))\n  }\n  \n  bind_cols(d, expand_grid(col = 1:n_cols, row = 1:n_rows))\n  \n}\n\nscale_factor &lt;- 5 #$billions\nnrows &lt;- 5\n\n\nreading pdf\n\n\nCode\nout &lt;- extract_tables('60870-By-the-Numbers.pdf')\npdf_data=out[[1]] |&gt; janitor::clean_names()\n\n\n\n\nCode\npdf_data002=pdf_data[-c(1, 2), ] \n\n\n\n\nCode\npdf_data003=pdf_data002|&gt; separate_wider_delim(cols = x6, delim = \" \", names = c(\"left\", \"right\"),too_few = \"debug\")\n\n\n\n\nCode\npdf_data004=pdf_data003 |&gt; select(name=the_budget_outlook_by_fiscal_year,right) |&gt; filter(name %in% c(\"Social Security\",\"Medicare\",'Medicaid, CHIP, and marketplace subsidies','Defense','Nondefense','Other mandatory')) |&gt; mutate(\n  \n  new_name=case_when(\n    name == \"Social Security\" ~ \"social_security\",\n    name == \"Medicare\" ~ \"medicare\",\n    name == \"Medicaid, CHIP, and marketplace subsidies\" ~ \"medicaid\",\n    name == \"Defense\" ~ \"defense\",\n    name == \"Nondefense\" ~ \"nondefense\",\n    name == \"Other mandatory\" ~ \"other_benefits\"\n  ),\n  order=case_when(\n    name == \"Nondefense\" ~ 1,\n    name == \"Defense\" ~ 2,\n    name == \"Medicaid, CHIP, and marketplace subsidies\" ~ 3,\n    name == \"Defense\" ~ 4,\n    name == \"Medicare\" ~ 5,\n    name == \"Social Security\"  ~ 6\n  )) |&gt; arrange(order)|&gt; select(category = new_name, billions = right)\n\n\n\n\nCode\nbudget0 &lt;- tribble(\n  ~percent_cut, ~pretty,\n  16, \"**Nondefense discretionary funding**&lt;br&gt;&lt;span style='color:gray40;font-size:8pt;'&gt;Federal programs, contracts, grants and employment&lt;/span&gt;\",\n 16, \"**Defense**\",\n 16, \"**Medicaid, Obamacare, CHIP**&lt;br&gt;&lt;span style='color:gray40;font-size:8pt;'&gt;CHIP is Children's Health Insurance Program&lt;/span&gt;\",\n16, \"**Other benefits to individuals**&lt;br&gt;&lt;span style='color:gray40;font-size:8pt;'&gt;Anti-poverty programs, farm aid, military retirement, other \\\"mandatory\\\" spending&lt;/span&gt;\",\n 16, \"**Medicare**\",\n 16, \"**Social Security**\"\n)\n\n\n\n\nCode\nbudget=cbind(pdf_data004,budget0) |&gt; mutate(billions =billions |&gt; str_remove_all(\",\") |&gt; as.numeric(),\n           bill_cut = billions * percent_cut / 100,\n         bill_remain = billions - bill_cut,\n         category = factor(category, levels = category)\n         )",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#data-cleaning-2",
    "href": "Plot/5 chart club.html#data-cleaning-2",
    "title": "Chart club",
    "section": "3.3 data cleaning",
    "text": "3.3 data cleaning\n\n\nCode\ndata &lt;- budget %&gt;%\n  select(category, cut = bill_cut, remain = bill_remain) %&gt;%\n  pivot_longer(-category, values_to = \"billions\", names_to = \"budget\") %&gt;%\n  mutate(billions = round(billions / scale_factor, digits = 0),\n         budget = factor(budget, levels = c(\"remain\", \"cut\"))) %&gt;%\n  nest(data = -category) %&gt;%\n  mutate(waffle = map(data, waffler, n_row = nrows)) %&gt;%\n  select(category, waffle) %&gt;%\n  unnest(waffle)\n\n \npretty_labels &lt;- pull(budget, pretty)\nnames(pretty_labels) &lt;- pull(budget, category)\n\npretty_cut &lt;- budget %&gt;%\n  mutate(y = nrows,\n         x = ceiling(max(billions) / scale_factor / nrows),\n         label = paste0(percent_cut, \"% cut\")) %&gt;%\n  select(category, x, y, label)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#chart-2",
    "href": "Plot/5 chart club.html#chart-2",
    "title": "Chart club",
    "section": "3.4 Chart",
    "text": "3.4 Chart\n\n\nCode\ngg=data %&gt;%\n  ggplot(aes(x = col, y = row, fill = budget)) +\n  geom_tile(color = \"white\", linewidth = 0.3, show.legend = FALSE) +\n  geom_point(data = tibble(category = factor(\"social_security\"),\n                           col = 1, row = -2,\n                           budget = \"remain\"),\n             shape = \"square\", color = \"#9E9E9E\", size = 2,\n             show.legend = FALSE) +\n  geom_text(data = tibble(category = factor(\"social_security\"),\n                          col = 2, row = -2,\n                          budget = \"remain\"),\n            label = \"Each box represents $5 billion in projected fiscal year 2026 spending. Defense and nondefense\\ndiscretionary amounts represent budget authority.\",\n            color = \"#9E9E9E\", family = \"franklin\", size = 8, size.unit = \"pt\",\n            hjust = 0, vjust = 0.8, lineheight = 1, show.legend = FALSE) +\n  geom_text(data = pretty_cut,\n            aes(x = x, y = y, label = label), \n            hjust = 0.95, vjust = -0.8,\n            family = \"franklin\", fontface = \"bold\",\n            size = 10, size.unit = \"pt\", color = \"#FC1F76\",\n            inherit.aes = FALSE) +\n  facet_wrap(vars(category), ncol = 1,\n             labeller = labeller(category = pretty_labels)) +\n  labs(\n    title = \"How to reach $1 trillion &lt;span style='color:#FC1F76;'&gt;if Social Security and Medicare are added as equal cuts:&lt;/span&gt;\",\n    caption = \"Source: Analysis of Congressional Budget Office data by Richard Kogan, Center on Budget and Policy Priorities • Note: Interest payments on the federal debt are not shown. • The New York Times\"\n  ) +\n  scale_fill_manual(\n    breaks = c(\"remain\", \"cut\"),\n    values = c(\"#9E9E9E\", \"#FFADC9\"), na.value = \"#FFFFFF\"\n  ) +\n  coord_cartesian(expand = FALSE, clip = \"off\") + \n  theme(\n    text = element_text(family = \"franklin\"),\n    panel.grid = element_blank(),\n    panel.background = element_blank(),\n    axis.title = element_blank(),\n    axis.text = element_blank(),\n    axis.ticks = element_blank(),\n    plot.title = element_textbox_simple(face = \"bold\", size = 14,\n                                        margin = margin(b = 10)),\n    plot.caption = element_textbox_simple(color = \"gray40\", size = 8.5,\n                                          lineheight = 1.3,\n                                          margin = margin(t = 20, b = 5)),\n    strip.text = element_markdown(hjust = 0, size = 10, lineheight = 1,\n                                  margin = margin(0, 0, 2, 0)),\n    strip.background = element_blank(),\n    panel.spacing.y = unit(-10, \"pt\")\n  )\n\ngg\n\n\n\n\n\n\n\n\n\n\n\nCode\nggsave(\"budget_waffle.png\", width = 6, height = 6.4)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#resource-2",
    "href": "Plot/5 chart club.html#resource-2",
    "title": "Chart club",
    "section": "3.5 resource:",
    "text": "3.5 resource:\nhttps://riffomonas.org/code_club/2025-05-12-waffle\nhttps://www.youtube.com/watch?v=vtuyVTXmlPU&t=1s",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-all-file-names-under-the-current-directory",
    "href": "intro/1 basic R.html#get-all-file-names-under-the-current-directory",
    "title": "Basic R",
    "section": "2.2 Get all file names under the current directory",
    "text": "2.2 Get all file names under the current directory\nThe list.files() function returns a character vector of file and directory names in the specified directory. Without an argument, it lists files in the current directory.\n\n\nCode\nlist.files()\n\n\n [1] \"1 basic R.qmd\"                 \"1 basic R.rmarkdown\"          \n [3] \"1-basic-R.rmarkdown\"           \"2 probability.qmd\"            \n [5] \"3 Statistics.qmd\"              \"5 R boook.qmd\"                \n [7] \"6 data analytic in R book.qmd\" \"7 error handling.qmd\"         \n [9] \"hotels.csv\"                    \"images\"                       \n[11] \"renv\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#get-all-file-names-under-one-level-up-directory",
    "href": "intro/1 basic R.html#get-all-file-names-under-one-level-up-directory",
    "title": "Basic R",
    "section": "2.3 Get all file names under one level up directory",
    "text": "2.3 Get all file names under one level up directory\nYou can use .. to refer to the parent directory.\n\n\nCode\nlist.files('../')\n\n\n [1] \"_extensions\"           \"_freeze\"               \"_publish.yml\"         \n [4] \"_quarto.yml\"           \"_site\"                 \"data manipulation\"    \n [7] \"docs\"                  \"foldableCodeBlcok.lua\" \"images\"               \n[10] \"index.qmd\"             \"intro\"                 \"Intro R.Rproj\"        \n[13] \"LICENSE\"               \"other\"                 \"Plot\"                 \n[16] \"Publish\"               \"README.md\"             \"Rlogo.png\"            \n[19] \"sidebar.png\"           \"styles.css\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#download-file-from-the-internet",
    "href": "intro/1 basic R.html#download-file-from-the-internet",
    "title": "Basic R",
    "section": "2.10 Download file from the internet",
    "text": "2.10 Download file from the internet\nThe download.file() function downloads a file from a given URL.\n\n\nCode\nurl=\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-11/hotels.csv\"\n\ndownload.file(url = url, destfile = \"hotels.csv\")",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#using-map-function-for-loops",
    "href": "intro/1 basic R.html#using-map-function-for-loops",
    "title": "Basic R",
    "section": "5.2 Using map() function for loops",
    "text": "5.2 Using map() function for loops\nThe map functions from the purrr package (part of tidyverse) provide a more functional approach to iteration. map returns a list, map_dbl returns a numeric vector, and map_chr returns a character vector.\n\n\nCode\nlibrary(tidyverse)\n\n\n\n\nCode\nmap(\n  1:3, \n    \\(x) x+2\n  )\n\n\n[[1]]\n[1] 3\n\n[[2]]\n[1] 4\n\n[[3]]\n[1] 5\n\n\n\n\nCode\nmap_dbl(\n  1:3, \n    \\(x) x+2\n  )\n\n\n[1] 3 4 5\n\n\n\n\nCode\nmap_chr(\n  1:3, \n    \\(x) x+2\n  )\n\n\n[1] \"3.000000\" \"4.000000\" \"5.000000\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#error-handling-in-a-for-loop-printing-out-errors",
    "href": "intro/1 basic R.html#error-handling-in-a-for-loop-printing-out-errors",
    "title": "Basic R",
    "section": "5.3 Error handling in a for loop: printing out errors",
    "text": "5.3 Error handling in a for loop: printing out errors\nYou can use tryCatch inside a loop to handle errors on a per-iteration basis.\n\n\nCode\nstuff &lt;- list(12, 9, 2, \"cat\", 25, 10, \"bird\")\n\nloop_num=0\nfor (i in 1:6) {\n  loop_num=loop_num+1\n  tryCatch (print(1+i),\n           error = function(e){\n           message(paste(\"An error occurred for loop num\", loop_num,\":\\n\"), e)\n         })\n}\n\n\n[1] 2\n[1] 3\n[1] 4\n[1] 5\n[1] 6\n[1] 7",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#error-handling-in-a-while-loop-retrying-until-the-error-is-gone",
    "href": "intro/1 basic R.html#error-handling-in-a-while-loop-retrying-until-the-error-is-gone",
    "title": "Basic R",
    "section": "5.5 Error handling in a while loop: retrying until the error is gone",
    "text": "5.5 Error handling in a while loop: retrying until the error is gone\nThis example shows a while loop that attempts to run code that causes an error. The tryCatch block catches the error and modifies a variable, allowing the loop to eventually terminate.\n\n\nCode\ni=0\na=0\nwhile (i &lt; 4) {\n  a=a+1\n  print(i)\n  tryCatch({\n  asdfgaergae5gh5hae5h # This will cause an error\n    i=i+1\n  },error = function(msg){print('eeeeeeee')\n    i=i-1\n    print(paste0(\"new i : \",i))\n   \n    })\n   if(a&gt;10){break} # Safety break to prevent an infinite loop\n  }\n\n\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"\n[1] 0\n[1] \"eeeeeeee\"\n[1] \"new i : -1\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#use-try-to-bypass-errors",
    "href": "intro/1 basic R.html#use-try-to-bypass-errors",
    "title": "Basic R",
    "section": "6.7 Use try to bypass errors",
    "text": "6.7 Use try to bypass errors\nThe try() function is a simplified version of tryCatch. It runs an expression and if an error occurs, it returns an object of class try-error but allows the script to continue.\n\n\nCode\ntry(adding_ten(100))\n\n\n[1] 110\n\n\nCode\n5+10\n\n\n[1] 15",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-package-location",
    "href": "intro/1 basic R.html#check-package-location",
    "title": "Basic R",
    "section": "8.3 Check package location",
    "text": "8.3 Check package location\npak::pkg_status() provides detailed information about a package, including its installation path.\n\n\nCode\npak::pkg_status(\"ggplot2\") |&gt; t()\n\n\n                  123                                                                                                               \nlibrary           \"/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\"                                            \npackage           \"ggplot2\"                                                                                                         \nversion           \"3.5.1\"                                                                                                           \ntitle             \"Create Elegant Data Visualisations Using the Grammar of Graphics\"                                                \ndepends           \"R (&gt;= 3.5)\"                                                                                                      \nimports           \"cli, glue, grDevices, grid, gtable (&gt;= 0.1.1), isoband,\\n        lifecycle (&gt; 1.0.1), MASS, mgcv, rl\" [truncated]\nlicense           \"MIT + file LICENSE\"                                                                                              \nneedscompilation  FALSE                                                                                                             \nrepository        \"CRAN\"                                                                                                            \nbuilt             \"R 4.4.0; ; 2024-04-23 11:40:42 UTC; unix\"                                                                        \nsuggests          \"covr, dplyr, ggplot2movies, hexbin, Hmisc, knitr, mapproj,\\n        maps, multcomp, munsell, nlme, p\" [truncated]\nlinkingto         \"NA\"                                                                                                              \nremotetype        \"NA\"                                                                                                              \nremotepkgref      \"NA\"                                                                                                              \nremoteref         \"NA\"                                                                                                              \nremoterepos       \"NA\"                                                                                                              \nremotepkgplatform \"NA\"                                                                                                              \nremotesha         \"NA\"                                                                                                              \npriority          \"NA\"                                                                                                              \nenhances          \"sp\"                                                                                                              \nremotehost        \"NA\"                                                                                                              \nremoterepo        \"NA\"                                                                                                              \nremoteusername    \"NA\"                                                                                                              \nremotes           \"NA\"                                                                                                              \nmd5sum            \"NA\"                                                                                                              \nplatform          \"*\"                                                                                                               \nbiocviews         \"NA\"                                                                                                              \nsysreqs           \"NA\"                                                                                                              \nref               \"installed::/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library/ggplot2\"                         \ntype              \"installed\"                                                                                                       \nstatus            \"OK\"                                                                                                              \nrversion          \"R 4.4.0\"                                                                                                         \nsources           character,0                                                                                                       \nrepotype          \"cran\"                                                                                                            \ndeps              tbl,5",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-package-dependencies",
    "href": "intro/1 basic R.html#check-package-dependencies",
    "title": "Basic R",
    "section": "8.4 Check package dependencies",
    "text": "8.4 Check package dependencies\npak::pkg_deps_tree() shows a tree of the dependencies for a given package.\n\n\nCode\npak::pkg_deps_tree(\"tibble\")\n\n\ntibble 3.3.0 ✨🔧 ⬇ (690.09 kB)\n├─cli 3.6.5 ✨🔧 ⬇ (1.46 MB)\n├─lifecycle 1.0.4 ✨ ⬇ (124.78 kB)\n│ ├─cli\n│ ├─glue 1.8.0 ✨🔧 ⬇ (173.70 kB)\n│ └─rlang 1.1.6 ✨🔧 ⬇ (1.89 MB)\n├─magrittr 2.0.3 ✨🔧 ⬇ (233.52 kB)\n├─pillar 1.11.0 ✨ ⬇ (659.43 kB)\n│ ├─cli\n│ ├─glue\n│ ├─lifecycle\n│ ├─rlang\n│ ├─utf8 1.2.6 ✨🔧 ⬇ (209.16 kB)\n│ └─vctrs 0.6.5 ✨🔧 ⬇ (1.89 MB)\n│   ├─cli\n│   ├─glue\n│   ├─lifecycle\n│   └─rlang\n├─pkgconfig 2.0.3 ✨ ⬇ (18.45 kB)\n├─rlang\n└─vctrs\n\nKey:  ✨ new |  ⬇ download | 🔧 compile",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-all-installed-packages",
    "href": "intro/1 basic R.html#check-all-installed-packages",
    "title": "Basic R",
    "section": "8.5 Check all installed packages",
    "text": "8.5 Check all installed packages\ninstalled.packages() returns a matrix of all installed packages. This code filters it and displays it in an interactive table using gt.\n\n\nCode\nlibrary(gt)\nip = as.data.frame(installed.packages()[,c(1,3:4)])\nip = ip[is.na(ip$Priority),1:2,drop=FALSE]\nip |&gt; gt() |&gt; opt_interactive()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-currently-loaded-packages",
    "href": "intro/1 basic R.html#check-currently-loaded-packages",
    "title": "Basic R",
    "section": "8.6 Check currently loaded packages",
    "text": "8.6 Check currently loaded packages\n.packages() returns a character vector of the packages that are currently loaded in your R session.\n\n\nCode\nlibrary(dplyr)\ninstalled_package = as.data.frame(installed.packages()[,c(1,3:4)])\ninstalled_package = installed_package[is.na(installed_package$Priority),1:2,drop=FALSE]\ninstalled_package |&gt; filter(Package %in% (.packages()))|&gt; gt() |&gt; opt_interactive()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-local-installed-old-packages-compared-with-cran",
    "href": "intro/1 basic R.html#check-local-installed-old-packages-compared-with-cran",
    "title": "Basic R",
    "section": "8.8 Check local installed old packages compared with CRAN",
    "text": "8.8 Check local installed old packages compared with CRAN\nold.packages() checks for installed packages that have newer versions available on CRAN.\n\n\nCode\nold.packages(repos = \"http://cran.us.r-project.org\") |&gt; as.data.frame() |&gt; gt::gt() \n\n\n\n\n\n\n\n\nPackage\nLibPath\nInstalled\nBuilt\nReposVer\nRepository\n\n\n\n\nannotater\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.2.3\n4.4.0\n0.2.4\nhttp://cran.us.r-project.org/src/contrib\n\n\nanytime\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.3.11\n4.4.1\n0.3.12\nhttp://cran.us.r-project.org/src/contrib\n\n\narrow\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n19.0.1\n4.4.1\n20.0.0.2\nhttp://cran.us.r-project.org/src/contrib\n\n\nAsioHeaders\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.22.1-2\n4.4.1\n1.30.2-1\nhttp://cran.us.r-project.org/src/contrib\n\n\nbigD\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.3.0\n4.4.1\n0.3.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nblastula\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.3.5\n4.4.0\n0.3.6\nhttp://cran.us.r-project.org/src/contrib\n\n\nbookdown\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.42\n4.4.1\n0.43\nhttp://cran.us.r-project.org/src/contrib\n\n\nbroom\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.0.7\n4.4.1\n1.0.8\nhttp://cran.us.r-project.org/src/contrib\n\n\ncards\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.5.1\n4.4.1\n0.6.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nchromote\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.5.0\n4.4.1\n0.5.1\nhttp://cran.us.r-project.org/src/contrib\n\n\ncli\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n3.6.4\n4.4.1\n3.6.5\nhttp://cran.us.r-project.org/src/contrib\n\n\ncluster\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.1.8\n4.4.3\n2.1.8.1\nhttp://cran.us.r-project.org/src/contrib\n\n\ncollections\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.3.7\n4.4.1\n0.3.8\nhttp://cran.us.r-project.org/src/contrib\n\n\ncommonmark\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.9.2\n4.4.1\n2.0.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ncowplot\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.1.3\n4.4.0\n1.2.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ncurl\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n6.2.2\n4.4.1\n6.4.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ndata.table\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.17.0\n4.4.1\n1.17.8\nhttp://cran.us.r-project.org/src/contrib\n\n\nDeriv\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n4.1.6\n4.4.1\n4.2.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ndiffobj\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.3.5\n4.4.0\n0.3.6\nhttp://cran.us.r-project.org/src/contrib\n\n\ndoBy\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n4.6.25\n4.4.1\n4.7.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ndtt\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.1-2\n4.4.0\n0.1-2.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nduckdb\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.2.0\n4.4.1\n1.3.2\nhttp://cran.us.r-project.org/src/contrib\n\n\nellmer\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.2.0\n4.4.1\n0.2.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nevaluate\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.0.3\n4.4.1\n1.0.4\nhttp://cran.us.r-project.org/src/contrib\n\n\nforeign\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.8-88\n4.4.3\n0.8-90\nhttp://cran.us.r-project.org/src/contrib\n\n\nfs\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.6.5\n4.4.1\n1.6.6\nhttp://cran.us.r-project.org/src/contrib\n\n\nfuture\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.34.0\n4.4.0\n1.58.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ngapminder\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.0.0\n4.4.0\n1.0.1\nhttp://cran.us.r-project.org/src/contrib\n\n\ngdtools\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.4.1\n4.4.1\n0.4.2\nhttp://cran.us.r-project.org/src/contrib\n\n\ngemini.R\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.8.0\n4.4.1\n0.15.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ngenerics\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.1.3\n4.4.0\n0.1.4\nhttp://cran.us.r-project.org/src/contrib\n\n\ngert\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.1.4\n4.4.1\n2.1.5\nhttp://cran.us.r-project.org/src/contrib\n\n\ngganimate\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.0.9\n4.4.0\n1.0.10\nhttp://cran.us.r-project.org/src/contrib\n\n\nggfun\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.1.8\n4.4.1\n0.2.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nggmap\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n4.0.0\n4.4.0\n4.0.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nggplot2\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n3.5.1\n4.4.0\n3.5.2\nhttp://cran.us.r-project.org/src/contrib\n\n\nggpubr\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.6.0\n4.4.0\n0.6.1\nhttp://cran.us.r-project.org/src/contrib\n\n\ngh\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.4.1\n4.4.0\n1.5.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nglobals\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.16.3\n4.4.0\n0.18.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ngtExtras\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.5.0\n4.4.0\n0.6.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ngtsummary\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.1.0\n4.4.1\n2.3.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nhaven\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.5.4\n4.4.0\n2.5.5\nhttp://cran.us.r-project.org/src/contrib\n\n\nhttpuv\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.6.15\n4.4.0\n1.6.16\nhttp://cran.us.r-project.org/src/contrib\n\n\nhttr2\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.1.1\n4.4.1\n1.2.0\nhttp://cran.us.r-project.org/src/contrib\n\n\njpeg\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.1-10\n4.4.0\n0.1-11\nhttp://cran.us.r-project.org/src/contrib\n\n\nkeyring\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.3.2\n4.4.0\n1.4.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nknitr\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.49\n4.4.1\n1.50\nhttp://cran.us.r-project.org/src/contrib\n\n\nlares\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n5.2.13\n4.4.1\n5.3.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nlater\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.4.1\n4.4.1\n1.4.2\nhttp://cran.us.r-project.org/src/contrib\n\n\nlattice\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.22-6\n4.4.3\n0.22-7\nhttp://cran.us.r-project.org/src/contrib\n\n\nleafem\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.2.3\n4.4.0\n0.2.4\nhttp://cran.us.r-project.org/src/contrib\n\n\nlegendry\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.2.1\n4.4.1\n0.2.2\nhttp://cran.us.r-project.org/src/contrib\n\n\nlme4\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.1-36\n4.4.1\n1.1-37\nhttp://cran.us.r-project.org/src/contrib\n\n\nmagick\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.8.5\n4.4.1\n2.8.7\nhttp://cran.us.r-project.org/src/contrib\n\n\nmaps\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n3.4.2.1\n4.4.1\n3.4.3\nhttp://cran.us.r-project.org/src/contrib\n\n\nmarkdown\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.13\n4.4.0\n2.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nMASS\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n7.3-64\n4.4.3\n7.3-65\nhttp://cran.us.r-project.org/src/contrib\n\n\nMatrix\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.7-2\n4.4.3\n1.7-3\nhttp://cran.us.r-project.org/src/contrib\n\n\nMatrixModels\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.5-3\n4.4.0\n0.5-4\nhttp://cran.us.r-project.org/src/contrib\n\n\nmgcv\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.9-1\n4.4.3\n1.9-3\nhttp://cran.us.r-project.org/src/contrib\n\n\nminiUI\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.1.1.1\n4.4.0\n0.1.2\nhttp://cran.us.r-project.org/src/contrib\n\n\nnlme\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n3.1-167\n4.4.3\n3.1-168\nhttp://cran.us.r-project.org/src/contrib\n\n\nnloptr\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.1.1\n4.4.0\n2.2.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nofficer\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.6.8\n4.4.1\n0.6.10\nhttp://cran.us.r-project.org/src/contrib\n\n\nopenssl\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.3.2\n4.4.1\n2.3.3\nhttp://cran.us.r-project.org/src/contrib\n\n\npackrat\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.9.2\n4.4.1\n0.9.3\nhttp://cran.us.r-project.org/src/contrib\n\n\npak\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.8.0.1\n4.4.1\n0.9.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nparallelly\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.42.0\n4.4.1\n1.45.0\nhttp://cran.us.r-project.org/src/contrib\n\n\npatchwork\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.3.0\n4.4.1\n1.3.1\nhttp://cran.us.r-project.org/src/contrib\n\n\npbkrtest\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.5.3\n4.4.0\n0.5.5\nhttp://cran.us.r-project.org/src/contrib\n\n\npillar\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.10.1\n4.4.1\n1.11.0\nhttp://cran.us.r-project.org/src/contrib\n\n\npins\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.4.0\n4.4.1\n1.4.1\nhttp://cran.us.r-project.org/src/contrib\n\n\npkgbuild\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.4.6\n4.4.1\n1.4.8\nhttp://cran.us.r-project.org/src/contrib\n\n\npkgcache\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.2.3\n4.4.1\n2.2.4\nhttp://cran.us.r-project.org/src/contrib\n\n\npkgdepends\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.8.0\n4.4.1\n0.9.0\nhttp://cran.us.r-project.org/src/contrib\n\n\npkgdown\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.1.1\n4.4.1\n2.1.3\nhttp://cran.us.r-project.org/src/contrib\n\n\nplotly\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n4.10.4\n4.4.0\n4.11.0\nhttp://cran.us.r-project.org/src/contrib\n\n\npolyglotr\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.5.2\n4.4.1\n1.6.1\nhttp://cran.us.r-project.org/src/contrib\n\n\npromises\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.3.2\n4.4.1\n1.3.3\nhttp://cran.us.r-project.org/src/contrib\n\n\nps\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.9.0\n4.4.1\n1.9.1\nhttp://cran.us.r-project.org/src/contrib\n\n\npurrr\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.0.4\n4.4.1\n1.1.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nqpdf\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.3.4\n4.4.1\n1.4.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nquantmod\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.4.26\n4.4.0\n0.4.28\nhttp://cran.us.r-project.org/src/contrib\n\n\nquantreg\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n6.00\n4.4.1\n6.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nR.cache\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.16.0\n4.4.0\n0.17.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nR.oo\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.27.0\n4.4.1\n1.27.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nragg\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.3.3\n4.4.1\n1.4.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nraster\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n3.6-31\n4.4.1\n3.6-32\nhttp://cran.us.r-project.org/src/contrib\n\n\nRcpp\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.0.14\n4.4.1\n1.1.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nRcppTOML\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.2.2\n4.4.0\n0.2.3\nhttp://cran.us.r-project.org/src/contrib\n\n\nRCurl\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.98-1.16\n4.4.0\n1.98-1.17\nhttp://cran.us.r-project.org/src/contrib\n\n\nRdpack\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.6.2\n4.4.1\n2.6.4\nhttp://cran.us.r-project.org/src/contrib\n\n\nreadxl\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.4.4\n4.4.1\n1.4.5\nhttp://cran.us.r-project.org/src/contrib\n\n\nreformulas\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.4.0\n4.4.1\n0.4.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nrenv\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.1.2\n4.4.1\n1.1.4\nhttp://cran.us.r-project.org/src/contrib\n\n\nreticulate\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.42.0\n4.4.1\n1.43.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nrlang\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.1.5\n4.4.1\n1.1.6\nhttp://cran.us.r-project.org/src/contrib\n\n\nrprojroot\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.0.4\n4.4.0\n2.1.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nrsconnect\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.3.4\n4.4.1\n1.5.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nRSQLite\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.3.9\n4.4.1\n2.4.2\nhttp://cran.us.r-project.org/src/contrib\n\n\ns2\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.1.7\n4.4.0\n1.1.9\nhttp://cran.us.r-project.org/src/contrib\n\n\nsass\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.4.9\n4.4.0\n0.4.10\nhttp://cran.us.r-project.org/src/contrib\n\n\nscales\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.3.0\n4.4.0\n1.4.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nsf\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.0-19\n4.4.1\n1.0-21\nhttp://cran.us.r-project.org/src/contrib\n\n\nshiny\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.10.0\n4.4.1\n1.11.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nshinydashboard\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.7.2\n4.4.0\n0.7.3\nhttp://cran.us.r-project.org/src/contrib\n\n\nstringi\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.8.4\n4.4.0\n1.8.7\nhttp://cran.us.r-project.org/src/contrib\n\n\nsummarytools\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.1.1\n4.4.1\n1.1.4\nhttp://cran.us.r-project.org/src/contrib\n\n\nsvglite\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.1.3\n4.4.0\n2.2.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nsystemfonts\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.2.1\n4.4.1\n1.2.3\nhttp://cran.us.r-project.org/src/contrib\n\n\nterra\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.8-29\n4.4.1\n1.8-60\nhttp://cran.us.r-project.org/src/contrib\n\n\ntesseract\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n5.2.2\n4.4.1\n5.2.3\nhttp://cran.us.r-project.org/src/contrib\n\n\ntextshaping\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.0.0\n4.4.1\n1.0.1\nhttp://cran.us.r-project.org/src/contrib\n\n\ntextutils\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.4-1\n4.4.0\n0.4-2\nhttp://cran.us.r-project.org/src/contrib\n\n\ntibble\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n3.2.1\n4.4.0\n3.3.0\nhttp://cran.us.r-project.org/src/contrib\n\n\ntidyfinance\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.4.3\n4.4.1\n0.4.4\nhttp://cran.us.r-project.org/src/contrib\n\n\ntidygeocoder\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.0.5\n4.4.0\n1.0.6\nhttp://cran.us.r-project.org/src/contrib\n\n\ntidytuesdayR\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.1.2\n4.4.1\n1.2.1\nhttp://cran.us.r-project.org/src/contrib\n\n\ntinytex\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.56\n4.4.1\n0.57\nhttp://cran.us.r-project.org/src/contrib\n\n\ntzdb\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.4.0\n4.4.0\n0.5.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nunits\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.8-5\n4.4.0\n0.8-7\nhttp://cran.us.r-project.org/src/contrib\n\n\nurltools\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.7.3\n4.4.0\n1.7.3.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nutf8\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.2.4\n4.4.0\n1.2.6\nhttp://cran.us.r-project.org/src/contrib\n\n\nV8\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n6.0.1\n4.4.1\n6.0.4\nhttp://cran.us.r-project.org/src/contrib\n\n\nvosonSML\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.32.7\n4.4.0\n0.35.1\nhttp://cran.us.r-project.org/src/contrib\n\n\nwaldo\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.6.1\n4.4.1\n0.6.2\nhttp://cran.us.r-project.org/src/contrib\n\n\nwebshot2\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.1.1\n4.4.0\n0.1.2\nhttp://cran.us.r-project.org/src/contrib\n\n\nwebsocket\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.4.2\n4.4.1\n1.4.4\nhttp://cran.us.r-project.org/src/contrib\n\n\nwritexl\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.5.1\n4.4.1\n1.5.4\nhttp://cran.us.r-project.org/src/contrib\n\n\nxfun\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.51\n4.4.1\n0.52\nhttp://cran.us.r-project.org/src/contrib\n\n\nyyjsonr\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.1.20\n4.4.0\n0.1.21\nhttp://cran.us.r-project.org/src/contrib\n\n\nzeallot\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n0.1.0\n4.4.1\n0.2.0\nhttp://cran.us.r-project.org/src/contrib\n\n\nzip\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n2.3.2\n4.4.1\n2.3.3\nhttp://cran.us.r-project.org/src/contrib\n\n\nzoo\n/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\n1.8-13\n4.4.1\n1.8-14\nhttp://cran.us.r-project.org/src/contrib",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#update-all-installed-packages",
    "href": "intro/1 basic R.html#update-all-installed-packages",
    "title": "Basic R",
    "section": "8.9 Update all installed packages",
    "text": "8.9 Update all installed packages\nupdate.packages() updates all installed packages to their latest versions.\n\n\nCode\nupdate.packages(ask = FALSE, checkBuilt = TRUE)",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#check-package-install-location",
    "href": "intro/1 basic R.html#check-package-install-location",
    "title": "Basic R",
    "section": "8.10 Check package install location",
    "text": "8.10 Check package install location\n.libPaths() shows the library paths where R packages are installed.\n\n\nCode\n.libPaths()\n\n\n[1] \"/Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/library\"",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#initialize-renv-and-create-renv.lock-with-currently-loaded-packages",
    "href": "intro/1 basic R.html#initialize-renv-and-create-renv.lock-with-currently-loaded-packages",
    "title": "Basic R",
    "section": "9.1 Initialize renv and create renv.lock with currently loaded packages",
    "text": "9.1 Initialize renv and create renv.lock with currently loaded packages\nrenv::init() initializes renv in a project, creating a private library and a renv.lock file that records the package versions used.\n\n\nCode\nrenv::init()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#make-all-current-package-versions-back-to-the-renv-list",
    "href": "intro/1 basic R.html#make-all-current-package-versions-back-to-the-renv-list",
    "title": "Basic R",
    "section": "9.3 Make all current package versions back to the renv list",
    "text": "9.3 Make all current package versions back to the renv list\nrenv::restore() restores the project library to the state recorded in renv.lock.\n\n\nCode\nrenv::restore()",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#download-table-from-the-internet",
    "href": "intro/1 basic R.html#download-table-from-the-internet",
    "title": "Basic R",
    "section": "2.11 Download table from the internet",
    "text": "2.11 Download table from the internet\nThis code scrapes a table from a Wikipedia page. It uses rvest to read the HTML content, html_table to extract tables, janitor::clean_names to clean up column names, and dplyr verbs (filter, mutate) to clean the data.\n\n\nCode\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(janitor)\n\nnba_wiki_url='https://en.wikipedia.org/wiki/List_of_NBA_champions'\n  \nnba_wiki_data001=nba_wiki_url %&gt;% read_html() %&gt;% html_table()\n\nnba_wiki_data002=nba_wiki_data001[[2]] %&gt;% clean_names()\n\nnba_wiki_data003=nba_wiki_data002 %&gt;%filter(!row_number() %in% c(1, 5)) %&gt;% mutate(year=str_sub(year, 1, 4))\n\ntail(nba_wiki_data003)",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/2 probability.html#draw-10-numbers-from-1-to-10",
    "href": "intro/2 probability.html#draw-10-numbers-from-1-to-10",
    "title": "Probability",
    "section": "1.1 Draw 10 numbers from 1 to 10",
    "text": "1.1 Draw 10 numbers from 1 to 10\nThe sample() function is used to take a random sample from a vector. Here, we are sampling 10 numbers from the sequence 1 to 10. replace = TRUE means that after a number is drawn, it is put back into the pool and can be drawn again.\n\n\nCode\na = sample(1:10, 10, replace = TRUE)\na\n\n\n [1]  8  6  5  5  6 10  9  4  1  5\n\n\nThis code creates a frequency table to show how many times each number was drawn. With a small sample size, the distribution might not be perfectly even.\n\n\nCode\nas.data.frame(table(a))\n\n\n   a Freq\n1  1    1\n2  4    1\n3  5    3\n4  6    2\n5  8    1\n6  9    1\n7 10    1",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#draw-10000-numbers-from-1-to-10",
    "href": "intro/2 probability.html#draw-10000-numbers-from-1-to-10",
    "title": "Probability",
    "section": "1.2 Draw 10,000 numbers from 1 to 10",
    "text": "1.2 Draw 10,000 numbers from 1 to 10\nBy increasing the sample size to 10,000, the law of large numbers suggests that the frequency of each number will be much closer to 10%.\n\n\nCode\na = sample(1:10, 10000, replace = TRUE)\n\n\n\n\nCode\nas.data.frame(table(a))\n\n\n    a Freq\n1   1  989\n2   2 1038\n3   3  979\n4   4  964\n5   5  999\n6   6 1003\n7   7 1037\n8   8 1039\n9   9  952\n10 10 1000",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#permutations-order-matters-choosing-2-numbers-from-4",
    "href": "intro/2 probability.html#permutations-order-matters-choosing-2-numbers-from-4",
    "title": "Probability",
    "section": "2.1 Permutations (order matters): choosing 2 numbers from 4",
    "text": "2.1 Permutations (order matters): choosing 2 numbers from 4\nThe gtools::permutations() function calculates the number of ways to choose and arrange r items from a set of n items. The formula is n! / (n-r)!.\n\n\nCode\nlibrary(gtools)\nall_num = 4\nchoose = 2\n\nres &lt;- permutations(n = all_num, r = choose, v = 1:all_num)\nres\n\n\n      [,1] [,2]\n [1,]    1    2\n [2,]    1    3\n [3,]    1    4\n [4,]    2    1\n [5,]    2    3\n [6,]    2    4\n [7,]    3    1\n [8,]    3    2\n [9,]    3    4\n[10,]    4    1\n[11,]    4    2\n[12,]    4    3\n\n\nThe number of permutations is 12.\n\n\nCode\nprint(nrow(res))\n\n\n[1] 12\n\n\nThis can be calculated manually using the formula 4! / (4-2)!.\n\n\nCode\nfactorial(4) / factorial(4 - 2)\n\n\n[1] 12",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#combinations-order-does-not-matter-choosing-2-numbers-from-4",
    "href": "intro/2 probability.html#combinations-order-does-not-matter-choosing-2-numbers-from-4",
    "title": "Probability",
    "section": "2.2 Combinations (order does not matter): choosing 2 numbers from 4",
    "text": "2.2 Combinations (order does not matter): choosing 2 numbers from 4\nThe gtools::combinations() function calculates the number of ways to choose r items from a set of n items, where order does not matter. The formula is n! / ((n-r)! * r!).\n\n\nCode\nlibrary(gtools)\nall_num = 4\nchoose = 2\n\nres &lt;- combinations(n = all_num, r = choose, v = 1:all_num)\nres\n\n\n     [,1] [,2]\n[1,]    1    2\n[2,]    1    3\n[3,]    1    4\n[4,]    2    3\n[5,]    2    4\n[6,]    3    4\n\n\nThe number of combinations is 6.\n\n\nCode\nprint(nrow(res))\n\n\n[1] 6\n\n\nThis can be calculated manually using the formula 4! / ((4-2)! * 2!).\n\n\nCode\nfactorial(4) / (factorial(4 - 2) * factorial(2))\n\n\n[1] 6",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#solution-1-pat-least-one-p1-snoring-p2-snoring-p3-snoring-p4-snoring",
    "href": "intro/2 probability.html#solution-1-pat-least-one-p1-snoring-p2-snoring-p3-snoring-p4-snoring",
    "title": "Probability",
    "section": "3.1 Solution 1: P(at least one) = P(1 snoring) + P(2 snoring) + P(3 snoring) + P(4 snoring)",
    "text": "3.1 Solution 1: P(at least one) = P(1 snoring) + P(2 snoring) + P(3 snoring) + P(4 snoring)\nThis method calculates the probability of each case (1, 2, 3, or 4 people snoring) and adds them together.\n\n3.1.1 0 snoring\n\n\nCode\np0 = (0.8 * 0.8 * 0.8 * 0.8)\np0\n\n\n[1] 0.4096\n\n\n\n\n3.1.2 1 snoring\nThere are 4 possible ways for exactly one person to snore.\n\n\nCode\np1 = (0.2 * 0.8 * 0.8 * 0.8) * 4\np1\n\n\n[1] 0.4096\n\n\n\n\n3.1.3 2 snoring\nThere are C(4,2) = 6 ways for exactly two people to snore.\n\n\nCode\nfactorial(4) / (factorial(4 - 2) * factorial(2))\n\n\n[1] 6\n\n\n\n\nCode\np2 = (0.2 * 0.2 * 0.8 * 0.8) * 6\np2\n\n\n[1] 0.1536\n\n\n\n\n3.1.4 3 snoring\nThere are C(4,3) = 4 ways for exactly three people to snore.\n\n\nCode\nfactorial(4) / (factorial(4 - 3) * factorial(3))\n\n\n[1] 4\n\n\n\n\nCode\np3 = (0.2 * 0.2 * 0.2 * 0.8) * 4\np3\n\n\n[1] 0.0256\n\n\n\n\n3.1.5 4 snoring\n\n\nCode\np4 = (0.2 * 0.2 * 0.2 * 0.2)\np4\n\n\n[1] 0.0016\n\n\n\n\n3.1.6 Total probability of at least one person snoring:\n\n\nCode\nP_at_least_one = p1 + p2 + p3 + p4\nP_at_least_one\n\n\n[1] 0.5904",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#solution-2-pat-least-one-1---pno-one-snoring",
    "href": "intro/2 probability.html#solution-2-pat-least-one-1---pno-one-snoring",
    "title": "Probability",
    "section": "3.2 Solution 2: P(at least one) = 1 - P(no one snoring)",
    "text": "3.2 Solution 2: P(at least one) = 1 - P(no one snoring)\nThis is a more direct method. The complement of “at least one” is “none”.\n\n\nCode\nP_at_least_one2 = 1 - (0.8^4)\nP_at_least_one2\n\n\n[1] 0.5904",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-1-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-0-correct-all-wrong",
    "href": "intro/2 probability.html#question-1-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-0-correct-all-wrong",
    "title": "Probability",
    "section": "4.1 Question 1: What is the probability of choosing 4 numbers from 4 and getting 0 correct (all wrong)?",
    "text": "4.1 Question 1: What is the probability of choosing 4 numbers from 4 and getting 0 correct (all wrong)?\nThe total number of permutations is 4! = 24.\n\n\nCode\nfactorial(4)\n\n\n[1] 24\n\n\nThe number of derangements D(n) can be approximated by round(n!/e). For n=4, this is D(4) = 9.\n\n\nCode\ne = exp(1) # Use the built-in constant for e\nD_4 = round(factorial(4) / e)\nD_4\n\n\n[1] 9\n\n\nThe probability of a complete derangement is the number of derangements divided by the total number of permutations.\n\n\nCode\nQ1 = D_4 / factorial(4)\nQ1\n\n\n[1] 0.375",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-2-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-1-correct",
    "href": "intro/2 probability.html#question-2-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-1-correct",
    "title": "Probability",
    "section": "4.2 Question 2: What is the probability of choosing 4 numbers from 4 and getting exactly 1 correct?",
    "text": "4.2 Question 2: What is the probability of choosing 4 numbers from 4 and getting exactly 1 correct?\nFirst, choose 1 number to be correct (C(4,1) = 4 ways). Then, find the number of derangements for the remaining 3 numbers (D(3) = 2).\n\n\nCode\nD_3 = round(factorial(3) / e)\nD_3\n\n\n[1] 2\n\n\nThe total number of ways to get exactly 1 correct is C(4,1) * D(3) = 4 * 2 = 8.\n\n\nCode\nQ2 = (4 * D_3) / factorial(4)\nQ2\n\n\n[1] 0.3333333",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-3-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-2-correct",
    "href": "intro/2 probability.html#question-3-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-2-correct",
    "title": "Probability",
    "section": "4.3 Question 3: What is the probability of choosing 4 numbers from 4 and getting exactly 2 correct?",
    "text": "4.3 Question 3: What is the probability of choosing 4 numbers from 4 and getting exactly 2 correct?\nFirst, choose 2 numbers to be correct (C(4,2) = 6 ways). Then, find the number of derangements for the remaining 2 numbers (D(2) = 1).\n\n\nCode\nD_2 = round(factorial(2) / e)\nC_4_2 = factorial(4) / (factorial(2) * factorial(2))\nQ3 = (C_4_2 * D_2) / factorial(4)\nQ3\n\n\n[1] 0.25",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-4-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-3-correct",
    "href": "intro/2 probability.html#question-4-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-exactly-3-correct",
    "title": "Probability",
    "section": "4.4 Question 4: What is the probability of choosing 4 numbers from 4 and getting exactly 3 correct?",
    "text": "4.4 Question 4: What is the probability of choosing 4 numbers from 4 and getting exactly 3 correct?\nThis is impossible. If 3 numbers are in their correct positions, the 4th number must also be in its correct position. The number of derangements of 1 item is D(1) = 0.\n\n\nCode\nQ4 = 0\nQ4\n\n\n[1] 0",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#question-5-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-all-4-correct",
    "href": "intro/2 probability.html#question-5-what-is-the-probability-of-choosing-4-numbers-from-4-and-getting-all-4-correct",
    "title": "Probability",
    "section": "4.5 Question 5: What is the probability of choosing 4 numbers from 4 and getting all 4 correct?",
    "text": "4.5 Question 5: What is the probability of choosing 4 numbers from 4 and getting all 4 correct?\nThere is only one way for this to happen.\n\n\nCode\nQ5 = 1 / factorial(4)\nQ5\n\n\n[1] 0.04166667\n\n\nThe sum of all probabilities should be 1.\n\n\nCode\nQ1 + Q2 + Q3 + Q4 + Q5\n\n\n[1] 1",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#normal-distribution-gaussian-distribution",
    "href": "intro/2 probability.html#normal-distribution-gaussian-distribution",
    "title": "Probability",
    "section": "5.2 Normal Distribution (Gaussian Distribution)",
    "text": "5.2 Normal Distribution (Gaussian Distribution)\nA continuous probability distribution characterized by a bell-shaped curve. It is defined by its mean (μ) and standard deviation (σ).\n\n5.2.1 R Functions\n\ndnorm: Density function (PDF)\npnorm: Cumulative distribution function (CDF)\nqnorm: Quantile function (inverse CDF)\nrnorm: Random number generation\n\n\n\n5.2.2 Probability Density Function (PDF)\nCalculates the height of the probability density function at a given point.\n\n\nCode\ndnorm(0, mean = 1, sd = 2)\n\n\n[1] 0.1760327\n\n\n\n\n5.2.3 Cumulative Distribution Function (CDF)\nCalculates the area under the curve to the left of a given value (the probability of observing a value less than or equal to q).\nProbability of observing a value &lt;= 70 from a N(75, 5) distribution:\n\n\nCode\npnorm(q = 70, mean = 75, sd = 5)\n\n\n[1] 0.1586553\n\n\n\n\n5.2.4 Quantile Function\nFinds the value x such that P(X &lt;= x) = p. It is the inverse of the CDF.\nFind the 25th percentile (Q1) of a N(75, 5) distribution:\n\n\nCode\nqnorm(p = 0.25, mean = 75, sd = 5)\n\n\n[1] 71.62755\n\n\n\n\n5.2.5 Random Number Generation\nGenerate 1,000 random numbers from a N(75, 5) distribution and plot a histogram.\n\n\nCode\nnd = rnorm(n = 1000, mean = 75, sd = 5)\nhist(nd)\n\n\n\n\n\n\n\n\n\n\n\n5.2.6 Checking for Normality\nIt’s often important to check if a dataset follows a normal distribution.\n\n\nCode\nnd_data = rnorm(n = 1000, mean = 0, sd = 2)\nnon_nd_data = rpois(n = 1000, lambda = 5) # Poisson data is not normal\n\n\n\n5.2.6.1 Method 1: Histogram\nA bell-shaped histogram suggests normality.\n\n\nCode\npar(mfrow = c(1, 2))\nhist(nd_data, col = 'steelblue', main = 'Normal')\nhist(non_nd_data, col = 'darkred', main = 'Non-normal')\n\n\n\n\n\n\n\n\n\n\n\n5.2.6.2 Method 2: Q-Q Plot\nIf the data is normal, the points on a Q-Q plot will fall closely along the straight line.\n\n\nCode\npar(mfrow = c(1, 2))\nqqnorm(nd_data, main = 'Normal')\nqqline(nd_data)\nqqnorm(non_nd_data, main = 'Non-normal')\nqqline(non_nd_data)\n\n\n\n\n\n\n\n\n\n\n\n5.2.6.3 Method 3: Shapiro-Wilk Test\nA statistical test for normality. The null hypothesis (H0) is that the data is normally distributed.\nIf the p-value is &gt; 0.05, we do not reject the null hypothesis.\n\n\nCode\nshapiro.test(nd_data)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  nd_data\nW = 0.99654, p-value = 0.02645\n\n\nIf the p-value is &lt; 0.05, we reject the null hypothesis.\n\n\nCode\nshapiro.test(non_nd_data)\n\n\n\n    Shapiro-Wilk normality test\n\ndata:  non_nd_data\nW = 0.96994, p-value = 1.592e-13",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "intro/2 probability.html#other-key-distributions",
    "href": "intro/2 probability.html#other-key-distributions",
    "title": "Probability",
    "section": "5.3 Other Key Distributions",
    "text": "5.3 Other Key Distributions\n\nStudent’s t-distribution: Used for inference about the mean of a normally distributed population when the standard deviation is unknown.\nF-distribution: Used in ANOVA to compare the means of multiple groups.\nChi-square distribution: Used in goodness-of-fit tests and tests of independence.\nPoisson Distribution: Models the number of events occurring in a fixed interval of time or space.",
    "crumbs": [
      "Intro",
      "Probability"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-json-file-and-convert-to-a-data-frame",
    "href": "data manipulation/1 input ouput.html#read-json-file-and-convert-to-a-data-frame",
    "title": "Input & Output in R",
    "section": "1.5 Read JSON file and convert to a data frame",
    "text": "1.5 Read JSON file and convert to a data frame\nJSON (JavaScript Object Notation) is a common data format. The jsonlite package is used to parse JSON data in R. read_json typically imports the data as a list.\n\n\nCode\nlibrary(jsonlite)\ndata = read_json(\"./data/dataj.json\")\n\n\nThis list can then be converted into a data frame.\n\n\nCode\ndata002 = as.data.frame(data)\nglimpse(data002)\n\n\nRows: 1\nColumns: 11\n$ glossary.title                                                     &lt;chr&gt; \"ex…\n$ glossary.GlossDiv.title                                            &lt;chr&gt; \"S\"\n$ glossary.GlossDiv.GlossList.GlossEntry.ID                          &lt;chr&gt; \"SG…\n$ glossary.GlossDiv.GlossList.GlossEntry.SortAs                      &lt;chr&gt; \"SG…\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossTerm                   &lt;chr&gt; \"St…\n$ glossary.GlossDiv.GlossList.GlossEntry.Acronym                     &lt;chr&gt; \"SG…\n$ glossary.GlossDiv.GlossList.GlossEntry.Abbrev                      &lt;chr&gt; \"IS…\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossDef.para               &lt;chr&gt; \"A …\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossDef.GlossSeeAlso..GML. &lt;chr&gt; \"GM…\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossDef.GlossSeeAlso..XML. &lt;chr&gt; \"XM…\n$ glossary.GlossDiv.GlossList.GlossEntry.GlossSee                    &lt;chr&gt; \"ma…",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-data-from-images-ocr",
    "href": "data manipulation/1 input ouput.html#read-data-from-images-ocr",
    "title": "Input & Output in R",
    "section": "1.6 Read Data from Images (OCR)",
    "text": "1.6 Read Data from Images (OCR)\n\n\nCode\nlibrary(tesseract)\n# eng &lt;- tesseract(\"eng\")\n# text001 &lt;- tesseract::ocr(\"640.png\", engine = eng)\n# cat(text001)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-.docx-word-file",
    "href": "data manipulation/1 input ouput.html#read-.docx-word-file",
    "title": "Input & Output in R",
    "section": "1.6 Read .docx (Word) file",
    "text": "1.6 Read .docx (Word) file\n\n\nCode\nlibrary(officer)\n# docx = read_docx(\"data/example03.docx\")\n# docx_summary(docx)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-.txt-file",
    "href": "data manipulation/1 input ouput.html#read-.txt-file",
    "title": "Input & Output in R",
    "section": "1.9 Read .txt file",
    "text": "1.9 Read .txt file\nread.delim() is a general function for reading delimited text files. It is suitable for .txt files, assuming they have a consistent delimiter (like a tab or space).\n\n\nCode\nmy_data &lt;- read.delim(\"data/text.txt\")\nmy_data\n\n\n          a.b\n1   1241,rhth\n2 35235,rjyyj",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-.csv",
    "href": "data manipulation/1 input ouput.html#write-to-.csv",
    "title": "Input & Output in R",
    "section": "2.1 Write to .csv",
    "text": "2.1 Write to .csv\n\n\nCode\nwrite.csv(data001, 'data/data001_csv_output_data.csv')",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-excel",
    "href": "data manipulation/1 input ouput.html#write-to-excel",
    "title": "Input & Output in R",
    "section": "2.2. Write to Excel",
    "text": "2.2. Write to Excel\n\n\nCode\n# The `write.xlsx` function from openxlsx is very convenient\nwrite.xlsx(iris, \"data/iris_output.xlsx\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-parquet",
    "href": "data manipulation/1 input ouput.html#write-to-parquet",
    "title": "Input & Output in R",
    "section": "2.3. Write to Parquet",
    "text": "2.3. Write to Parquet\n\n\nCode\n# Use the arrow package for high-performance writing\nwrite_parquet(airquality, \"data/airquality_output.parquet\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-feather",
    "href": "data manipulation/1 input ouput.html#write-to-feather",
    "title": "Input & Output in R",
    "section": "2.4. Write to Feather",
    "text": "2.4. Write to Feather\n\n\nCode\n# Ideal for R-to-Python data exchange\nwrite_feather(diamonds, \"data/diamonds_output.feather\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-.txt",
    "href": "data manipulation/1 input ouput.html#write-to-.txt",
    "title": "Input & Output in R",
    "section": "2.5 Write to .txt",
    "text": "2.5 Write to .txt\n\n\nCode\ntext_df = tibble(text_col = c('hello world', 'its time!'))\nwrite_delim(text_df, \"data/text.txt\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-.rdata.rds",
    "href": "data manipulation/1 input ouput.html#write-to-.rdata.rds",
    "title": "Input & Output in R",
    "section": "2.6 Write to .RData/.Rds",
    "text": "2.6 Write to .RData/.Rds\n\n\nCode\nsaveRDS(mtcars, \"data/mtcars.rds\")\nsave(mtcars, iris, file = \"data/mtcars_and_iris.RData\")\nsave.image(file = \"data/my_work_space.RData\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-data-from-.rdata.rds",
    "href": "data manipulation/1 input ouput.html#read-data-from-.rdata.rds",
    "title": "Input & Output in R",
    "section": "1.7 Read data from .RData/.Rds",
    "text": "1.7 Read data from .RData/.Rds\n\n.Rds: Stores a single R object.\n.RData: Can store multiple R objects in a single file.\n\n\n1.7.1 Read a single object from .Rds\nUse the readRDS() function.\n\n\nCode\nmy_data &lt;- readRDS(\"mtcars.rds\")\n\n\n\n\n1.7.2 Read multiple objects from .RData\nUse the load() function, which loads the objects directly into your workspace.\n\n\nCode\nload(\"my_work_space.RData\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-json-file",
    "href": "data manipulation/1 input ouput.html#read-json-file",
    "title": "Input & Output in R",
    "section": "1.5 Read JSON file",
    "text": "1.5 Read JSON file\n\n\nCode\nlibrary(jsonlite)\n# data = read_json(\"./data/dataj.json\")\n# data002 = as.data.frame(data)\n# glimpse(data002)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-pdf-tables",
    "href": "data manipulation/1 input ouput.html#read-pdf-tables",
    "title": "Input & Output in R",
    "section": "1.7 Read PDF Tables",
    "text": "1.7 Read PDF Tables\n\n\nCode\nlibrary(tabulapdf)\n# out &lt;- extract_tables('data/60870-By-the-Numbers.pdf')\n# out[[1]]",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-from-a-database",
    "href": "data manipulation/1 input ouput.html#read-from-a-database",
    "title": "Input & Output in R",
    "section": "1.10 Read from a Database",
    "text": "1.10 Read from a Database\nThis example uses SQLite, a lightweight file-based database. The DBI package provides a common interface for database operations.\n\n\nCode\ninstall.packages(c(\"DBI\", \"RSQLite\"))\n\n\n\n\nCode\nlibrary(DBI)\nlibrary(RSQLite)\n\n# Create an in-memory SQLite database\ncon &lt;- dbConnect(RSQLite::SQLite(), \":memory:\")\n\n# Write the mtcars dataset to the database\ndbWriteTable(con, \"mtcars_table\", mtcars)\n\n# List tables in the database\ndbListTables(con)\n\n# Read the full table back into an R data frame\nmtcars_from_db &lt;- dbReadTable(con, \"mtcars_table\")\n\n# Disconnect from the database\ndbDisconnect(con)\n\nhead(mtcars_from_db)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-from-google-sheets",
    "href": "data manipulation/1 input ouput.html#read-from-google-sheets",
    "title": "Input & Output in R",
    "section": "1.11 Read from Google Sheets",
    "text": "1.11 Read from Google Sheets\nThe googlesheets4 package allows you to read directly from public or private Google Sheets.\n\n\nCode\n#install.packages(\"googlesheets4\")\n\n\n\n\nCode\nlibrary(googlesheets4)\n\n# Read a public sheet by its URL (no auth needed)\npublic_sheet_url &lt;- \"https://docs.google.com/spreadsheets/d/1U6fE8_B6_bX6hZ-Q2XgSf_9M2F5T_21_EIZ80B-1_c0/edit?usp=sharing\"\ndf_gsheet &lt;- read_sheet(public_sheet_url)\n\nhead(df_gsheet)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#read-fixed-width-files-fwf-for-exampletxt-file",
    "href": "data manipulation/1 input ouput.html#read-fixed-width-files-fwf-for-exampletxt-file",
    "title": "Input & Output in R",
    "section": "1.12 Read Fixed-Width Files (FWF) for example,txt file",
    "text": "1.12 Read Fixed-Width Files (FWF) for example,txt file\nreadr::read_fwf() is used for files where columns are defined by their character width, not by a delimiter.\n\n\nCode\n# Create a sample FWF file\nfwf_data &lt;- c(\n  \"ID  NAME      SCORE\",\n  \"1   Alice     95   \",\n  \"2   Bob       82   \",\n  \"3   Charlie   78   \"\n)\nwrite_lines(fwf_data, \"data/fwf_sample.txt\")\n\n# Read the FWF file by specifying column widths\ndf_fwf &lt;- read_fwf(\n  \"data/fwf_sample.txt\",\n  fwf_widths(c(4, 10, 5), col_names = c(\"ID\", \"NAME\", \"SCORE\")),\n  skip = 1 # Skip the header row\n)\n\nhead(df_fwf)\n\n\n# A tibble: 3 × 3\n     ID NAME    SCORE\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-a-database",
    "href": "data manipulation/1 input ouput.html#write-to-a-database",
    "title": "Input & Output in R",
    "section": "2.6. Write to a Database",
    "text": "2.6. Write to a Database\n\n\nCode\n# Establish a connection\ncon &lt;- dbConnect(RSQLite::SQLite(), \"data/my_output_database.sqlite\")\n\n# Write the iris dataset to a new table named 'iris_table'\n# `overwrite = TRUE` will replace the table if it already exists\ndbWriteTable(con, \"iris_table\", iris, overwrite = TRUE)\n\n# List tables to confirm it was created\nprint(dbListTables(con))\n\n\n[1] \"iris_table\"\n\n\nCode\n# Clean up\ndbDisconnect(con)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-google-sheets",
    "href": "data manipulation/1 input ouput.html#write-to-google-sheets",
    "title": "Input & Output in R",
    "section": "2.7 Write to Google Sheets",
    "text": "2.7 Write to Google Sheets\nYou can write a data frame to a new or existing Google Sheet. This requires authentication.\n\n\nCode\nlibrary(googlesheets4)\n\n# Create a data frame to write\nmy_data_to_write &lt;- data.frame(\n  Name = c(\"Ada Lovelace\", \"Grace Hopper\"),\n  Contribution = c(\"First algorithm\", \"COBOL\")\n)\n\n# Write the data to a new Google Sheet file named 'R-Sheet-Output'\nss &lt;- write_sheet(my_data_to_write, ss = \"R-Sheet-Output\", sheet = \"Sheet1\")\n\n# The returned object `ss` contains the URL of the new sheet\nprint(ss)",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html",
    "href": "data manipulation/2 data_structure.html",
    "title": "Data Structures in R",
    "section": "",
    "text": "This document provides a detailed overview of the fundamental data structures in R. Understanding these structures is essential for effective programming and data analysis in R. Each structure has its own strengths and is suited for different types of tasks.\nCode\nlibrary(tidyverse)",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#creating-vectors",
    "href": "data manipulation/2 data_structure.html#creating-vectors",
    "title": "Data Structures in R Explained",
    "section": "1.1 Creating Vectors",
    "text": "1.1 Creating Vectors\n\n1.1.1 Sequence Vector\nThe seq() function generates a sequence of numbers.\n\n\nCode\nseq(from = 2, to = 14, by = 2) \n\n\n[1]  2  4  6  8 10 12 14\n\n\n\n\n1.1.2 Replicated Vector\nThe rep() function repeats a value a specified number of times.\n\n\nCode\nrep(x = 1.5, times = 4)  \n\n\n[1] 1.5 1.5 1.5 1.5\n\n\n\n\n1.1.3 Random Vector\nThe sample() function takes a random sample from a set of elements. replace = FALSE means each element can only be chosen once.\n\n\nCode\nsample(1:10, 5, replace = FALSE) \n\n\n[1] 8 1 5 7 2\n\n\nWith replace = TRUE, elements can be chosen multiple times.\n\n\nCode\nsample(1:10, 5, replace = TRUE) \n\n\n[1] 8 3 5 3 7\n\n\nrunif() generates random numbers from a uniform distribution.\n\n\nCode\nrunif(1, min = 0, max = 1)\n\n\n[1] 0.9019074\n\n\nrnorm() generates random numbers from a normal distribution.\n\n\nCode\nsn1 &lt;- rnorm(4, mean = 0, sd = 1) # Standard normal distribution\nsn1\n\n\n[1] -1.607099  1.270270 -1.050640  1.429571\n\n\n\n\n1.1.4 Unique Vector\nThe unique() function removes duplicate elements from a vector.\n\n\nCode\nv1 = c(1, 1, 2, 2, 5, 6)\nv1\n\n\n[1] 1 1 2 2 5 6\n\n\n\n\nCode\nunique(v1)\n\n\n[1] 1 2 5 6",
    "crumbs": [
      "data manipulation",
      "Data Structures in R Explained"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#vector-operations",
    "href": "data manipulation/2 data_structure.html#vector-operations",
    "title": "Data Structures in R Explained",
    "section": "1.2 Vector Operations",
    "text": "1.2 Vector Operations\n\n1.2.1 Append Vector\nYou can combine vectors by using the c() function.\n\n\nCode\nx = c(1, 2, 3)\ny = c(4, 5, 6)\nz = c(x, y)\nz\n\n\n[1] 1 2 3 4 5 6\n\n\n\n\n1.2.2 Remove Elements from a Vector\nNegative indexing removes elements at the specified positions.\n\n\nCode\nx = c(1, 2, 3, 4, 5)\nx\n\n\n[1] 1 2 3 4 5\n\n\nRemove the first element:\n\n\nCode\nx[-1]\n\n\n[1] 2 3 4 5\n\n\nRemove the last element:\n\n\nCode\nx[-length(x)]\n\n\n[1] 1 2 3 4\n\n\nRemove elements based on a vector of indices:\n\n\nCode\nremove = c(2, 4)\nx[-remove]\n\n\n[1] 1 3 5\n\n\n\n\n1.2.3 Sort Vector\nsort() arranges vector elements in ascending or descending order.\n\n\nCode\na = c(2, 4, 6, 1, 4)\nsort(a)\n\n\n[1] 1 2 4 4 6\n\n\n\n\nCode\nsort(a, decreasing = TRUE)\n\n\n[1] 6 4 4 2 1\n\n\n\n\n1.2.4 Vector Length\nlength() returns the number of elements in a vector.\n\n\nCode\nlength(a)\n\n\n[1] 5\n\n\n\n\n1.2.5 Vector Calculation\nMathematical functions can be applied to entire vectors.\n\n\nCode\nx = c(1, 2, 3, 4, 5)\nsum(x)\n\n\n[1] 15\n\n\n\n\n1.2.6 Select Vector Elements\n\n\nCode\nx = c(1, 2, 3, 6, 9, 10)\n\n\nSelect the first element:\n\n\nCode\nx[1]\n\n\n[1] 1\n\n\nSelect the last element:\n\n\nCode\nx[length(x)]\n\n\n[1] 10\n\n\nSelect a range of elements:\n\n\nCode\nx[1:3]\n\n\n[1] 1 2 3\n\n\n\n\n1.2.7 Compare Two Vectors\nsetdiff(x, y) finds elements that are in vector x but not in vector y.\n\n\nCode\nxx = c(1, 2, 3, 4)\nyy = c(2, 4)\nsetdiff(xx, yy)\n\n\n[1] 1 3",
    "crumbs": [
      "data manipulation",
      "Data Structures in R Explained"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#converting-between-vector-types",
    "href": "data manipulation/2 data_structure.html#converting-between-vector-types",
    "title": "Data Structures in R Explained",
    "section": "1.3 Converting Between Vector Types",
    "text": "1.3 Converting Between Vector Types\nas.* functions are used to coerce vectors from one type to another.\n\n\nCode\nx &lt;- c(\"a\", \"g\", \"b\")\ny = as.factor(x)\ny\n\n\n[1] a g b\nLevels: a b g\n\n\n\n\nCode\nx &lt;- c('123', '44', '222')\ny = as.numeric(x)\ny\n\n\n[1] 123  44 222",
    "crumbs": [
      "data manipulation",
      "Data Structures in R Explained"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#data-frame-to-other-formats",
    "href": "data manipulation/2 data_structure.html#data-frame-to-other-formats",
    "title": "Data Structures in R Explained",
    "section": "2.1 Data Frame to Other Formats",
    "text": "2.1 Data Frame to Other Formats\n\n2.1.1 Data Frame to Matrix\nConverting a data frame to a matrix will coerce all elements to the most flexible data type (usually character).\n\n\nCode\nmat &lt;- as.matrix(df)\nmat\n\n\n     Name    Language Age \n[1,] \"Amiya\" \"R\"      \"22\"\n[2,] \"Raj\"   \"Python\" \"25\"\n[3,] \"Asish\" \"Java\"   \"45\"\n\n\n\n\n2.1.2 Data Frame to Vector\nYou can extract a single column as a vector using $ or [[ ]] notation.\n\n\nCode\nvec = df[['Name']]\nvec\n\n\n[1] \"Amiya\" \"Raj\"   \"Asish\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R Explained"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#accessing-list-elements",
    "href": "data manipulation/2 data_structure.html#accessing-list-elements",
    "title": "Data Structures in R Explained",
    "section": "4.1 Accessing List Elements",
    "text": "4.1 Accessing List Elements\nUse [[index]] or [[name]] to access the content of a single list element. Use $ as a shortcut for named elements.\nAccess the second element (a vector):\n\n\nCode\nempList[[2]]\n\n\n[1] \"Debi\"    \"Sandeep\" \"Subham\"  \"Shiba\"  \n\n\nAccess the element named “item3” (a data frame):\n\n\nCode\nempList[[\"Names\"]]\n\n\n[1] \"Debi\"    \"Sandeep\" \"Subham\"  \"Shiba\"  \n\n\nUse the $ operator for the same result:\n\n\nCode\nempList$Names\n\n\n[1] \"Debi\"    \"Sandeep\" \"Subham\"  \"Shiba\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R Explained"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#accessing-array-elements",
    "href": "data manipulation/2 data_structure.html#accessing-array-elements",
    "title": "Data Structures in R Explained",
    "section": "5.1 Accessing Array Elements",
    "text": "5.1 Accessing Array Elements\nElements are accessed using [row, column, dimension] notation.\nAccess the element in the 1st row, 2nd column of the 2nd dimension (layer):\n\n\nCode\nmy_array[1, 2, 2]\n\n\n[1] 7\n\n\nAccess the entire first matrix (1st layer):\n\n\nCode\nmy_array[, , 1]\n\n\n     [,1] [,2]\n[1,]    1    3\n[2,]    2    4",
    "crumbs": [
      "data manipulation",
      "Data Structures in R Explained"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#the-str-function",
    "href": "data manipulation/2 data_structure.html#the-str-function",
    "title": "Data Structures in R Explained",
    "section": "6.1 The str() Function",
    "text": "6.1 The str() Function\nThe str() (structure) function is one of the most useful diagnostic tools in R. It provides a compact, human-readable summary of any R object, showing its type, dimensions, and a preview of its content.\n\n\nCode\nstr(df)\n\n\n'data.frame':   3 obs. of  3 variables:\n $ Name    : chr  \"Amiya\" \"Raj\" \"Asish\"\n $ Language: chr  \"R\" \"Python\" \"Java\"\n $ Age     : num  22 25 45\n\n\n\n\nCode\nstr(empList)\n\n\nList of 3\n $ ID   : num [1:4] 1 2 3 4\n $ Names: chr [1:4] \"Debi\" \"Sandeep\" \"Subham\" \"Shiba\"\n $ Total: num 4",
    "crumbs": [
      "data manipulation",
      "Data Structures in R Explained"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#other-inspection-functions",
    "href": "data manipulation/2 data_structure.html#other-inspection-functions",
    "title": "Data Structures in R Explained",
    "section": "6.2 Other Inspection Functions",
    "text": "6.2 Other Inspection Functions\n\nclass(): Returns the high-level class of an object.\ntypeof(): Returns the internal storage type of an object.\nlength(): Returns the number of elements in a vector or list.\ndim(): Returns the dimensions (e.g., rows and columns) of a data frame, matrix, or array.\nnames() or colnames(): Returns the column names of a data frame, matrix, or list.\n\n\n\nCode\n# Create a sample data frame\ninspect_df &lt;- data.frame(\n  ID = 1:3,\n  Product = c(\"A\", \"B\", \"C\"),\n  Price = c(10.5, 20.0, 15.2)\n)\n\nclass(inspect_df)\n\n\n[1] \"data.frame\"\n\n\n\n\nCode\ndim(inspect_df)\n\n\n[1] 3 3\n\n\n\n\nCode\nnames(inspect_df)\n\n\n[1] \"ID\"      \"Product\" \"Price\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R Explained"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#select-columns",
    "href": "data manipulation/3 data manipulation with tidyverse.html#select-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "2.1 Select Columns",
    "text": "2.1 Select Columns\n\n2.1.1 Get Column Names\nThe names() function returns a character vector of the column names in a data frame.\n\n\nCode\nnames(small_mtcars)\n\n\n[1] \"car_name\" \"cyl\"      \"mpg\"      \"hp\"      \n\n\n\n\n2.1.2 Select by Name\nThe select() verb chooses columns by name.\n\n\nCode\nsmall_mtcars %&gt;% select(cyl, mpg, hp) \n\n\n  cyl  mpg  hp\n1   6 21.0 110\n2   6 21.0 110\n3   4 22.8  93\n4   6 21.4 110\n5   8 18.7 175\n6   6 18.1 105\n\n\n\n\n2.1.3 Select with Helpers\nselect() can be used with helper functions like contains() to choose columns based on patterns in their names.\n\n\nCode\nsmall_mtcars %&gt;% select(contains(\"p\")) \n\n\n   mpg  hp\n1 21.0 110\n2 21.0 110\n3 22.8  93\n4 21.4 110\n5 18.7 175\n6 18.1 105\n\n\n\n\n2.1.4 Select by Index\nYou can also select columns by their position.\n\n\nCode\nsmall_mtcars %&gt;% select(1, 2) \n\n\n           car_name cyl\n1         Mazda RX4   6\n2     Mazda RX4 Wag   6\n3        Datsun 710   4\n4    Hornet 4 Drive   6\n5 Hornet Sportabout   8\n6           Valiant   6\n\n\n\n\n2.1.5 Drop Columns\nUse the - sign to deselect or drop columns.\n\n\nCode\nsmall_mtcars %&gt;% select(-cyl)\n\n\n           car_name  mpg  hp\n1         Mazda RX4 21.0 110\n2     Mazda RX4 Wag 21.0 110\n3        Datsun 710 22.8  93\n4    Hornet 4 Drive 21.4 110\n5 Hornet Sportabout 18.7 175\n6           Valiant 18.1 105",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#rename-columns",
    "href": "data manipulation/3 data manipulation with tidyverse.html#rename-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "Rename Columns",
    "text": "Rename Columns\nThe rename() verb changes the name of a column.\n\n\nCode\nmtcars_df %&gt;% rename(new_cyl = cyl)\n\n\n# A tibble: 32 × 12\n   car_name    mpg new_cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4  21         6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX…  21         6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 7…  22.8       4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4…  21.4       6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet S…  18.7       8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant    18.1       6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 3…  14.3       8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D  24.4       4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230   22.8       4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280   19.2       6  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#create-columns",
    "href": "data manipulation/3 data manipulation with tidyverse.html#create-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "2.3 Create Columns",
    "text": "2.3 Create Columns\n\n2.3.1 Mutate\nmutate() adds new columns or transforms existing ones.\n\n\nCode\nsmall_mtcars %&gt;% mutate(new_cyl = cyl + 1)\n\n\n           car_name cyl  mpg  hp new_cyl\n1         Mazda RX4   6 21.0 110       7\n2     Mazda RX4 Wag   6 21.0 110       7\n3        Datsun 710   4 22.8  93       5\n4    Hornet 4 Drive   6 21.4 110       7\n5 Hornet Sportabout   8 18.7 175       9\n6           Valiant   6 18.1 105       7\n\n\n\n\n2.3.2 Conditional Creation with if_else\nif_else() is a vectorized conditional statement, useful inside mutate().\n\n\nCode\nsmall_mtcars %&gt;% mutate(new_cly_group = if_else(cyl &gt; 6, 'big', 'small'))\n\n\n           car_name cyl  mpg  hp new_cly_group\n1         Mazda RX4   6 21.0 110         small\n2     Mazda RX4 Wag   6 21.0 110         small\n3        Datsun 710   4 22.8  93         small\n4    Hornet 4 Drive   6 21.4 110         small\n5 Hornet Sportabout   8 18.7 175           big\n6           Valiant   6 18.1 105         small\n\n\n\n\n2.3.3 Conditional Creation with case_when\ncase_when() is useful for multiple conditions (like a multi-part if-else statement).\n\n\nCode\nsmall_mtcars %&gt;% mutate(cly_group = case_when(\n    cyl &gt; 6 ~ \"very big\",\n    cyl &gt; 4 ~ \"big\",\n    TRUE ~ \"other\"\n  ))\n\n\n           car_name cyl  mpg  hp cly_group\n1         Mazda RX4   6 21.0 110       big\n2     Mazda RX4 Wag   6 21.0 110       big\n3        Datsun 710   4 22.8  93     other\n4    Hornet 4 Drive   6 21.4 110       big\n5 Hornet Sportabout   8 18.7 175  very big\n6           Valiant   6 18.1 105       big\n\n\n\n\n2.3.4 Transmute\ntransmute() is like mutate(), but it drops all other columns, keeping only the newly created ones.\n\n\nCode\nsmall_mtcars %&gt;% transmute(new_cyl = cyl + 1)\n\n\n  new_cyl\n1       7\n2       7\n3       5\n4       7\n5       9\n6       7",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#handle-missing-data",
    "href": "data manipulation/3 data manipulation with tidyverse.html#handle-missing-data",
    "title": "Data Manipulation with tidyverse",
    "section": "2.5 Handle Missing Data",
    "text": "2.5 Handle Missing Data\nLet’s create a sample data frame with missing values (NA).\n\n\nCode\nmissing_df &lt;- data.frame(\n  x = c(1, 2, NA, 4),\n  y = c(\"a\", NA, \"c\", \"d\")\n)\n\n\n\n2.5.1 Find Missing Data\nis.na() returns a logical vector indicating which values are missing.\n\n\nCode\nis.na(missing_df)\n\n\n         x     y\n[1,] FALSE FALSE\n[2,] FALSE  TRUE\n[3,]  TRUE FALSE\n[4,] FALSE FALSE\n\n\n\n\n2.5.2 Filter Out Missing Data\nYou can use filter() with !is.na() to remove rows with missing values in a specific column.\n\n\nCode\nmissing_df %&gt;% filter(!is.na(y))\n\n\n   x y\n1  1 a\n2 NA c\n3  4 d\n\n\ntidyr::drop_na() removes rows with any missing values.\n\n\nCode\nmissing_df %&gt;% drop_na()\n\n\n  x y\n1 1 a\n2 4 d",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#group-and-summarize-data",
    "href": "data manipulation/3 data manipulation with tidyverse.html#group-and-summarize-data",
    "title": "Data Manipulation with tidyverse",
    "section": "2.6 Group and Summarize Data",
    "text": "2.6 Group and Summarize Data\ngroup_by() groups the data by one or more variables. summarise() then collapses each group into a single-row summary.\n\n2.6.1 Common Summary Functions\nCalculate the mean, min, max, and sum of mpg for each cylinder group.\n\n\nCode\nmtcars %&gt;% \n  group_by(cyl) %&gt;% \n  summarise(\n    avg_mpg = mean(mpg),\n    min_mpg = min(mpg),\n    max_mpg = max(mpg),\n    sum_mpg = sum(mpg)\n  )\n\n\n# A tibble: 3 × 5\n    cyl avg_mpg min_mpg max_mpg sum_mpg\n  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1     4    26.7    21.4    33.9    293.\n2     6    19.7    17.8    21.4    138.\n3     8    15.1    10.4    19.2    211.\n\n\n\n\n2.6.2 Count Records\nn() counts the total number of records in each group, while n_distinct() counts the number of unique values.\n\n\nCode\nmtcars %&gt;% \n  group_by(cyl) %&gt;% \n  summarise(\n    n_mpg = n(),\n    distinct_n_mpg = n_distinct(mpg)\n  )\n\n\n# A tibble: 3 × 3\n    cyl n_mpg distinct_n_mpg\n  &lt;dbl&gt; &lt;int&gt;          &lt;int&gt;\n1     4    11              9\n2     6     7              6\n3     8    14             12",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#window-functions",
    "href": "data manipulation/3 data manipulation with tidyverse.html#window-functions",
    "title": "Data Manipulation with tidyverse",
    "section": "Window Functions",
    "text": "Window Functions\nWindow functions are functions that operate on a “window” of data (e.g., within a group) but, unlike summarise(), they return a value for every row.\n\nRanking with row_number\nrow_number() assigns a unique rank to each row within a group.\n\n\nCode\nmtcars_df %&gt;% \n  group_by(cyl) %&gt;% \n  mutate(rank_in_cyl = row_number(desc(mpg))) %&gt;% \n  select(car_name, cyl, mpg, rank_in_cyl) %&gt;% \n  arrange(cyl, rank_in_cyl)\n\n\n# A tibble: 32 × 4\n# Groups:   cyl [3]\n   car_name         cyl   mpg rank_in_cyl\n   &lt;chr&gt;          &lt;dbl&gt; &lt;dbl&gt;       &lt;int&gt;\n 1 Toyota Corolla     4  33.9           1\n 2 Fiat 128           4  32.4           2\n 3 Honda Civic        4  30.4           3\n 4 Lotus Europa       4  30.4           4\n 5 Fiat X1-9          4  27.3           5\n 6 Porsche 914-2      4  26             6\n 7 Merc 240D          4  24.4           7\n 8 Datsun 710         4  22.8           8\n 9 Merc 230           4  22.8           9\n10 Toyota Corona      4  21.5          10\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#join-tables",
    "href": "data manipulation/3 data manipulation with tidyverse.html#join-tables",
    "title": "Data Manipulation with tidyverse",
    "section": "2.9 Join Tables",
    "text": "2.9 Join Tables\nFirst, let’s create two small data frames to demonstrate joins.\n\n\nCode\nleft_data = small_mtcars %&gt;% slice(1:3)\nright_data = small_mtcars %&gt;% slice(2:4)\n\n\n\n2.9.1 Inner Join\ninner_join() returns only the rows where the key exists in both tables.\n\n\nCode\nleft_data %&gt;% inner_join(right_data, by = \"car_name\")\n\n\n       car_name cyl.x mpg.x hp.x cyl.y mpg.y hp.y\n1 Mazda RX4 Wag     6  21.0  110     6  21.0  110\n2    Datsun 710     4  22.8   93     4  22.8   93\n\n\n\n\n2.9.2 Left Join\nleft_join() returns all rows from the left table, and matching rows from the right table.\n\n\nCode\nleft_data %&gt;% left_join(right_data, by = \"car_name\", suffix = c(\"_l\", \"_r\"))\n\n\n       car_name cyl_l mpg_l hp_l cyl_r mpg_r hp_r\n1     Mazda RX4     6  21.0  110    NA    NA   NA\n2 Mazda RX4 Wag     6  21.0  110     6  21.0  110\n3    Datsun 710     4  22.8   93     4  22.8   93\n\n\n\n\n2.9.3 Anti Join\nanti_join() returns all rows from the left table that do not have a match in the right table.\n\n\nCode\nleft_data %&gt;% anti_join(right_data, by = \"car_name\")\n\n\n   car_name cyl mpg  hp\n1 Mazda RX4   6  21 110",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#string-operations",
    "href": "data manipulation/3 data manipulation with tidyverse.html#string-operations",
    "title": "Data Manipulation with tidyverse",
    "section": "3.1 String Operations",
    "text": "3.1 String Operations\n\n\nCode\nx &lt;- \"I like horses.\"\nstr_length(x)\n\n\n[1] 14\n\n\n\n\nCode\nstr_to_upper(x)\n\n\n[1] \"I LIKE HORSES.\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#pattern-matching",
    "href": "data manipulation/3 data manipulation with tidyverse.html#pattern-matching",
    "title": "Data Manipulation with tidyverse",
    "section": "3.2 Pattern Matching",
    "text": "3.2 Pattern Matching\nstr_detect() checks for the presence of a pattern and returns a logical vector.\n\n\nCode\nword_list = c('abc', 'bbc', 'apple', 'bbaa', 'cc')\nword_list %&gt;% str_detect('a')\n\n\n[1]  TRUE FALSE  TRUE  TRUE FALSE\n\n\nstr_replace_all() replaces all matches of a pattern with a new string.\n\n\nCode\ntext001 = \"abcb\"\ntext001 %&gt;% str_replace_all('b', '1')\n\n\n[1] \"a1c1\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#splitting-strings",
    "href": "data manipulation/3 data manipulation with tidyverse.html#splitting-strings",
    "title": "Data Manipulation with tidyverse",
    "section": "3.3 Splitting Strings",
    "text": "3.3 Splitting Strings\ntidyr::separate() splits a column into multiple new columns based on a delimiter.\n\n\nCode\ndf_word &lt;- data.frame(word = c('a-b', '1-c', 'c-c'))\ndf_word %&gt;% separate(word, c('col1', 'col2'), '-')\n\n\n  col1 col2\n1    a    b\n2    1    c\n3    c    c",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#extracting-substrings",
    "href": "data manipulation/3 data manipulation with tidyverse.html#extracting-substrings",
    "title": "Data Manipulation with tidyverse",
    "section": "3.4 Extracting Substrings",
    "text": "3.4 Extracting Substrings\nstr_extract() pulls out the first match of a regular expression.\n\n\nCode\ntrx = 'abc1993 ccc'\ntrx %&gt;% str_extract(\"(\\\\d)+\")\n\n\n[1] \"1993\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#parsing-dates",
    "href": "data manipulation/3 data manipulation with tidyverse.html#parsing-dates",
    "title": "Data Manipulation with tidyverse",
    "section": "4.1 Parsing Dates",
    "text": "4.1 Parsing Dates\nlubridate provides helper functions like ymd() to parse strings into dates reliably.\n\n\nCode\ndate3 = ymd('2023-01-01')\nclass(date3)\n\n\n[1] \"Date\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#date-components",
    "href": "data manipulation/3 data manipulation with tidyverse.html#date-components",
    "title": "Data Manipulation with tidyverse",
    "section": "4.2 Date Components",
    "text": "4.2 Date Components\nEasily extract components like year, month, or day from a date object.\n\n\nCode\nnow_time = now()\nyear(now_time)\n\n\n[1] 2025\n\n\n\n\nCode\nmonth(now_time)\n\n\n[1] 6\n\n\n\n\nCode\nwday(now_time, label = TRUE)\n\n\n[1] Sat\nLevels: Sun &lt; Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#date-arithmetic",
    "href": "data manipulation/3 data manipulation with tidyverse.html#date-arithmetic",
    "title": "Data Manipulation with tidyverse",
    "section": "4.3 Date Arithmetic",
    "text": "4.3 Date Arithmetic\nPerform calculations with date objects.\n\n\nCode\nday1 = ymd('2022-01-01')\nday2 = ymd('2023-02-03')\n\n# Calculate the time difference\ninterval(day1, day2) %/% months(1)\n\n\n[1] 13",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-vector",
    "href": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-vector",
    "title": "Data Manipulation with tidyverse",
    "section": "dataframe to vector",
    "text": "dataframe to vector\n\n\nCode\ndata=small_mtcars$cyl\ndata\n\n\n[1] 6 6 4 6 8 6\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"numeric\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-matrix",
    "href": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-matrix",
    "title": "Data Manipulation with tidyverse",
    "section": "dataframe to matrix",
    "text": "dataframe to matrix\n\n\nCode\ndata=data.matrix(small_mtcars)\ndata\n\n\n     car_name cyl  mpg  hp\n[1,]        4   6 21.0 110\n[2,]        5   6 21.0 110\n[3,]        1   4 22.8  93\n[4,]        2   6 21.4 110\n[5,]        3   8 18.7 175\n[6,]        6   6 18.1 105\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"matrix\" \"array\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-list",
    "href": "data manipulation/3 data manipulation with tidyverse.html#dataframe-to-list",
    "title": "Data Manipulation with tidyverse",
    "section": "dataframe to list",
    "text": "dataframe to list\n\n\nCode\ndata=as.list(small_mtcars)\ndata\n\n\n$car_name\n[1] \"Mazda RX4\"         \"Mazda RX4 Wag\"     \"Datsun 710\"       \n[4] \"Hornet 4 Drive\"    \"Hornet Sportabout\" \"Valiant\"          \n\n$cyl\n[1] 6 6 4 6 8 6\n\n$mpg\n[1] 21.0 21.0 22.8 21.4 18.7 18.1\n\n$hp\n[1] 110 110  93 110 175 105\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"list\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html",
    "href": "data manipulation/6 SQL database.html",
    "title": "Working with SQL Databases in R",
    "section": "",
    "text": "This document explains how to connect to and interact with SQL databases from within R. We will cover writing raw SQL queries, using the tidyverse-friendly dbplyr package, and other best practices.",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#create-and-populate-a-database",
    "href": "data manipulation/6 SQL database.html#create-and-populate-a-database",
    "title": "Working with SQL Databases in R",
    "section": "Create and Populate a Database",
    "text": "Create and Populate a Database\nFirst, we connect to a database file (it will be created if it doesn’t exist). Then, we write the mtcars and iris R data frames into the database as new tables.\n\n\nCode\n# Add car names as a column in mtcars\nmtcars_df =cbind(car_name = rownames(mtcars), mtcars)\n\n# Create a connection to an SQLite database file\ncon &lt;- dbConnect(RSQLite::SQLite(), \"data/my_sql_database.db\")\n\n# Write the R data frames to the database\n# `overwrite = TRUE` will replace the table if it already exists\ndbWriteTable(con, \"mtcars\", mtcars_df, overwrite = TRUE)\ndbWriteTable(con, \"iris\", iris, overwrite = TRUE)\n\n\nWe can list the tables to confirm they were created.\n\n\nCode\ndbListTables(con)\n\n\n[1] \"car_parts\" \"iris\"      \"mtcars\"    \"part_info\"",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#select-statement",
    "href": "data manipulation/6 SQL database.html#select-statement",
    "title": "Working with SQL Databases in R",
    "section": "SELECT Statement",
    "text": "SELECT Statement\nSelect all columns from the mtcars table, limiting the result to the first 3 rows.\n\n\nCode\nsql_select &lt;- \"SELECT * FROM mtcars LIMIT 3\"\ndbGetQuery(con, sql_select)\n\n\n       car_name  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1     Mazda RX4 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3    Datsun 710 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#column-aliasing-and-creation",
    "href": "data manipulation/6 SQL database.html#column-aliasing-and-creation",
    "title": "Working with SQL Databases in R",
    "section": "Column Aliasing and Creation",
    "text": "Column Aliasing and Creation\nUse AS to rename a column in the output. You can also create new columns based on calculations.\n\n\nCode\nsql_create_col &lt;- \"SELECT mpg, mpg + 1 AS mpg_plus_one FROM mtcars\"\nhead(dbGetQuery(con, sql_create_col))\n\n\n   mpg mpg_plus_one\n1 21.0         22.0\n2 21.0         22.0\n3 22.8         23.8\n4 21.4         22.4\n5 18.7         19.7\n6 18.1         19.1",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#filtering-with-where",
    "href": "data manipulation/6 SQL database.html#filtering-with-where",
    "title": "Working with SQL Databases in R",
    "section": "Filtering with WHERE",
    "text": "Filtering with WHERE\nThe WHERE clause filters rows based on a condition.\n\n\nCode\nsql_filter &lt;- \"SELECT * FROM mtcars WHERE hp &gt; 200 AND cyl = 8\"\nhead(dbGetQuery(con, sql_filter))\n\n\n             car_name  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1          Duster 360 14.3   8  360 245 3.21 3.570 15.84  0  0    3    4\n2  Cadillac Fleetwood 10.4   8  472 205 2.93 5.250 17.98  0  0    3    4\n3 Lincoln Continental 10.4   8  460 215 3.00 5.424 17.82  0  0    3    4\n4   Chrysler Imperial 14.7   8  440 230 3.23 5.345 17.42  0  0    3    4\n5          Camaro Z28 13.3   8  350 245 3.73 3.840 15.41  0  0    3    4\n6      Ford Pantera L 15.8   8  351 264 4.22 3.170 14.50  0  1    5    4",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#aggregation-with-group-by",
    "href": "data manipulation/6 SQL database.html#aggregation-with-group-by",
    "title": "Working with SQL Databases in R",
    "section": "Aggregation with GROUP BY",
    "text": "Aggregation with GROUP BY\nGROUP BY collapses multiple rows into a single summary row. It’s used with aggregate functions like AVG(), COUNT(), MIN(), and MAX().\nThis query calculates the average horsepower and row count for each cylinder group.\n\n\nCode\nsql_groupby &lt;- \"SELECT cyl, AVG(hp) AS avg_hp, COUNT(*) AS num_cars FROM mtcars GROUP BY cyl\"\ndbGetQuery(con, sql_groupby)\n\n\n  cyl    avg_hp num_cars\n1   4  82.63636       11\n2   6 122.28571        7\n3   8 209.21429       14",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#sorting-with-order-by",
    "href": "data manipulation/6 SQL database.html#sorting-with-order-by",
    "title": "Working with SQL Databases in R",
    "section": "Sorting with ORDER BY",
    "text": "Sorting with ORDER BY\nORDER BY sorts the result set in ascending (ASC) or descending (DESC) order.\n\n\nCode\nsql_orderby &lt;- \"SELECT car_name, mpg, hp FROM mtcars ORDER BY hp DESC LIMIT 5\"\ndbGetQuery(con, sql_orderby)\n\n\n           car_name  mpg  hp\n1     Maserati Bora 15.0 335\n2    Ford Pantera L 15.8 264\n3        Duster 360 14.3 245\n4        Camaro Z28 13.3 245\n5 Chrysler Imperial 14.7 230",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#joins",
    "href": "data manipulation/6 SQL database.html#joins",
    "title": "Working with SQL Databases in R",
    "section": "Joins",
    "text": "Joins\nThis example creates two tables, car_parts and part_info, to demonstrate joins.\n\n\nCode\ndbWriteTable(con, \"car_parts\", data.frame(car_name = c(\"Mazda RX4\", \"Datsun 710\", \"Hornet 4 Drive\"), part_id = c(1, 2, 3)), overwrite = TRUE)\ndbWriteTable(con, \"part_info\", data.frame(part_id = c(1, 2, 4), part_name = c(\"Engine\", \"Tire\", \"Brake\")), overwrite = TRUE)\n\n\n\nINNER JOIN\nReturns only the rows where the join key (part_id) exists in both tables.\n\n\nCode\nsql_inner_join &lt;- \"\nSELECT cp.car_name, pi.part_name\nFROM car_parts cp\nINNER JOIN part_info pi ON cp.part_id = pi.part_id\"\ndbGetQuery(con, sql_inner_join)\n\n\n    car_name part_name\n1  Mazda RX4    Engine\n2 Datsun 710      Tire\n\n\n\n\nLEFT JOIN\nReturns all rows from the left table (car_parts) and the matched rows from the right table (part_info).\n\n\nCode\nsql_left_join &lt;- \"\nSELECT cp.car_name, pi.part_name\nFROM car_parts cp\nLEFT JOIN part_info pi ON cp.part_id = pi.part_id\"\ndbGetQuery(con, sql_left_join)\n\n\n        car_name part_name\n1      Mazda RX4    Engine\n2     Datsun 710      Tire\n3 Hornet 4 Drive      &lt;NA&gt;",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#string-and-date-functions",
    "href": "data manipulation/6 SQL database.html#string-and-date-functions",
    "title": "Working with SQL Databases in R",
    "section": "String and Date Functions",
    "text": "String and Date Functions\nSQL has functions for manipulating strings and dates. The exact syntax can vary by database. In SQLite, you can use UPPER() and strftime().\n\n\nCode\nsql_string_date &lt;- \"SELECT car_name, UPPER(car_name) AS upper_name, '2023-10-27' AS today from car_parts\"\nhead(dbGetQuery(con, sql_string_date))\n\n\n        car_name     upper_name      today\n1      Mazda RX4      MAZDA RX4 2023-10-27\n2     Datsun 710     DATSUN 710 2023-10-27\n3 Hornet 4 Drive HORNET 4 DRIVE 2023-10-27",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 SQL database.html#modifying-data",
    "href": "data manipulation/6 SQL database.html#modifying-data",
    "title": "Working with SQL Databases in R",
    "section": "Modifying Data",
    "text": "Modifying Data\n\nUPDATE Table\nUPDATE modifies existing records in a table.\n\n\nCode\n# Note: dbExecute is used for statements that don't return data\ndbExecute(con, \"UPDATE mtcars SET hp = 120 WHERE car_name = 'Mazda RX4'\")\n\n\n[1] 1\n\n\nCode\ndbGetQuery(con, \"SELECT car_name, hp FROM mtcars WHERE car_name = 'Mazda RX4'\")\n\n\n   car_name  hp\n1 Mazda RX4 120\n\n\n\n\nCREATE and DROP Table\nCREATE TABLE builds a new table, and DROP TABLE deletes it.\n\n\nCode\nsql_create &lt;- \"CREATE TABLE mtcars_copy AS SELECT * FROM mtcars\"\ndbExecute(con, sql_create)\n\n\n[1] 0\n\n\nCode\ndbListTables(con)\n\n\n[1] \"car_parts\"   \"iris\"        \"mtcars\"      \"mtcars_copy\" \"part_info\"  \n\n\n\n\nCode\nsql_drop &lt;- \"DROP TABLE mtcars_copy\"\ndbExecute(con, sql_drop)\n\n\n[1] 0\n\n\nCode\ndbListTables(con)\n\n\n[1] \"car_parts\" \"iris\"      \"mtcars\"    \"part_info\"",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#scatter-plot",
    "href": "Plot/1 ggplot2.html#scatter-plot",
    "title": "ggplot2 in R",
    "section": "Scatter Plot",
    "text": "Scatter Plot\nA scatter plot is one of the simplest and most common types of plots. It uses points to show the relationship between two continuous variables. We use geom_point() to create scatter plots.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill)) + geom_point()\np\n\n\n\n\n\n\n\n\n\n\nColor by Group\nWe can introduce a third variable to the plot by mapping it to an aesthetic. For example, we can color the points by the sex of the person who paid the bill.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) + geom_point()\np\n\n\n\n\n\n\n\n\n\n\n\nSize by Group\nSimilarly, we can map a variable to the size aesthetic to represent another dimension. Here, we size the points by the size of the party.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, colour = sex, size = size)) + geom_point()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#area-plot",
    "href": "Plot/1 ggplot2.html#area-plot",
    "title": "ggplot2 in R",
    "section": "Area Plot",
    "text": "Area Plot\nAn area plot is similar to a line plot, but the area under the line is filled in. This is useful for showing cumulative totals or magnitudes over time. We use geom_area().\n\n\nCode\np = ggplot(data002 |&gt; filter(continent == 'Asia'), aes(x = year, y = pop)) + geom_area(fill = 'blue', alpha = 0.2)\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#histogram",
    "href": "Plot/1 ggplot2.html#histogram",
    "title": "ggplot2 in R",
    "section": "Histogram",
    "text": "Histogram\nA histogram displays the distribution of a single continuous variable by dividing the data into bins and showing the frequency of observations in each bin. We use geom_histogram().\nLet’s look at the distribution of GDP per capita in Asia and Africa in 1997.\n\n\nCode\ndata002 = data001 %&gt;% filter(year == 1997, continent %in% c('Asia', 'Africa'))\n\n\n\n\nCode\nggplot(data002, aes(x = gdpPercap)) + \n  geom_histogram()\n\n\n\n\n\n\n\n\n\n\nColor by Group\nWe can compare the distributions of different groups by using the fill aesthetic and setting position = 'dodge' to place the bars side-by-side.\n\n\nCode\nggplot(data002, aes(x = gdpPercap, fill = continent)) + geom_histogram(position = 'dodge')",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#bar-chart",
    "href": "Plot/1 ggplot2.html#bar-chart",
    "title": "ggplot2 in R",
    "section": "Bar Chart",
    "text": "Bar Chart\nBar charts are used to display the relationship between a categorical variable and a continuous variable. geom_bar(stat=\"identity\") is used when you want the height of the bars to represent values in the data.\nLet’s look at the total population of each continent in 1997.\n\n\nCode\ndata002 = data001 %&gt;% filter(year == 1997) %&gt;% group_by(continent) %&gt;% summarise(pop = sum(pop), .groups = 'drop')\n\n\n\n\nCode\nggplot(data002, aes(x = continent, y = pop)) +\n  geom_bar(stat = \"identity\") + \n  scale_y_continuous(labels = scales::comma)\n\n\n\n\n\n\n\n\n\n\nShow Numbers on Bars\nYou can add text labels to the bars using geom_text().\n\n\nCode\nggplot(data002, aes(x = continent, y = pop)) +\n  geom_bar(stat = \"identity\") + \n  scale_y_continuous(labels = scales::comma) + \n  geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\n\n\nChange Bar Color\nThe fill argument within geom_bar() controls the color of the bars.\n\n\nCode\nggplot(data002, aes(x = continent, y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red') + \n  scale_y_continuous(labels = scales::comma) + \n  geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\n\n\nBar Plot Order\nYou can reorder the bars based on a variable using the reorder() function within the aes() mapping.\nOrder by population in ascending order:\n\n\nCode\nggplot(data002, aes(x = reorder(continent, pop), y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red') + \n  scale_y_continuous(labels = scales::comma) + \n  geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\nOrder by population in descending order:\n\n\nCode\nggplot(data002, aes(x = reorder(continent, -pop), y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red') + \n  scale_y_continuous(labels = scales::comma) + \n  geom_text(aes(label = pop), vjust = -0.2)\n\n\n\n\n\n\n\n\n\n\n\nHorizontal Barplot\ncoord_flip() swaps the x and y axes, creating a horizontal bar plot.\n\n\nCode\nggplot(data002, aes(x = reorder(continent, pop), y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red') + \n  scale_y_continuous(labels = scales::comma) + \n  geom_text(aes(label = pop), vjust = -0.2) + \n  coord_flip()\n\n\n\n\n\n\n\n\n\n\n\nAdjust Bar Transparency\nThe alpha aesthetic controls the transparency of the bars.\n\n\nCode\nggplot(data002, aes(x = reorder(continent, pop), y = pop)) +\n  geom_bar(stat = \"identity\", fill = 'red', alpha = 0.5) + \n  coord_flip()\n\n\n\n\n\n\n\n\n\n\n\nAdjust Bar Spacing to Axis\nscale_y_continuous(expand = ...) controls the space between the bars and the axis.\n\n\nCode\nggplot(data002, aes(x = reorder(continent, pop), y = pop)) +\n  geom_bar(stat = \"identity\", alpha = 0.5, fill = 'red') + \n  coord_flip() + \n  scale_y_continuous(expand = expansion(mult = c(0, .1)))\n\n\n\n\n\n\n\n\n\n\n\nHighlight One Bar\nYou can use ifelse() within the fill aesthetic and scale_fill_manual() to highlight a specific bar.\n\n\nCode\nggplot(data002, aes(x = reorder(continent, pop), y = pop, fill = factor(ifelse(continent == \"Asia\", \"Highlighted\", \"Normal\")))) +\n  geom_bar(stat = \"identity\", alpha = 0.8, show.legend = FALSE) + \n  scale_fill_manual(values = c(\"Highlighted\" = \"red\", \"Normal\" = \"grey50\")) + \n  coord_flip() + \n  scale_y_continuous(expand = expansion(mult = c(0, .1)))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#box-plot",
    "href": "Plot/1 ggplot2.html#box-plot",
    "title": "ggplot2 in R",
    "section": "Box Plot",
    "text": "Box Plot\nA box plot displays the distribution of a continuous variable across different categories. It shows the median, quartiles, and potential outliers. We use geom_boxplot().\n\n\nCode\np = ggplot(tips, aes(x = day, y = tip, fill = sex)) + geom_boxplot()\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#strip-plot-jittered-points",
    "href": "Plot/1 ggplot2.html#strip-plot-jittered-points",
    "title": "ggplot2 in R",
    "section": "Strip Plot (Jittered Points)",
    "text": "Strip Plot (Jittered Points)\nA strip plot shows the distribution of a continuous variable for different categories by plotting individual points. geom_jitter() adds a small amount of random noise to the points to prevent overplotting.\n\n\nCode\np = ggplot(tips, aes(x = day, y = tip)) + geom_jitter()\np\n\n\n\n\n\n\n\n\n\n\nColor by Group\n\n\nCode\np = ggplot(tips, aes(x = day, y = tip, color = sex)) + geom_jitter(position = position_jitterdodge())\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#titles-subtitles-and-captions",
    "href": "Plot/1 ggplot2.html#titles-subtitles-and-captions",
    "title": "ggplot2 in R",
    "section": "Titles, Subtitles, and Captions",
    "text": "Titles, Subtitles, and Captions\nYou can add a title, subtitle, and caption to your plot using ggtitle() and labs().\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) + \n  geom_point() + \n  ggtitle(\"Tip by Sex\")\np\n\n\n\n\n\n\n\n\n\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) + \n  geom_point() + \n  ggtitle(\"Tip by Sex\", subtitle = \"Subtitle of the plot\")\np\n\n\n\n\n\n\n\n\n\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) + \n  geom_point() + \n  ggtitle(\"Tip by Sex\") + \n  labs(caption = \"This is a footnote\")\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#adjust-plot-size-and-text",
    "href": "Plot/1 ggplot2.html#adjust-plot-size-and-text",
    "title": "ggplot2 in R",
    "section": "Adjust Plot Size and Text",
    "text": "Adjust Plot Size and Text\nThe theme() function allows you to customize almost every aspect of your plot’s appearance. plot.margin controls the margins around the plot, and text controls the font size.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) + \n  geom_point() + \n  ggtitle(\"Tip by Sex\") + \n  theme(plot.margin = margin(2, 2, 5, 5, \"cm\"))\np\n\n\n\n\n\n\n\n\n\nYou can also center the title and increase the overall text size.\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) + \n  geom_point() + \n  ggtitle(\"Tip by Sex\") + \n  labs(caption = \"This is a footnote\")\n\np + theme(plot.title = element_text(hjust = 0.5), text = element_text(size = 15))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#change-axis-labels",
    "href": "Plot/1 ggplot2.html#change-axis-labels",
    "title": "ggplot2 in R",
    "section": "Change Axis Labels",
    "text": "Change Axis Labels\nYou can change the axis labels using xlab() and ylab(), or for more control, scale_x_continuous() and scale_y_continuous().\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) + \n  geom_point() + \n  xlab(\"New X Name\") + \n  ylab(\"New Y Name\")\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#axis-limits-and-second-axis",
    "href": "Plot/1 ggplot2.html#axis-limits-and-second-axis",
    "title": "ggplot2 in R",
    "section": "Axis Limits and Second Axis",
    "text": "Axis Limits and Second Axis\n\nAxis Limits\nYou can set the limits of the x and y axes using xlim() and ylim().\n\n\nCode\np = ggplot(tips, aes(x = tip, y = total_bill, color = sex)) + \n  geom_point() + \n  scale_x_continuous(name = \"New X Name\") + \n  scale_y_continuous(name = \"New Y Name\")\np + xlim(min = 0, 20)\n\n\n\n\n\n\n\n\n\n\n\nAdding a Second Axis\nYou can add a secondary y-axis to your plot using sec_axis() within scale_y_continuous(). This is useful when you want to display two different variables with different scales on the same plot.\n\n\nCode\ndata002 = data001 %&gt;% \n  group_by(year, continent) %&gt;% \n  summarise(pop = sum(pop), lifeExp = mean(lifeExp), .groups = 'drop') %&gt;% \n  filter(continent == 'Asia')\n\n# We need a coefficient to scale the second variable to fit on the plot.\ncoeff = 1/40000000\n\np = ggplot(data002, aes(x = year, y = pop)) + \n  geom_col() + \n  geom_line(aes(y = lifeExp / coeff), size = 1, color = \"red\") + \n  scale_y_continuous(\"Population\", sec.axis = sec_axis(~. * coeff, name = \"Life Expectancy\"), labels = scales::comma)\np",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#applying-themes",
    "href": "Plot/1 ggplot2.html#applying-themes",
    "title": "ggplot2 in R",
    "section": "Applying Themes",
    "text": "Applying Themes\nggplot2 comes with several built-in themes, and packages like ggthemes provide many more, allowing you to quickly change the overall look of your plot.\n\n\nCode\np = ggplot(tips, aes(tip, total_bill, color = sex)) + \n  geom_point() + \n  scale_x_continuous(name = \"New X Name\") + \n  scale_y_continuous(name = \"New Y Name\")\np + theme_bw()\n\n\n\n\n\n\n\n\n\n\n\nCode\nlibrary(ggthemes)\np + theme_economist()",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#convert-ggplot-to-plotly",
    "href": "Plot/1 ggplot2.html#convert-ggplot-to-plotly",
    "title": "ggplot2 in R",
    "section": "Convert ggplot to Plotly",
    "text": "Convert ggplot to Plotly\nThe plotly package can convert static ggplot2 plots into interactive web-based plots.\n\n\nCode\np = ggplot(data = tips, aes(tip, total_bill, color = sex)) + \n  geom_point() + \n  scale_x_continuous(name = \"New X Name\") + \n  scale_y_continuous(name = \"New Y Name\")\n\npp = ggplotly(p)\npp",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#save-plot",
    "href": "Plot/1 ggplot2.html#save-plot",
    "title": "ggplot2 in R",
    "section": "Save Plot",
    "text": "Save Plot\nggsave() saves the last created ggplot2 plot to a file. You can specify the filename, format, and dimensions.\n\n\nCode\np + theme_economist()\n\n\n\n\n\n\n\n\n\nCode\nggsave(\"myplot.png\", width = 6, height = 4, units = \"in\", dpi = 300)",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#add-image-to-chart",
    "href": "Plot/1 ggplot2.html#add-image-to-chart",
    "title": "ggplot2 in R",
    "section": "Add Image to Chart",
    "text": "Add Image to Chart\nUse the magick package to read images and grid::grid.raster() to place them on a plot.\n\n\nCode\n# Add your company's logo to the graph you created\nlogo &lt;- image_read(\"images/logo1.png\")\n\np\ngrid::grid.raster(logo, x = 0.1, y = 0, just = c('left', 'bottom'), width = unit(0.4, 'inches'))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#animation-plot",
    "href": "Plot/1 ggplot2.html#animation-plot",
    "title": "ggplot2 in R",
    "section": "Animation Plot",
    "text": "Animation Plot\nThe gganimate package extends ggplot2 to create beautiful animations.\n\n\nCode\nlibrary(gganimate)\n\np = ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +\n  geom_point(alpha = 0.7, show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  scale_x_log10() +\n  labs(title = 'Year: {as.integer(frame_time)}', x = 'GDP per capita', y = 'life expectancy', colour = \"country\") +\n  transition_time(year) +\n  ease_aes('linear')\n\n# To render the animation, you would typically use `animate(p)` or `anim_save()`\nanimate(p)",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#maps-in-ggplot2",
    "href": "Plot/1 ggplot2.html#maps-in-ggplot2",
    "title": "ggplot2 in R",
    "section": "Maps in ggplot2",
    "text": "Maps in ggplot2\nggplot2 can plot spatial data using geom_sf(), often with data from the sf package.\n\n\nCode\nlibrary(sf)\n\n# data from https://geojson-maps.kyd.au/\ngeoj_data &lt;- read_sf(\"data/custom.geo.json\")\n\ngeoj_data_asia = geoj_data |&gt; filter(continent == \"Asia\")\n\nggplot() +\n  geom_sf(\n    data = geoj_data_asia,\n    aes(fill = income_grp),\n    linewidth = 0.2,\n    color = \"white\",\n    alpha = 1\n  )",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#line-width-and-color",
    "href": "Plot/2 plotly.html#line-width-and-color",
    "title": "Plotly in R",
    "section": "2.1 Line Width and Color",
    "text": "2.1 Line Width and Color\nYou can customize the appearance of the lines, such as their color and width, using the line argument within plot_ly().\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;%filter(continent=='Asia'), x = ~year, y = ~pop,mode = 'lines',line = list(color = 'rgb(205, 12, 24)', width = 8))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#horizontal-bar-plot",
    "href": "Plot/2 plotly.html#horizontal-bar-plot",
    "title": "Plotly in R",
    "section": "4.2 Horizontal Bar Plot",
    "text": "4.2 Horizontal Bar Plot\nTo create a horizontal bar chart, set the orientation argument to 'h'.\n\n\nCode\nfig &lt;- plot_ly(data=tips2,y = ~sex,x=~total_bill,color=~sex, type = \"bar\",orientation = 'h')\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#change-x-and-y-axis-labels",
    "href": "Plot/2 plotly.html#change-x-and-y-axis-labels",
    "title": "Plotly in R",
    "section": "8.3 Change X and Y Axis Labels",
    "text": "8.3 Change X and Y Axis Labels\nCustomize the labels for the x and y axes using layout(xaxis = list(title = 'New X Label'), yaxis = list(title = 'New Y Label')).\n\n\nCode\nfig &lt;- plot_ly(data=tips,x = ~total_bill,color=~sex, type = \"histogram\") %&gt;% layout(title = 'new title'\n                                                                                   ,xaxis = list(title = 'new x')\n                                                                                  ,yaxis = list(title = 'new y') \n                                                                                    )\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#change-x-and-y-axis-range",
    "href": "Plot/2 plotly.html#change-x-and-y-axis-range",
    "title": "Plotly in R",
    "section": "8.4 Change X and Y Axis Range",
    "text": "8.4 Change X and Y Axis Range\nYou can set specific ranges for the x and y axes using the range argument within xaxis and yaxis lists.\n\n\nCode\nfig &lt;- plot_ly(data=tips,x = ~total_bill,color=~sex, type = \"histogram\") %&gt;% layout(title = 'new title'\n                                                                                   ,xaxis = list(title = 'new x',range=c(20,40))\n                                                                                  ,yaxis = list(title = 'new y',range=c(20,40)) \n                                                                                    )\n\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#add-online-image",
    "href": "Plot/2 plotly.html#add-online-image",
    "title": "Plotly in R",
    "section": "9.1 Add Online Image",
    "text": "9.1 Add Online Image\nTo add an image from a URL, specify the source and its position using xref, yref, x, y, sizex, sizey, and xanchor.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop,color = ~continent,mode = 'lines') %&gt;% layout(\n    images = list(  \n      list(  \n        source =  \"https://raw.githubusercontent.com/cldougl/plot_images/add_r_img/vox.png\"\n        ,xref = \"paper\"\n        ,yref = \"paper\" \n        ,x = 0.1\n        ,y = 0.1\n        ,sizex = 0.1 \n        ,sizey = 0.1\n       ,xanchor=\"left\"  \n      )  \n    )\n    ) \n                                                                                           \nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#add-local-image",
    "href": "Plot/2 plotly.html#add-local-image",
    "title": "Plotly in R",
    "section": "9.2 Add Local Image",
    "text": "9.2 Add Local Image\nFor local images, you need to convert them to a base64 data URI using base64enc::dataURI(). You can also control the layer of the image (e.g., layer = \"below\" to place it behind the plot elements).\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop,color = ~continent,mode = 'lines') %&gt;% layout(\n    images = list(  \n      list(  \n        source = base64enc::dataURI(file = \"bee.png\")\n        ,xref = \"paper\"\n        ,yref = \"paper\" \n        ,x = 0.1\n        ,y = 0.1\n        ,sizex = 0.1 \n        ,sizey = 0.1\n       ,xanchor=\"left\"  \n       # image at the back\n         ,layer = \"below\"\n       \n      )  \n    )\n    ) \n                                                                                           \nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/6 shiny game tic tac toe.html",
    "href": "Publish/1 Shiny/6 shiny game tic tac toe.html",
    "title": "shiny game in browser:tic tac toe",
    "section": "",
    "text": "create shiny in quarto doc\n\n1 step 1 add quarto extension in project root folder\n#| eval: false\nquarto add quarto-ext/shinylive\n\n\n2 step 2 add in header\n---\n\nfilters:\n  - shinylive\n  \n---\n\n\n3 step 3 make shiny app\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\n\n\n\nlibrary(shiny)\n\n# UI\nui &lt;- fluidPage(\n    titlePanel(\"Tic-Tac-Toe\"),\n    sidebarLayout(\n        sidebarPanel(\n            actionButton(\"new_game\", \"New Game\"),\n            h4(\"Current Player:\"),\n            textOutput(\"current_player\")\n        ),\n        mainPanel(\n            uiOutput(\"board\"),\n            h3(textOutput(\"game_status\"))\n        )\n    )\n)\n\n# Server\nserver &lt;- function(input, output, session) {\n\n    # Game state\n    game &lt;- reactiveValues(\n        board = matrix(rep(\"\", 3), nrow = 3, ncol = 3),\n        current_player = \"X\",\n        game_over = FALSE,\n        winner = NULL\n    )\n\n    # Render the game board\n    output$board &lt;- renderUI({\n        fluidRow(\n            lapply(1:3, function(i) {\n                column(4,\n                    lapply(1:3, function(j) {\n                        actionButton(paste0(\"cell_\", i, \"_\", j), label = game$board[i, j], style = \"width:100px; height:100px; font-size: 40px;\")\n                    })\n                )\n            })\n        )\n    })\n\n    # Display current player\n    output$current_player &lt;- renderText({\n        game$current_player\n    })\n\n    # Handle cell clicks\n    observe({\n        lapply(1:3, function(i) {\n            lapply(1:3, function(j) {\n                observeEvent(input[[paste0(\"cell_\", i, \"_\", j)]], {\n                    if (game$board[i, j] == \"\" && !game$game_over) {\n                        game$board[i, j] &lt;- game$current_player\n                        check_winner()\n                        if (!game$game_over) {\n                            game$current_player &lt;- ifelse(game$current_player == \"X\", \"O\", \"X\")\n                        }\n                    }\n                })\n            })\n        })\n    })\n\n    # Check for a winner\n    check_winner &lt;- function() {\n        board &lt;- game$board\n        # Check rows\n        for (i in 1:3) {\n            if (all(board[i, ] == game$current_player) && board[i, 1] != \"\") {\n                game$winner &lt;- game$current_player\n                game$game_over &lt;- TRUE\n                return()\n            }\n        }\n        # Check columns\n        for (j in 1:3) {\n            if (all(board[, j] == game$current_player) && board[1, j] != \"\") {\n                game$winner &lt;- game$current_player\n                game$game_over &lt;- TRUE\n                return()\n            }\n        }\n        # Check diagonals\n        if (all(diag(board) == game$current_player) && board[1, 1] != \"\") {\n            game$winner &lt;- game$current_player\n            game$game_over &lt;- TRUE\n            return()\n        }\n        if (all(diag(board[ , 3:1]) == game$current_player) && board[1, 3] != \"\") {\n            game$winner &lt;- game$current_player\n            game$game_over &lt;- TRUE\n            return()\n        }\n        # Check for a tie\n        if (all(board != \"\")) {\n            game$winner &lt;- \"Tie\"\n            game$game_over &lt;- TRUE\n        }\n    }\n\n    # Display game status\n    output$game_status &lt;- renderText({\n        if (game$game_over) {\n            if (game$winner == \"Tie\") {\n                \"It's a tie!\"\n            } else {\n                paste(\"Player\", game$winner, \"wins!\")\n            }\n        }\n    })\n\n    # New game button\n    observeEvent(input$new_game, {\n        game$board &lt;- matrix(rep(\"\", 3), nrow = 3, ncol = 3)\n        game$current_player &lt;- \"X\"\n        game$game_over &lt;- FALSE\n        game$winner &lt;- NULL\n    })\n\n}\n\n# Run the application\nshinyApp(ui = ui, server = server)\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "shiny game in browser:tic tac toe"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/6 shiny game tic tac toe.html#step-1-add-quarto-extension-in-project-root-folder",
    "href": "Publish/1 Shiny/6 shiny game tic tac toe.html#step-1-add-quarto-extension-in-project-root-folder",
    "title": "Shiny in web web browser",
    "section": "",
    "text": "Code\nquarto add quarto-ext/shinylive",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/6 shiny game tic tac toe.html#step-2-add-in-header",
    "href": "Publish/1 Shiny/6 shiny game tic tac toe.html#step-2-add-in-header",
    "title": "Shiny in web web browser",
    "section": "",
    "text": "---\n\nfilters:\n  - shinylive\n  \n---",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/6 shiny game tic tac toe.html#step-3-make-shiny-app",
    "href": "Publish/1 Shiny/6 shiny game tic tac toe.html#step-3-make-shiny-app",
    "title": "Shiny in web web browser",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\nlibrary(shiny)\nlibrary(bslib)\n\nui &lt;- page_fluid(\n  h2(\"Simple Histogram App\"),\n  layout_sidebar(\n    sidebar = sidebar(\n      sliderInput(\"n\", \"Number of observations:\", min = 10, max = 100, value = 30)\n    ),\n    plotOutput(\"hist\")\n  )\n)\n\nserver &lt;- function(input, output) {\n  output$hist &lt;- renderPlot({\n    hist(rnorm(input$n), main = \"Random Normal Data\", col = \"skyblue\")\n  })\n}\n\nshinyApp(ui, server)",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in web web browser"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/7 shiny game connect four.html",
    "href": "Publish/1 Shiny/7 shiny game connect four.html",
    "title": "shiny game in browser:coneect four",
    "section": "",
    "text": "create a connect four game in shiny call connect_four_app.R\nmake adjustment for bottom 1-7 and make it on top of the grid\nmake the bottom circle as same as the grid\ndisplay the tokens and when win display winer is red or yellow\n\n1 step 1 add quarto extension in project root folder\n#| eval: false\nquarto add quarto-ext/shinylive\n\n\n2 step 2 add in header\n---\n\nfilters:\n  - shinylive\n  \n---\n\n\n3 step 3 make shiny app\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\n\n\n\nlibrary(shiny)\n\n# UI\nui &lt;- fluidPage(\n  titlePanel(\"Connect Four\"),\n  sidebarLayout(\n    sidebarPanel(\n      actionButton(\"reset\", \"New Game\"),\n      hr(),\n      uiOutput(\"game_status_ui\")\n    ),\n    mainPanel(\n      uiOutput(\"board\")\n    )\n  )\n)\n\n# Server\nserver &lt;- function(input, output, session) {\n\n  # Game state\n  game &lt;- reactiveValues(\n    board = matrix(0, 6, 7),\n    current_player = 1,\n    winner = 0 # 0: in progress, 1: player 1 wins, 2: player 2 wins, -1: draw\n  )\n\n  # Game Status UI (current player)\n  output$game_status_ui &lt;- renderUI({\n    if (game$winner == 0) {\n      player_color_name &lt;- if (game$current_player == 1) \"Red\" else \"Yellow\"\n      player_color_hex &lt;- if (game$current_player == 1) \"red\" else \"yellow\"\n      tagList(\n        h4(\"Current Turn:\"),\n        div(\n          style = paste0(\n            \"width: 30px; height: 30px; background-color: \", player_color_hex, \"; \",\n            \"border-radius: 50%; display: inline-block; vertical-align: middle; border: 1px solid black;\"\n          )\n        ),\n        tags$span(player_color_name, style = \"font-size: 18px; vertical-align: middle; margin-left: 10px;\")\n      )\n    }\n  })\n\n  # Create the game board UI\n  output$board &lt;- renderUI({\n    board_matrix &lt;- game$board\n\n    # Column buttons on top\n    col_buttons &lt;- fluidRow(\n      lapply(1:7, function(col) {\n        actionButton(\n          inputId = paste0(\"col_\", col),\n          label = as.character(col),\n          style = \"width: 50px; height: 50px; border-radius: 50%; margin: 2px;\"\n        )\n      })\n    )\n\n    # The grid of circles\n    board_html &lt;- lapply(1:6, function(row) {\n      fluidRow(\n        lapply(1:7, function(col) {\n          cell_value &lt;- board_matrix[row, col]\n          cell_color &lt;- if (cell_value == 1) \"red\" else if (cell_value == 2) \"yellow\" else \"lightgrey\"\n          div(\n            style = paste0(\n              \"display:inline-block; vertical-align:top; \",\n              \"width:50px; height:50px; background-color:\", cell_color, \"; \",\n              \"border: 1px solid black; border-radius: 50%; margin: 2px;\"\n            )\n          )\n        })\n      )\n    })\n\n    tagList(col_buttons, board_html)\n  })\n\n  # Handle column clicks\n  observe({\n    lapply(1:7, function(col) {\n      observeEvent(input[[paste0(\"col_\", col)]], {\n        # Proceed only if game is not over\n        if (game$winner == 0) {\n          # Find the lowest empty cell in the column\n          empty_cells &lt;- which(game$board[, col] == 0)\n          if (length(empty_cells) &gt; 0) {\n            row &lt;- max(empty_cells)\n            game$board[row, col] &lt;- game$current_player\n\n            # Check for winner\n            if (check_winner(game$board, game$current_player)) {\n              game$winner &lt;- game$current_player\n              winner_color &lt;- if (game$winner == 1) \"Red\" else \"Yellow\"\n              showModal(modalDialog(\n                title = \"Game Over\",\n                paste(winner_color, \"wins!\"),\n                easyClose = TRUE,\n                footer = NULL\n              ))\n            } else if (all(game$board != 0)) { # Check for a draw\n                game$winner &lt;- -1 # Using -1 to signify a draw\n                showModal(modalDialog(\n                    title = \"Game Over\",\n                    \"It's a draw!\",\n                    easyClose = TRUE,\n                    footer = NULL\n                ))\n            } else {\n              # Switch player\n              game$current_player &lt;- if (game$current_player == 1) 2 else 1\n            }\n          }\n        }\n      })\n    })\n  })\n\n  # Check for a winner\n  check_winner &lt;- function(board, player) {\n    # Check rows\n    for (r in 1:6) {\n      for (c in 1:4) {\n        if (all(board[r, c:(c + 3)] == player)) return(TRUE)\n      }\n    }\n\n    # Check columns\n    for (r in 1:3) {\n      for (c in 1:7) {\n        if (all(board[r:(r + 3), c] == player)) return(TRUE)\n      }\n    }\n\n    # Check diagonals (top-left to bottom-right)\n    for (r in 1:3) {\n      for (c in 1:4) {\n        if (all(diag(board[r:(r + 3), c:(c + 3)]) == player)) return(TRUE)\n      }\n    }\n\n    # Check diagonals (top-right to bottom-left)\n    for (r in 1:3) {\n      for (c in 4:7) {\n        if (all(c(board[r, c], board[r + 1, c - 1], board[r + 2, c - 2], board[r + 3, c - 3]) == player)) {\n          return(TRUE)\n        }\n      }\n    }\n\n    return(FALSE)\n  }\n\n  # Reset the game\n  observeEvent(input$reset, {\n    game$board &lt;- matrix(0, 6, 7)\n    game$current_player &lt;- 1\n    game$winner &lt;- 0\n  })\n\n}\n\n# Run the app\nshinyApp(ui = ui, server = server)\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "shiny game in browser:coneect four"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/4 shiny in python.html",
    "href": "Publish/1 Shiny/4 shiny in python.html",
    "title": "Shiny in Python",
    "section": "",
    "text": "1 step 1 add quarto extension in project root folder\n#| eval: false\nquarto add quarto-ext/shinylive\n\n\n2 step 2 add in header\n---\n\nfilters:\n  - shinylive\n  \n---\n\n\n3 step 3 make shiny app\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\n#| components: [editor, viewer]\n\nfrom shiny import *\n\napp_ui = ui.page_fluid(\n    ui.input_slider(\"n\", \"N\", 0, 100, 40),\n    ui.output_text_verbatim(\"txt\"),\n)\n\ndef server(input, output, session):\n    @output\n    @render.text\n    def txt():\n        return f\"The value of n*2 is {input.n() * 2}\"\n\napp = App(app_ui, server)\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in Python"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/4 shiny in python.html#server",
    "href": "Publish/1 Shiny/4 shiny in python.html#server",
    "title": "Shiny in Python",
    "section": "2.1 server",
    "text": "2.1 server\n\n\nCode\noutput$output_plot &lt;- shiny::renderPlot({\n  palmerpenguins::penguins |&gt; \n    dplyr::filter(\n      species %in% input$select_species,\n      body_mass_g &gt;= input$slider_weight\n    ) |&gt; \n    ggplot(\n      aes(\n        x = bill_length_mm, \n        y = flipper_length_mm, \n        fill = species\n      )\n    ) +\n    geom_point(\n      shape = 21, \n      size = 6, \n      col = 'black'\n    ) +\n    labs(\n      x = 'Bill length (in mm)',\n      y = 'Flipper length (in mm)',\n      fill = 'Species',\n      title = 'Penguins from the Palmer Archipelago'\n    ) +\n    theme_minimal(\n      base_size = 20, \n      base_family = 'Source Sans Pro'\n    ) +\n    scale_fill_manual(\n      values = c(\n        Adelie = '#0072B2', \n        Gentoo = '#009E73',\n        Chinstrap = '#CC79A7'\n      ),\n    ) +\n    coord_cartesian(\n      xlim = c(30, 60), \n      ylim = c(170, 240)\n    )\n})",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in Python"
    ]
  },
  {
    "objectID": "Publish/1 Shiny/4 shiny in python.html#ui",
    "href": "Publish/1 Shiny/4 shiny in python.html#ui",
    "title": "Shiny in Python",
    "section": "2.2 ui",
    "text": "2.2 ui\n\n\nCode\nlayout_sidebar(\n  height = 600,\n  sidebar =  sidebar(\n    shiny::selectizeInput(\n      'select_species', \n      'Highlighted Species', \n      choices = c('Adelie', 'Chinstrap', 'Gentoo'),\n      selected = c('Adelie', 'Chinstrap', 'Gentoo'),\n      multiple = TRUE\n    ),\n    shiny::sliderInput(\n      'slider_weight',\n      'Minimum Weight (g)',\n      min = 1000,\n      max = 5000,\n      value = 3000\n    )\n  ),\n  shiny::plotOutput('output_plot')\n)",
    "crumbs": [
      "Publish",
      "1 Shiny",
      "Shiny in Python"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#text-files-csv-txt",
    "href": "data manipulation/1 input ouput.html#text-files-csv-txt",
    "title": "Input & Output in R",
    "section": "1.1. Text Files (CSV, TXT)",
    "text": "1.1. Text Files (CSV, TXT)\n\nReading CSV Files\nComma-Separated Values (CSV) are one of the most common formats for storing tabular data. The readr package (part of the tidyverse) provides the read_csv() function, which is fast and efficient.\n\n\nCode\n# Create a sample data frame to write to a CSV\nsample_df &lt;- tibble(\n  id = 1:5,\n  name = c(\"Alice\", \"Bob\", \"Charlie\", \"David\", \"Eve\"),\n  score = c(95, 82, 78, 91, 88)\n)\n\nwrite_csv(sample_df, \"data/sample_data.csv\")\n\n# Read the CSV file back into R\ndata_from_csv &lt;- read_csv(\"data/sample_data.csv\")\nhead(data_from_csv)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88\n\n\n\n\nReading Delimited Files\nFor text files that use delimiters other than commas (like tabs or semicolons), you can use read_delim().\n\n\nCode\n# Write a tab-delimited file\nwrite_delim(sample_df, \"data/sample_data.txt\", delim = \"\\t\")\n\n# Read the tab-delimited file\ndata_from_txt &lt;- read_delim(\"data/sample_data.txt\", delim = \"\\t\")\nhead(data_from_txt)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#excel-files-.xlsx",
    "href": "data manipulation/1 input ouput.html#excel-files-.xlsx",
    "title": "Input & Output in R",
    "section": "1.2. Excel Files (.xlsx)",
    "text": "1.2. Excel Files (.xlsx)\nThe readxl package is excellent for reading .xls and .xlsx files. The openxlsx package can be used for both reading and writing.\n\n\nCode\n# Write the sample data to an Excel file\nwrite.xlsx(sample_df, \"data/sample_data.xlsx\")\n\n# Read the data from the Excel file\ndata_from_excel &lt;- read_excel(\"data/sample_data.xlsx\")\nhead(data_from_excel)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#high-performance-formats-parquet-feather",
    "href": "data manipulation/1 input ouput.html#high-performance-formats-parquet-feather",
    "title": "Input & Output in R",
    "section": "1.3. High-Performance Formats (Parquet, Feather)",
    "text": "1.3. High-Performance Formats (Parquet, Feather)\nFor large datasets, text-based formats are inefficient. Binary formats like Parquet and Feather are much faster to read and write and take up less disk space.\n\nReading Parquet Files\nParquet is a columnar storage format optimized for big data processing. The arrow package provides the interface to work with Parquet files.\n\n\nCode\n# Write data to a Parquet file\nwrite_parquet(sample_df, \"data/sample_data.parquet\")\n\n# Read data from the Parquet file\ndata_from_parquet &lt;- read_parquet(\"data/sample_data.parquet\")\nhead(data_from_parquet)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88\n\n\n\n\nReading Feather Files\nFeather is a fast, lightweight binary format designed for sharing data between R and Python.\n\n\nCode\n# Write data to a Feather file\nwrite_feather(sample_df, \"data/sample_data.feather\")\n\n# Read data from the Feather file\ndata_from_feather &lt;- read_feather(\"data/sample_data.feather\")\nhead(data_from_feather)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#r-specific-formats-.rds-.rdata",
    "href": "data manipulation/1 input ouput.html#r-specific-formats-.rds-.rdata",
    "title": "Input & Output in R",
    "section": "1.4. R-Specific Formats (.Rds, .RData)",
    "text": "1.4. R-Specific Formats (.Rds, .RData)\nR has its own native formats for saving any R object.\n\n.Rds: Saves a single R object.\n.RData: Saves multiple R objects and can save the entire workspace.\n\n\nReading an .Rds File\n\n\nCode\n# Save a single object (our data frame)\nsaveRDS(sample_df, \"data/sample_df.rds\")\n\n# Read the object back\ndata_from_rds &lt;- readRDS(\"data/sample_df.rds\")\nhead(data_from_rds)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88\n\n\n\n\nLoading an .RData File\n\n\nCode\n# Save multiple objects to one file\nsave(sample_df, mtcars, file = \"data/multiple_objects.RData\")\n\n# Clear the objects from the environment to show they are loaded\nrm(sample_df, mtcars)\n\n# Load the objects back into the workspace\nload(\"data/multiple_objects.RData\")\n\n# Check that they exist again\nhead(sample_df)\n\n\n# A tibble: 5 × 3\n     id name    score\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;\n1     1 Alice      95\n2     2 Bob        82\n3     3 Charlie    78\n4     4 David      91\n5     5 Eve        88",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#reading-from-a-database",
    "href": "data manipulation/1 input ouput.html#reading-from-a-database",
    "title": "Input & Output in R",
    "section": "1.5. Reading from a Database",
    "text": "1.5. Reading from a Database\nConnecting to databases is covered in detail in a separate guide (6 SQL database.qmd), but here is a quick example using SQLite.\n\n\nCode\nlibrary(DBI)\nlibrary(RSQLite)\n\n# Create an in-memory SQLite database and write mtcars to it\ncon &lt;- dbConnect(RSQLite::SQLite(), \":memory:\")\ndbWriteTable(con, \"mtcars_table\", mtcars)\n\n# Read the full table back into an R data frame\nmtcars_from_db &lt;- dbReadTable(con, \"mtcars_table\")\ndbDisconnect(con)\n\nhead(mtcars_from_db)\n\n\n   mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\n4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\n5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\n6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-csv",
    "href": "data manipulation/1 input ouput.html#write-to-csv",
    "title": "Input & Output in R",
    "section": "2.1. Write to CSV",
    "text": "2.1. Write to CSV\n\n\nCode\n# The `write_csv` function from readr is a great choice\nwrite_csv(mtcars, \"data/mtcars_output.csv\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/1 input ouput.html#write-to-r-specific-formats",
    "href": "data manipulation/1 input ouput.html#write-to-r-specific-formats",
    "title": "Input & Output in R",
    "section": "2.5. Write to R-Specific Formats",
    "text": "2.5. Write to R-Specific Formats\n\n\nCode\n# Save a single model object\nmy_model &lt;- lm(mpg ~ hp, data = mtcars)\nsaveRDS(my_model, \"data/linear_model.rds\")\n\n# Save the entire current workspace\n# save.image(file = \"data/my_full_workspace.RData\")",
    "crumbs": [
      "data manipulation",
      "Input & Output in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure copy.html",
    "href": "data manipulation/2 data_structure copy.html",
    "title": "Data Structures in R",
    "section": "",
    "text": "This document provides a detailed overview of the fundamental data structures in R, with explanations and code examples.\nCode\nlibrary(tidyverse)",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure copy.html#creating-vectors",
    "href": "data manipulation/2 data_structure copy.html#creating-vectors",
    "title": "Data Structures in R",
    "section": "1.1 Creating Vectors",
    "text": "1.1 Creating Vectors\n\n1.1.1 Sequence Vector\nThe seq() function generates a sequence of numbers.\n\n\nCode\nseq(from = 2, to = 14, by = 2) \n\n\n[1]  2  4  6  8 10 12 14\n\n\n\n\n1.1.2 Replicated Vector\nThe rep() function repeats a value a specified number of times.\n\n\nCode\nrep(x = 1.5, times = 4)  \n\n\n[1] 1.5 1.5 1.5 1.5\n\n\n\n\n1.1.3 Random Vector\nThe sample() function takes a random sample from a set of elements. replace = FALSE means each element can only be chosen once.\n\n\nCode\nsample(1:10, 5, replace = FALSE) \n\n\n[1] 9 2 7 4 8\n\n\nWith replace = TRUE, elements can be chosen multiple times.\n\n\nCode\nsample(1:10, 5, replace = TRUE) \n\n\n[1] 5 6 9 9 7\n\n\nrunif() generates random numbers from a uniform distribution.\n\n\nCode\nrunif(1, min = 0, max = 1)\n\n\n[1] 0.6721013\n\n\nrnorm() generates random numbers from a normal distribution.\n\n\nCode\nsn1 &lt;- rnorm(4, mean = 0, sd = 1) # Standard normal distribution\nsn1\n\n\n[1] -0.9667081  0.3027156  0.7218398 -0.7725936\n\n\n\n\n1.1.4 Unique Vector\nThe unique() function removes duplicate elements from a vector.\n\n\nCode\nv1 = c(1, 1, 2, 2, 5, 6)\nv1\n\n\n[1] 1 1 2 2 5 6\n\n\n\n\nCode\nunique(v1)\n\n\n[1] 1 2 5 6",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure copy.html#vector-operations",
    "href": "data manipulation/2 data_structure copy.html#vector-operations",
    "title": "Data Structures in R",
    "section": "1.2 Vector Operations",
    "text": "1.2 Vector Operations\n\n1.2.1 Append Vector\nYou can combine vectors by using the c() function.\n\n\nCode\nx = c(1, 2, 3)\ny = c(4, 5, 6)\nz = c(x, y)\nz\n\n\n[1] 1 2 3 4 5 6\n\n\n\n\n1.2.2 Remove Elements from a Vector\nNegative indexing removes elements at the specified positions.\n\n\nCode\nx = c(1, 2, 3, 4, 5)\nx\n\n\n[1] 1 2 3 4 5\n\n\nRemove the first element:\n\n\nCode\nx[-1]\n\n\n[1] 2 3 4 5\n\n\nRemove the last element:\n\n\nCode\nx[-length(x)]\n\n\n[1] 1 2 3 4\n\n\nRemove elements based on a vector of indices:\n\n\nCode\nremove = c(2, 4)\nx[-remove]\n\n\n[1] 1 3 5\n\n\n\n\n1.2.3 Sort Vector\nsort() arranges vector elements in ascending or descending order.\n\n\nCode\na = c(2, 4, 6, 1, 4)\nsort(a)\n\n\n[1] 1 2 4 4 6\n\n\n\n\nCode\nsort(a, decreasing = TRUE)\n\n\n[1] 6 4 4 2 1\n\n\n\n\n1.2.4 Vector Length\nlength() returns the number of elements in a vector.\n\n\nCode\nlength(a)\n\n\n[1] 5\n\n\n\n\n1.2.5 Vector Calculation\nMathematical functions can be applied to entire vectors.\n\n\nCode\nx = c(1, 2, 3, 4, 5)\nsum(x)\n\n\n[1] 15\n\n\n\n\n1.2.6 Select Vector Elements\n\n\nCode\nx = c(1, 2, 3, 6, 9, 10)\n\n\nSelect the first element:\n\n\nCode\nx[1]\n\n\n[1] 1\n\n\nSelect the last element:\n\n\nCode\nx[length(x)]\n\n\n[1] 10\n\n\nSelect a range of elements:\n\n\nCode\nx[1:3]\n\n\n[1] 1 2 3\n\n\n\n\n1.2.7 Compare Two Vectors\nsetdiff(x, y) finds elements that are in vector x but not in vector y.\n\n\nCode\nxx = c(1, 2, 3, 4)\nyy = c(2, 4)\nsetdiff(xx, yy)\n\n\n[1] 1 3",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure copy.html#converting-between-vector-types",
    "href": "data manipulation/2 data_structure copy.html#converting-between-vector-types",
    "title": "Data Structures in R",
    "section": "1.3 Converting Between Vector Types",
    "text": "1.3 Converting Between Vector Types\nas.* functions are used to coerce vectors from one type to another.\n\n\nCode\nx &lt;- c(\"a\", \"g\", \"b\")\ny = as.factor(x)\ny\n\n\n[1] a g b\nLevels: a b g\n\n\n\n\nCode\nx &lt;- c('123', '44', '222')\ny = as.numeric(x)\ny\n\n\n[1] 123  44 222",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure copy.html#data-frame-to-other-formats",
    "href": "data manipulation/2 data_structure copy.html#data-frame-to-other-formats",
    "title": "Data Structures in R",
    "section": "2.1 Data Frame to Other Formats",
    "text": "2.1 Data Frame to Other Formats\n\n2.1.1 Data Frame to Matrix\nConverting a data frame to a matrix will coerce all elements to the most flexible data type (usually character).\n\n\nCode\nmat &lt;- as.matrix(df)\nmat\n\n\n     Name    Language Age \n[1,] \"Amiya\" \"R\"      \"22\"\n[2,] \"Raj\"   \"Python\" \"25\"\n[3,] \"Asish\" \"Java\"   \"45\"\n\n\n\n\n2.1.2 Data Frame to Vector\nYou can extract a single column as a vector using $ or [[ ]] notation.\n\n\nCode\nvec = df[['Name']]\nvec\n\n\n[1] \"Amiya\" \"Raj\"   \"Asish\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure copy.html#accessing-list-elements",
    "href": "data manipulation/2 data_structure copy.html#accessing-list-elements",
    "title": "Data Structures in R",
    "section": "4.1 Accessing List Elements",
    "text": "4.1 Accessing List Elements\nUse [[index]] or [[name]] to access the content of a single list element. Use $ as a shortcut for named elements.\nAccess the second element (a vector):\n\n\nCode\nempList[[2]]\n\n\n[1] \"Debi\"    \"Sandeep\" \"Subham\"  \"Shiba\"  \n\n\nAccess the element named “item3” (a data frame):\n\n\nCode\nempList[[\"Names\"]]\n\n\n[1] \"Debi\"    \"Sandeep\" \"Subham\"  \"Shiba\"  \n\n\nUse the $ operator for the same result:\n\n\nCode\nempList$Names\n\n\n[1] \"Debi\"    \"Sandeep\" \"Subham\"  \"Shiba\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure copy.html#accessing-array-elements",
    "href": "data manipulation/2 data_structure copy.html#accessing-array-elements",
    "title": "Data Structures in R",
    "section": "5.1 Accessing Array Elements",
    "text": "5.1 Accessing Array Elements\nElements are accessed using [row, column, dimension] notation.\nAccess the element in the 1st row, 2nd column of the 2nd dimension (layer):\n\n\nCode\nmy_array[1, 2, 2]\n\n\n[1] 7\n\n\nAccess the entire first matrix (1st layer):\n\n\nCode\nmy_array[, , 1]\n\n\n     [,1] [,2]\n[1,]    1    3\n[2,]    2    4",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure copy.html#the-str-function",
    "href": "data manipulation/2 data_structure copy.html#the-str-function",
    "title": "Data Structures in R",
    "section": "6.1 The str() Function",
    "text": "6.1 The str() Function\nThe str() (structure) function is one of the most useful diagnostic tools in R. It provides a compact, human-readable summary of any R object, showing its type, dimensions, and a preview of its content.\n\n\nCode\nstr(df)\n\n\n'data.frame':   3 obs. of  3 variables:\n $ Name    : chr  \"Amiya\" \"Raj\" \"Asish\"\n $ Language: chr  \"R\" \"Python\" \"Java\"\n $ Age     : num  22 25 45\n\n\n\n\nCode\nstr(empList)\n\n\nList of 3\n $ ID   : num [1:4] 1 2 3 4\n $ Names: chr [1:4] \"Debi\" \"Sandeep\" \"Subham\" \"Shiba\"\n $ Total: num 4",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure copy.html#other-inspection-functions",
    "href": "data manipulation/2 data_structure copy.html#other-inspection-functions",
    "title": "Data Structures in R",
    "section": "6.2 Other Inspection Functions",
    "text": "6.2 Other Inspection Functions\n\nclass(): Returns the high-level class of an object.\ntypeof(): Returns the internal storage type of an object.\nlength(): Returns the number of elements in a vector or list.\ndim(): Returns the dimensions (e.g., rows and columns) of a data frame, matrix, or array.\nnames() or colnames(): Returns the column names of a data frame, matrix, or list.\n\n\n\nCode\n# Create a sample data frame\ninspect_df &lt;- data.frame(\n  ID = 1:3,\n  Product = c(\"A\", \"B\", \"C\"),\n  Price = c(10.5, 20.0, 15.2)\n)\n\nclass(inspect_df)\n\n\n[1] \"data.frame\"\n\n\n\n\nCode\ndim(inspect_df)\n\n\n[1] 3 3\n\n\n\n\nCode\nnames(inspect_df)\n\n\n[1] \"ID\"      \"Product\" \"Price\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#creating-data-frames",
    "href": "data manipulation/2 data_structure.html#creating-data-frames",
    "title": "Data Structures in R",
    "section": "Creating Data Frames",
    "text": "Creating Data Frames\nUse the data.frame() function or, preferably, the tibble() function from the tidyverse. Tibbles are a modern take on data frames that are more user-friendly: they don’t change variable names or types, and they have a much nicer print method.\n\n\nCode\nmy_df &lt;- tibble(\n  id = 1:4,\n  name = c(\"Alice\", \"Bob\", \"Charlie\", \"David\"),\n  score = c(95, 82, 78, 91),\n  is_student = c(TRUE, FALSE, TRUE, FALSE)\n)\n\nmy_df\n\n\n# A tibble: 4 × 4\n     id name    score is_student\n  &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;lgl&gt;     \n1     1 Alice      95 TRUE      \n2     2 Bob        82 FALSE     \n3     3 Charlie    78 TRUE      \n4     4 David      91 FALSE",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#subsetting-data-frames",
    "href": "data manipulation/2 data_structure.html#subsetting-data-frames",
    "title": "Data Structures in R",
    "section": "Subsetting Data Frames",
    "text": "Subsetting Data Frames\nYou can subset data frames in several ways:\n\n$ or [[ ]] to select a single column by name. This returns the column as a vector.\n[row, column] to select specific rows and columns. The result is another data frame (or a vector if you select a single column).\n\n\n\nCode\n# Select the 'name' column (returns a vector)\nmy_df$name\n\n\n[1] \"Alice\"   \"Bob\"     \"Charlie\" \"David\"  \n\n\nCode\n# Select the first two rows and the 'name' and 'score' columns (returns a tibble)\nmy_df[1:2, c(\"name\", \"score\")]\n\n\n# A tibble: 2 × 2\n  name  score\n  &lt;chr&gt; &lt;dbl&gt;\n1 Alice    95\n2 Bob      82\n\n\nFor more complex subsetting, it is highly recommended to use the dplyr verbs filter() and select() (covered in a separate guide).",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#data-frame-to-matrix",
    "href": "data manipulation/2 data_structure.html#data-frame-to-matrix",
    "title": "Data Structures in R",
    "section": "Data Frame to Matrix",
    "text": "Data Frame to Matrix\nConverting a data frame to a matrix will coerce all elements to the most flexible data type (usually character).\n\n\nCode\nmat &lt;- as.matrix(my_df)\nmat\n\n\n     id  name      score is_student\n[1,] \"1\" \"Alice\"   \"95\"  \"TRUE\"    \n[2,] \"2\" \"Bob\"     \"82\"  \"FALSE\"   \n[3,] \"3\" \"Charlie\" \"78\"  \"TRUE\"    \n[4,] \"4\" \"David\"   \"91\"  \"FALSE\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#data-frame-to-vector",
    "href": "data manipulation/2 data_structure.html#data-frame-to-vector",
    "title": "Data Structures in R",
    "section": "Data Frame to Vector",
    "text": "Data Frame to Vector\nYou can extract a single column as a vector using $ or [[ ]] notation.\n\n\nCode\nvec = my_df[['name']]\nvec\n\n\n[1] \"Alice\"   \"Bob\"     \"Charlie\" \"David\"",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#creating-lists",
    "href": "data manipulation/2 data_structure.html#creating-lists",
    "title": "Data Structures in R",
    "section": "Creating Lists",
    "text": "Creating Lists\nUse the list() function. It’s good practice to name the list elements.\n\n\nCode\n# A list is often used to return multiple results from a function\nmy_model_output &lt;- list(\n  name = \"Linear Model\",\n  coefficients = c(intercept = 2.5, slope = 0.8),\n  r_squared = 0.85,\n  data = head(mtcars)\n)\n\nmy_model_output\n\n\n$name\n[1] \"Linear Model\"\n\n$coefficients\nintercept     slope \n      2.5       0.8 \n\n$r_squared\n[1] 0.85\n\n$data\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#subsetting-lists",
    "href": "data manipulation/2 data_structure.html#subsetting-lists",
    "title": "Data Structures in R",
    "section": "Subsetting Lists",
    "text": "Subsetting Lists\nSubsetting lists requires understanding the difference between [ and [[:\n\n[[index]] or [[name]] extracts a single element from the list. The result will have the type of that element.\n[index] or [name] extracts a sub-list. The result is always another list, even if you only select one element.\n\n\n\nCode\n# Extract the 'coefficients' vector (result is a numeric vector)\nmy_model_output[[\"coefficients\"]]\n\n\nintercept     slope \n      2.5       0.8 \n\n\nCode\n# Extract a sub-list containing only the 'coefficients' element (result is a list)\nmy_model_output[\"coefficients\"]\n\n\n$coefficients\nintercept     slope \n      2.5       0.8 \n\n\nCode\n# Use the $ operator as a convenient shortcut for [[name]]\nmy_model_output$r_squared\n\n\n[1] 0.85",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#creating-arrays",
    "href": "data manipulation/2 data_structure.html#creating-arrays",
    "title": "Data Structures in R",
    "section": "Creating Arrays",
    "text": "Creating Arrays\nUse the array() function, specifying the data and the dimensions.\n\n\nCode\n# Create a 3D array (2 rows, 3 columns, 2 layers)\nmy_array &lt;- array(\n  data = 1:12, \n  dim = c(2, 3, 2)\n)\n\nmy_array\n\n\n, , 1\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6\n\n, , 2\n\n     [,1] [,2] [,3]\n[1,]    7    9   11\n[2,]    8   10   12",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/2 data_structure.html#subsetting-arrays",
    "href": "data manipulation/2 data_structure.html#subsetting-arrays",
    "title": "Data Structures in R",
    "section": "Subsetting Arrays",
    "text": "Subsetting Arrays\nElements are accessed using [row, column, dimension] notation.\n\n\nCode\n# Element in the 1st row, 2nd column of the 2nd layer\nmy_array[1, 2, 2]\n\n\n[1] 9\n\n\nCode\n# The entire first matrix (1st layer)\nmy_array[, , 1]\n\n\n     [,1] [,2] [,3]\n[1,]    1    3    5\n[2,]    2    4    6",
    "crumbs": [
      "data manipulation",
      "Data Structures in R"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#load-packages-and-data",
    "href": "data manipulation/3 data manipulation with tidyverse.html#load-packages-and-data",
    "title": "Data Manipulation with tidyverse",
    "section": "Load Packages and Data",
    "text": "Load Packages and Data\nFirst, we load the tidyverse suite of packages.\n\n\nCode\nlibrary(tidyverse)\n\n\nWe will use the built-in mtcars dataset. For clarity, we convert the row names to a proper column called car_name.\n\n\nCode\ndata(mtcars)\n\nsmall_mtcars &lt;- mtcars %&gt;% \n  select(cyl, mpg, hp) %&gt;% \n  head()\n\nsmall_mtcars &lt;- rownames_to_column(small_mtcars, var = \"car_name\")\n\nmtcars_df &lt;- mtcars %&gt;% \n  rownames_to_column(var = \"car_name\") %&gt;% \n  as_tibble() # Convert to a tibble for better printing\n\nhead(mtcars_df)\n\n\n# A tibble: 6 × 12\n  car_name       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Mazda RX4     21       6   160   110  3.9   2.62  16.5     0     1     4     4\n2 Mazda RX4 W…  21       6   160   110  3.9   2.88  17.0     0     1     4     4\n3 Datsun 710    22.8     4   108    93  3.85  2.32  18.6     1     1     4     1\n4 Hornet 4 Dr…  21.4     6   258   110  3.08  3.22  19.4     1     0     3     1\n5 Hornet Spor…  18.7     8   360   175  3.15  3.44  17.0     0     0     3     2\n6 Valiant       18.1     6   225   105  2.76  3.46  20.2     1     0     3     1",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#core-dplyr-verbs",
    "href": "data manipulation/3 data manipulation with tidyverse.html#core-dplyr-verbs",
    "title": "Data Manipulation with tidyverse",
    "section": "Core dplyr Verbs",
    "text": "Core dplyr Verbs\n\nselect(): Pick columns by name\nselect() allows you to subset your data by choosing specific columns.\n\n\nCode\n# Select a few specific columns\nmtcars_df %&gt;% select(car_name, mpg, hp, cyl)\n\n\n# A tibble: 32 × 4\n   car_name            mpg    hp   cyl\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4          21     110     6\n 2 Mazda RX4 Wag      21     110     6\n 3 Datsun 710         22.8    93     4\n 4 Hornet 4 Drive     21.4   110     6\n 5 Hornet Sportabout  18.7   175     8\n 6 Valiant            18.1   105     6\n 7 Duster 360         14.3   245     8\n 8 Merc 240D          24.4    62     4\n 9 Merc 230           22.8    95     4\n10 Merc 280           19.2   123     6\n# ℹ 22 more rows\n\n\nUse helper functions like starts_with(), ends_with(), and contains() for powerful selections.\n\n\nCode\n# Select all columns that start with the letter \"d\"\nmtcars_df %&gt;% select(starts_with(\"d\"))\n\n\n# A tibble: 32 × 2\n    disp  drat\n   &lt;dbl&gt; &lt;dbl&gt;\n 1  160   3.9 \n 2  160   3.9 \n 3  108   3.85\n 4  258   3.08\n 5  360   3.15\n 6  225   2.76\n 7  360   3.21\n 8  147.  3.69\n 9  141.  3.92\n10  168.  3.92\n# ℹ 22 more rows\n\n\nUse the - sign to deselect or drop columns.\n\n\nCode\n# Select all columns except `vs` and `am`\nmtcars_df %&gt;% select(-vs, -am)\n\n\n# A tibble: 32 × 10\n   car_name            mpg   cyl  disp    hp  drat    wt  qsec  gear  carb\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4          21       6  160    110  3.9   2.62  16.5     4     4\n 2 Mazda RX4 Wag      21       6  160    110  3.9   2.88  17.0     4     4\n 3 Datsun 710         22.8     4  108     93  3.85  2.32  18.6     4     1\n 4 Hornet 4 Drive     21.4     6  258    110  3.08  3.22  19.4     3     1\n 5 Hornet Sportabout  18.7     8  360    175  3.15  3.44  17.0     3     2\n 6 Valiant            18.1     6  225    105  2.76  3.46  20.2     3     1\n 7 Duster 360         14.3     8  360    245  3.21  3.57  15.8     3     4\n 8 Merc 240D          24.4     4  147.    62  3.69  3.19  20       4     2\n 9 Merc 230           22.8     4  141.    95  3.92  3.15  22.9     4     2\n10 Merc 280           19.2     6  168.   123  3.92  3.44  18.3     4     4\n# ℹ 22 more rows\n\n\n\n\nfilter(): Pick rows by condition\nfilter() subsets rows based on logical conditions. Only rows where the condition is TRUE are kept.\n\n\nCode\n# Filter for cars with 8 cylinders\nmtcars_df %&gt;% filter(cyl == 8)\n\n\n# A tibble: 14 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 2 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 3 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3\n 4 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3\n 5 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 6 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 7 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 8 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n11 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n12 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     2\n13 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n14 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n\n\nCombine conditions with logical operators: - , or & for AND - | for OR - ! for NOT\n\n\nCode\n# Filter for 8-cylinder cars with more than 200 horsepower\nmtcars_df %&gt;% filter(cyl == 8 & hp &gt; 200)\n\n\n# A tibble: 7 × 12\n  car_name       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Duster 360    14.3     8   360   245  3.21  3.57  15.8     0     0     3     4\n2 Cadillac Fl…  10.4     8   472   205  2.93  5.25  18.0     0     0     3     4\n3 Lincoln Con…  10.4     8   460   215  3     5.42  17.8     0     0     3     4\n4 Chrysler Im…  14.7     8   440   230  3.23  5.34  17.4     0     0     3     4\n5 Camaro Z28    13.3     8   350   245  3.73  3.84  15.4     0     0     3     4\n6 Ford Panter…  15.8     8   351   264  4.22  3.17  14.5     0     1     5     4\n7 Maserati Bo…  15       8   301   335  3.54  3.57  14.6     0     1     5     8\n\n\nCode\n# Filter for cars that are either 8-cylinder OR have more than 300 horsepower\nmtcars_df %&gt;% filter(cyl == 8 | hp &gt; 300)\n\n\n# A tibble: 14 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 2 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 3 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3\n 4 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3\n 5 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 6 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 7 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 8 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n11 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n12 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     2\n13 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n14 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n\n\n\n\narrange(): Reorder rows\narrange() sorts the rows of a data frame by one or more columns.\n\n\nCode\n# Sort cars by miles per gallon (mpg) in ascending order (the default)\nmtcars_df %&gt;% arrange(mpg)\n\n\n# A tibble: 32 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 2 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 3 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n 4 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 5 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 6 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n 7 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 8 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n 9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n# ℹ 22 more rows\n\n\nUse desc() to sort in descending order.\n\n\nCode\n# Sort by cylinder count (desc) and then by mpg (desc) for tie-breaking\nmtcars_df %&gt;% arrange(desc(cyl), desc(mpg))\n\n\n# A tibble: 32 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     2\n 2 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 3 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3\n 4 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3\n 5 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n 6 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n 7 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 8 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n 9 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n10 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n# ℹ 22 more rows\n\n\n\n\nmutate(): Create new columns\nmutate() adds new columns or transforms existing ones, while keeping all existing columns.\n\n\nCode\n# Create a new column for horsepower-to-weight ratio\nmtcars_df %&gt;% mutate(hp_per_wt = hp / wt)\n\n\n# A tibble: 32 × 13\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 …  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 D…  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows\n# ℹ 1 more variable: hp_per_wt &lt;dbl&gt;\n\n\nUse case_when() for complex conditional logic, which is like a more powerful version of an if-else statement.\n\n\nCode\n# Create a column for cylinder category\nmtcars_df %&gt;% mutate(cyl_group = case_when(\n    cyl == 4 ~ \"Four-Cylinder\",\n    cyl == 6 ~ \"Six-Cylinder\",\n    cyl == 8 ~ \"Eight-Cylinder\",\n    TRUE ~ \"Other\" # Fallback for any other case\n  ))\n\n\n# A tibble: 32 × 13\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 …  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 D…  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows\n# ℹ 1 more variable: cyl_group &lt;chr&gt;\n\n\n\n\nsummarise() and group_by(): Collapse rows to a summary\nThis is one of the most powerful combinations in dplyr. group_by() groups the data by one or more variables. Subsequent operations are then performed on each group independently. summarise() then collapses each group into a single-row summary.\n\n\nCode\n# Calculate summary statistics for each cylinder group\nmtcars_df %&gt;% \n  group_by(cyl) %&gt;% \n  summarise(\n    avg_mpg = mean(mpg, na.rm = TRUE),\n    median_hp = median(hp, na.rm = TRUE),\n    min_wt = min(wt, na.rm = TRUE),\n    max_wt = max(wt, na.rm = TRUE),\n    car_count = n() # n() counts the number of rows in the group\n  )\n\n\n# A tibble: 3 × 6\n    cyl avg_mpg median_hp min_wt max_wt car_count\n  &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;int&gt;\n1     4    26.7       91    1.51   3.19        11\n2     6    19.7      110    2.62   3.46         7\n3     8    15.1      192.   3.17   5.42        14",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#joining-tables",
    "href": "data manipulation/3 data manipulation with tidyverse.html#joining-tables",
    "title": "Data Manipulation with tidyverse",
    "section": "Joining Tables",
    "text": "Joining Tables\ndplyr provides a family of join functions to combine data from different tables.\n\n\nCode\nband_members_df &lt;- tribble(\n  ~name,     ~band, \n  \"Mick\",    \"Stones\",\n  \"John\",    \"Beatles\",\n  \"Paul\",    \"Beatles\"\n)\n\nband_instruments_df &lt;- tribble(\n  ~name,     ~plays, \n  \"Mick\",    \"vocals\",\n  \"John\",    \"guitar\",\n  \"Keith\",   \"guitar\"\n)\n\n\n\ninner_join(): Returns only the rows where the key exists in both tables.\nleft_join(): Returns all rows from the left table, and matching rows from the right table.\nfull_join(): Returns all rows from both tables.\nanti_join(): Returns all rows from the left table that do not have a match in the right table.\n\n\n\nCode\n# Left join to keep all members and see who plays an instrument\nleft_join(band_members_df, band_instruments_df, by = \"name\")\n\n\n# A tibble: 3 × 3\n  name  band    plays \n  &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; \n1 Mick  Stones  vocals\n2 John  Beatles guitar\n3 Paul  Beatles &lt;NA&gt;  \n\n\nCode\n# Anti join to find which members are not in the instruments table\nanti_join(band_members_df, band_instruments_df, by = \"name\")\n\n\n# A tibble: 1 × 2\n  name  band   \n  &lt;chr&gt; &lt;chr&gt;  \n1 Paul  Beatles",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html",
    "href": "data manipulation/3 oldcopy.html",
    "title": "Data Manipulation with tidyverse",
    "section": "",
    "text": "The tidyverse is an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures.\ndplyr is a core tidyverse package that provides a consistent and intuitive grammar for data manipulation.",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#select-columns",
    "href": "data manipulation/3 oldcopy.html#select-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "2.1 Select Columns",
    "text": "2.1 Select Columns\n\n2.1.1 Get Column Names\nThe names() function returns a character vector of the column names in a data frame.\n\n\nCode\nnames(small_mtcars)\n\n\n[1] \"car_name\" \"cyl\"      \"mpg\"      \"hp\"      \n\n\n\n\n2.1.2 Select by Name\nThe select() verb chooses columns by name.\n\n\nCode\nsmall_mtcars %&gt;% select(cyl, mpg, hp) \n\n\n  cyl  mpg  hp\n1   6 21.0 110\n2   6 21.0 110\n3   4 22.8  93\n4   6 21.4 110\n5   8 18.7 175\n6   6 18.1 105\n\n\n\n\n2.1.3 Select with Helpers\nselect() can be used with helper functions like contains() to choose columns based on patterns in their names.\n\n\nCode\nsmall_mtcars %&gt;% select(contains(\"p\")) \n\n\n   mpg  hp\n1 21.0 110\n2 21.0 110\n3 22.8  93\n4 21.4 110\n5 18.7 175\n6 18.1 105\n\n\n\n\n2.1.4 Select by Index\nYou can also select columns by their position.\n\n\nCode\nsmall_mtcars %&gt;% select(1, 2) \n\n\n           car_name cyl\n1         Mazda RX4   6\n2     Mazda RX4 Wag   6\n3        Datsun 710   4\n4    Hornet 4 Drive   6\n5 Hornet Sportabout   8\n6           Valiant   6\n\n\n\n\n2.1.5 Drop Columns\nUse the - sign to deselect or drop columns.\n\n\nCode\nsmall_mtcars %&gt;% select(-cyl)\n\n\n           car_name  mpg  hp\n1         Mazda RX4 21.0 110\n2     Mazda RX4 Wag 21.0 110\n3        Datsun 710 22.8  93\n4    Hornet 4 Drive 21.4 110\n5 Hornet Sportabout 18.7 175\n6           Valiant 18.1 105",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#rename-columns",
    "href": "data manipulation/3 oldcopy.html#rename-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "2.2 Rename Columns",
    "text": "2.2 Rename Columns\nThe rename() verb changes the name of a column.\n\n\nCode\nsmall_mtcars %&gt;% rename(new_cyl = cyl)\n\n\n           car_name new_cyl  mpg  hp\n1         Mazda RX4       6 21.0 110\n2     Mazda RX4 Wag       6 21.0 110\n3        Datsun 710       4 22.8  93\n4    Hornet 4 Drive       6 21.4 110\n5 Hornet Sportabout       8 18.7 175\n6           Valiant       6 18.1 105",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#create-columns",
    "href": "data manipulation/3 oldcopy.html#create-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "2.3 Create Columns",
    "text": "2.3 Create Columns\n\n2.3.1 Mutate\nmutate() adds new columns or transforms existing ones.\n\n\nCode\nsmall_mtcars %&gt;% mutate(new_cyl = cyl + 1)\n\n\n           car_name cyl  mpg  hp new_cyl\n1         Mazda RX4   6 21.0 110       7\n2     Mazda RX4 Wag   6 21.0 110       7\n3        Datsun 710   4 22.8  93       5\n4    Hornet 4 Drive   6 21.4 110       7\n5 Hornet Sportabout   8 18.7 175       9\n6           Valiant   6 18.1 105       7\n\n\n\n\n2.3.2 Conditional Creation with if_else\nif_else() is a vectorized conditional statement, useful inside mutate().\n\n\nCode\nsmall_mtcars %&gt;% mutate(new_cly_group = if_else(cyl &gt; 6, 'big', 'small'))\n\n\n           car_name cyl  mpg  hp new_cly_group\n1         Mazda RX4   6 21.0 110         small\n2     Mazda RX4 Wag   6 21.0 110         small\n3        Datsun 710   4 22.8  93         small\n4    Hornet 4 Drive   6 21.4 110         small\n5 Hornet Sportabout   8 18.7 175           big\n6           Valiant   6 18.1 105         small\n\n\n\n\n2.3.3 Conditional Creation with case_when\ncase_when() is useful for multiple conditions (like a multi-part if-else statement).\n\n\nCode\nsmall_mtcars %&gt;% mutate(cly_group = case_when(\n    cyl &gt; 6 ~ \"very big\",\n    cyl &gt; 4 ~ \"big\",\n    TRUE ~ \"other\"\n  ))\n\n\n           car_name cyl  mpg  hp cly_group\n1         Mazda RX4   6 21.0 110       big\n2     Mazda RX4 Wag   6 21.0 110       big\n3        Datsun 710   4 22.8  93     other\n4    Hornet 4 Drive   6 21.4 110       big\n5 Hornet Sportabout   8 18.7 175  very big\n6           Valiant   6 18.1 105       big\n\n\n\n\n2.3.4 Transmute\ntransmute() is like mutate(), but it drops all other columns, keeping only the newly created ones.\n\n\nCode\nsmall_mtcars %&gt;% transmute(new_cyl = cyl + 1)\n\n\n  new_cyl\n1       7\n2       7\n3       5\n4       7\n5       9\n6       7",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#filter-rows",
    "href": "data manipulation/3 oldcopy.html#filter-rows",
    "title": "Data Manipulation with tidyverse",
    "section": "2.4 Filter Rows",
    "text": "2.4 Filter Rows\nfilter() subsets rows based on logical conditions.\n\n\nCode\nsmall_mtcars %&gt;% filter(cyl &gt; 5)\n\n\n           car_name cyl  mpg  hp\n1         Mazda RX4   6 21.0 110\n2     Mazda RX4 Wag   6 21.0 110\n3    Hornet 4 Drive   6 21.4 110\n4 Hornet Sportabout   8 18.7 175\n5           Valiant   6 18.1 105\n\n\n\n2.4.1 Filters with AND conditions\nSeparate conditions with a comma for an AND relationship.\n\n\nCode\nsmall_mtcars %&gt;% filter(cyl &gt; 5, mpg &gt; 20)\n\n\n        car_name cyl  mpg  hp\n1      Mazda RX4   6 21.0 110\n2  Mazda RX4 Wag   6 21.0 110\n3 Hornet 4 Drive   6 21.4 110\n\n\n\n\n2.4.2 Filters with OR conditions\nUse the | operator for an OR relationship.\n\n\nCode\nsmall_mtcars %&gt;% filter(cyl &gt; 5 | mpg &gt; 20)\n\n\n           car_name cyl  mpg  hp\n1         Mazda RX4   6 21.0 110\n2     Mazda RX4 Wag   6 21.0 110\n3        Datsun 710   4 22.8  93\n4    Hornet 4 Drive   6 21.4 110\n5 Hornet Sportabout   8 18.7 175\n6           Valiant   6 18.1 105\n\n\n\n\n2.4.3 Filter Rows by Index with slice\nslice() allows you to select rows by their position.\nSelect the 5th row:\n\n\nCode\nsmall_mtcars %&gt;% slice(5)\n\n\n           car_name cyl  mpg  hp\n1 Hornet Sportabout   8 18.7 175\n\n\nSelect a random sample of rows:\n\n\nCode\nsmall_mtcars %&gt;% sample_n(3)\n\n\n           car_name cyl  mpg  hp\n1 Hornet Sportabout   8 18.7 175\n2         Mazda RX4   6 21.0 110\n3        Datsun 710   4 22.8  93",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#handle-missing-data",
    "href": "data manipulation/3 oldcopy.html#handle-missing-data",
    "title": "Data Manipulation with tidyverse",
    "section": "2.5 Handle Missing Data",
    "text": "2.5 Handle Missing Data\nLet’s create a sample data frame with missing values (NA).\n\n\nCode\nmissing_df &lt;- data.frame(\n  x = c(1, 2, NA, 4),\n  y = c(\"a\", NA, \"c\", \"d\")\n)\n\n\n\n2.5.1 Find Missing Data\nis.na() returns a logical vector indicating which values are missing.\n\n\nCode\nis.na(missing_df)\n\n\n         x     y\n[1,] FALSE FALSE\n[2,] FALSE  TRUE\n[3,]  TRUE FALSE\n[4,] FALSE FALSE\n\n\n\n\n2.5.2 Filter Out Missing Data\nYou can use filter() with !is.na() to remove rows with missing values in a specific column.\n\n\nCode\nmissing_df %&gt;% filter(!is.na(y))\n\n\n   x y\n1  1 a\n2 NA c\n3  4 d\n\n\ntidyr::drop_na() removes rows with any missing values.\n\n\nCode\nmissing_df %&gt;% drop_na()\n\n\n  x y\n1 1 a\n2 4 d",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#group-and-summarize-data",
    "href": "data manipulation/3 oldcopy.html#group-and-summarize-data",
    "title": "Data Manipulation with tidyverse",
    "section": "2.6 Group and Summarize Data",
    "text": "2.6 Group and Summarize Data\ngroup_by() groups the data by one or more variables. summarise() then collapses each group into a single-row summary.\n\n2.6.1 Common Summary Functions\nCalculate the mean, min, max, and sum of mpg for each cylinder group.\n\n\nCode\nmtcars %&gt;% \n  group_by(cyl) %&gt;% \n  summarise(\n    avg_mpg = mean(mpg),\n    min_mpg = min(mpg),\n    max_mpg = max(mpg),\n    sum_mpg = sum(mpg)\n  )\n\n\n# A tibble: 3 × 5\n    cyl avg_mpg min_mpg max_mpg sum_mpg\n  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;\n1     4    26.7    21.4    33.9    293.\n2     6    19.7    17.8    21.4    138.\n3     8    15.1    10.4    19.2    211.\n\n\n\n\n2.6.2 Count Records\nn() counts the total number of records in each group, while n_distinct() counts the number of unique values.\n\n\nCode\nmtcars %&gt;% \n  group_by(cyl) %&gt;% \n  summarise(\n    n_mpg = n(),\n    distinct_n_mpg = n_distinct(mpg)\n  )\n\n\n# A tibble: 3 × 3\n    cyl n_mpg distinct_n_mpg\n  &lt;dbl&gt; &lt;int&gt;          &lt;int&gt;\n1     4    11              9\n2     6     7              6\n3     8    14             12",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#window-functions",
    "href": "data manipulation/3 oldcopy.html#window-functions",
    "title": "Data Manipulation with tidyverse",
    "section": "2.7 Window Functions",
    "text": "2.7 Window Functions\nWindow functions are functions that operate on a “window” of data (e.g., within a group) but, unlike summarise(), they return a value for every row.\n\n2.7.1 Ranking with row_number\nrow_number() assigns a unique rank to each row within a group.\n\n\nCode\nsmall_mtcars %&gt;% \n  group_by(cyl) %&gt;% \n  mutate(rank = row_number(desc(mpg))) %&gt;% \n  select(cyl, mpg, rank)\n\n\n# A tibble: 6 × 3\n# Groups:   cyl [3]\n    cyl   mpg  rank\n  &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;\n1     6  21       2\n2     6  21       3\n3     4  22.8     1\n4     6  21.4     1\n5     8  18.7     1\n6     6  18.1     4\n\n\n\n\n2.7.2 Accessing Previous/Next Values with lag and lead\nlag() and lead() are useful for comparing a value to its predecessor or successor.\n\n\nCode\nsmall_mtcars %&gt;% \n  select(cyl, mpg) %&gt;% \n  mutate(mpg_previous = lag(mpg, n = 1))\n\n\n  cyl  mpg mpg_previous\n1   6 21.0           NA\n2   6 21.0         21.0\n3   4 22.8         21.0\n4   6 21.4         22.8\n5   8 18.7         21.4\n6   6 18.1         18.7\n\n\n\n\n2.7.3 Cumulative Summaries\ncumsum() calculates the cumulative sum.\n\n\nCode\nsmall_mtcars %&gt;% \n  select(cyl, mpg) %&gt;% \n  mutate(mpg_running_total = cumsum(mpg))\n\n\n  cyl  mpg mpg_running_total\n1   6 21.0              21.0\n2   6 21.0              42.0\n3   4 22.8              64.8\n4   6 21.4              86.2\n5   8 18.7             104.9\n6   6 18.1             123.0",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#order-rows",
    "href": "data manipulation/3 oldcopy.html#order-rows",
    "title": "Data Manipulation with tidyverse",
    "section": "2.8 Order Rows",
    "text": "2.8 Order Rows\narrange() sorts the rows of a data frame by one or more columns.\n\n\nCode\nsmall_mtcars %&gt;% arrange(cyl) \n\n\n           car_name cyl  mpg  hp\n1        Datsun 710   4 22.8  93\n2         Mazda RX4   6 21.0 110\n3     Mazda RX4 Wag   6 21.0 110\n4    Hornet 4 Drive   6 21.4 110\n5           Valiant   6 18.1 105\n6 Hornet Sportabout   8 18.7 175\n\n\nSort in descending order using desc().\n\n\nCode\nsmall_mtcars %&gt;% arrange(desc(cyl))\n\n\n           car_name cyl  mpg  hp\n1 Hornet Sportabout   8 18.7 175\n2         Mazda RX4   6 21.0 110\n3     Mazda RX4 Wag   6 21.0 110\n4    Hornet 4 Drive   6 21.4 110\n5           Valiant   6 18.1 105\n6        Datsun 710   4 22.8  93",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#join-tables",
    "href": "data manipulation/3 oldcopy.html#join-tables",
    "title": "Data Manipulation with tidyverse",
    "section": "2.9 Join Tables",
    "text": "2.9 Join Tables\nFirst, let’s create two small data frames to demonstrate joins.\n\n\nCode\nleft_data = small_mtcars %&gt;% slice(1:3)\nright_data = small_mtcars %&gt;% slice(2:4)\n\n\n\n2.9.1 Inner Join\ninner_join() returns only the rows where the key exists in both tables.\n\n\nCode\nleft_data %&gt;% inner_join(right_data, by = \"car_name\")\n\n\n       car_name cyl.x mpg.x hp.x cyl.y mpg.y hp.y\n1 Mazda RX4 Wag     6  21.0  110     6  21.0  110\n2    Datsun 710     4  22.8   93     4  22.8   93\n\n\n\n\n2.9.2 Left Join\nleft_join() returns all rows from the left table, and matching rows from the right table.\n\n\nCode\nleft_data %&gt;% left_join(right_data, by = \"car_name\", suffix = c(\"_l\", \"_r\"))\n\n\n       car_name cyl_l mpg_l hp_l cyl_r mpg_r hp_r\n1     Mazda RX4     6  21.0  110    NA    NA   NA\n2 Mazda RX4 Wag     6  21.0  110     6  21.0  110\n3    Datsun 710     4  22.8   93     4  22.8   93\n\n\n\n\n2.9.3 Anti Join\nanti_join() returns all rows from the left table that do not have a match in the right table.\n\n\nCode\nleft_data %&gt;% anti_join(right_data, by = \"car_name\")\n\n\n   car_name cyl mpg  hp\n1 Mazda RX4   6  21 110",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#reshape-tables",
    "href": "data manipulation/3 oldcopy.html#reshape-tables",
    "title": "Data Manipulation with tidyverse",
    "section": "2.10 Reshape Tables",
    "text": "2.10 Reshape Tables\nReshaping data involves converting it between “wide” and “long” formats.\n\n\nCode\nolddata_wide &lt;- read.table(header = TRUE, text = '\n subject sex control cond1 cond2\n       1   M     7.9  12.3  10.7\n       2   F     6.3  10.6  11.1\n       3   F     9.5  13.1  13.8\n       4   M    11.5  13.4  12.9\n')\n\n\n\n2.10.1 Wide to Long with pivot_longer\npivot_longer() makes data “longer” by gathering multiple columns into key-value pairs.\n\n\nCode\ndata_long = olddata_wide %&gt;% \n  pivot_longer(!c(subject, sex), names_to = 'condition', values_to = 'measurement')\n\ndata_long\n\n\n# A tibble: 12 × 4\n   subject sex   condition measurement\n     &lt;int&gt; &lt;chr&gt; &lt;chr&gt;           &lt;dbl&gt;\n 1       1 M     control           7.9\n 2       1 M     cond1            12.3\n 3       1 M     cond2            10.7\n 4       2 F     control           6.3\n 5       2 F     cond1            10.6\n 6       2 F     cond2            11.1\n 7       3 F     control           9.5\n 8       3 F     cond1            13.1\n 9       3 F     cond2            13.8\n10       4 M     control          11.5\n11       4 M     cond1            13.4\n12       4 M     cond2            12.9\n\n\n\n\n2.10.2 Long to Wide with pivot_wider\npivot_wider() does the opposite, making data “wider” by spreading a key-value pair into multiple columns.\n\n\nCode\ndata_wide = data_long %&gt;% \n  pivot_wider(names_from = condition, values_from = measurement)\n\ndata_wide\n\n\n# A tibble: 4 × 5\n  subject sex   control cond1 cond2\n    &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1       1 M         7.9  12.3  10.7\n2       2 F         6.3  10.6  11.1\n3       3 F         9.5  13.1  13.8\n4       4 M        11.5  13.4  12.9",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#string-operations",
    "href": "data manipulation/3 oldcopy.html#string-operations",
    "title": "Data Manipulation with tidyverse",
    "section": "3.1 String Operations",
    "text": "3.1 String Operations\n\n\nCode\nx &lt;- \"I like horses.\"\nstr_length(x)\n\n\n[1] 14\n\n\n\n\nCode\nstr_to_upper(x)\n\n\n[1] \"I LIKE HORSES.\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#pattern-matching",
    "href": "data manipulation/3 oldcopy.html#pattern-matching",
    "title": "Data Manipulation with tidyverse",
    "section": "3.2 Pattern Matching",
    "text": "3.2 Pattern Matching\nstr_detect() checks for the presence of a pattern and returns a logical vector.\n\n\nCode\nword_list = c('abc', 'bbc', 'apple', 'bbaa', 'cc')\nword_list %&gt;% str_detect('a')\n\n\n[1]  TRUE FALSE  TRUE  TRUE FALSE\n\n\nstr_replace_all() replaces all matches of a pattern with a new string.\n\n\nCode\ntext001 = \"abcb\"\ntext001 %&gt;% str_replace_all('b', '1')\n\n\n[1] \"a1c1\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#splitting-strings",
    "href": "data manipulation/3 oldcopy.html#splitting-strings",
    "title": "Data Manipulation with tidyverse",
    "section": "3.3 Splitting Strings",
    "text": "3.3 Splitting Strings\ntidyr::separate() splits a column into multiple new columns based on a delimiter.\n\n\nCode\ndf_word &lt;- data.frame(word = c('a-b', '1-c', 'c-c'))\ndf_word %&gt;% separate(word, c('col1', 'col2'), '-')\n\n\n  col1 col2\n1    a    b\n2    1    c\n3    c    c",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#extracting-substrings",
    "href": "data manipulation/3 oldcopy.html#extracting-substrings",
    "title": "Data Manipulation with tidyverse",
    "section": "3.4 Extracting Substrings",
    "text": "3.4 Extracting Substrings\nstr_extract() pulls out the first match of a regular expression.\n\n\nCode\ntrx = 'abc1993 ccc'\ntrx %&gt;% str_extract(\"(\\\\d)+\")\n\n\n[1] \"1993\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#parsing-dates",
    "href": "data manipulation/3 oldcopy.html#parsing-dates",
    "title": "Data Manipulation with tidyverse",
    "section": "4.1 Parsing Dates",
    "text": "4.1 Parsing Dates\nlubridate provides helper functions like ymd() to parse strings into dates reliably.\n\n\nCode\ndate3 = ymd('2023-01-01')\nclass(date3)\n\n\n[1] \"Date\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#date-components",
    "href": "data manipulation/3 oldcopy.html#date-components",
    "title": "Data Manipulation with tidyverse",
    "section": "4.2 Date Components",
    "text": "4.2 Date Components\nEasily extract components like year, month, or day from a date object.\n\n\nCode\nnow_time = now()\nyear(now_time)\n\n\n[1] 2025\n\n\n\n\nCode\nmonth(now_time)\n\n\n[1] 7\n\n\n\n\nCode\nwday(now_time, label = TRUE)\n\n\n[1] Tue\nLevels: Sun &lt; Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#date-arithmetic",
    "href": "data manipulation/3 oldcopy.html#date-arithmetic",
    "title": "Data Manipulation with tidyverse",
    "section": "4.3 Date Arithmetic",
    "text": "4.3 Date Arithmetic\nPerform calculations with date objects.\n\n\nCode\nday1 = ymd('2022-01-01')\nday2 = ymd('2023-02-03')\n\n# Calculate the time difference\ninterval(day1, day2) %/% months(1)\n\n\n[1] 13",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#dataframe-to-vector",
    "href": "data manipulation/3 oldcopy.html#dataframe-to-vector",
    "title": "Data Manipulation with tidyverse",
    "section": "5.1 dataframe to vector",
    "text": "5.1 dataframe to vector\n\n\nCode\ndata=small_mtcars$cyl\ndata\n\n\n[1] 6 6 4 6 8 6\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"numeric\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#dataframe-to-matrix",
    "href": "data manipulation/3 oldcopy.html#dataframe-to-matrix",
    "title": "Data Manipulation with tidyverse",
    "section": "5.2 dataframe to matrix",
    "text": "5.2 dataframe to matrix\n\n\nCode\ndata=data.matrix(small_mtcars)\ndata\n\n\n     car_name cyl  mpg  hp\n[1,]        4   6 21.0 110\n[2,]        5   6 21.0 110\n[3,]        1   4 22.8  93\n[4,]        2   6 21.4 110\n[5,]        3   8 18.7 175\n[6,]        6   6 18.1 105\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"matrix\" \"array\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 oldcopy.html#dataframe-to-list",
    "href": "data manipulation/3 oldcopy.html#dataframe-to-list",
    "title": "Data Manipulation with tidyverse",
    "section": "5.3 dataframe to list",
    "text": "5.3 dataframe to list\n\n\nCode\ndata=as.list(small_mtcars)\ndata\n\n\n$car_name\n[1] \"Mazda RX4\"         \"Mazda RX4 Wag\"     \"Datsun 710\"       \n[4] \"Hornet 4 Drive\"    \"Hornet Sportabout\" \"Valiant\"          \n\n$cyl\n[1] 6 6 4 6 8 6\n\n$mpg\n[1] 21.0 21.0 22.8 21.4 18.7 18.1\n\n$hp\n[1] 110 110  93 110 175 105\n\n\n\n\nCode\nclass(data)\n\n\n[1] \"list\"",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#select-pick-columns-by-name",
    "href": "data manipulation/3 data manipulation with tidyverse.html#select-pick-columns-by-name",
    "title": "Data Manipulation with tidyverse",
    "section": "select(): Pick columns by name",
    "text": "select(): Pick columns by name\nselect() allows you to subset your data by choosing specific columns.\n\n\nCode\n# Select a few specific columns\nmtcars_df %&gt;% select(car_name, mpg, hp, cyl)\n\n\n# A tibble: 32 × 4\n   car_name            mpg    hp   cyl\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4          21     110     6\n 2 Mazda RX4 Wag      21     110     6\n 3 Datsun 710         22.8    93     4\n 4 Hornet 4 Drive     21.4   110     6\n 5 Hornet Sportabout  18.7   175     8\n 6 Valiant            18.1   105     6\n 7 Duster 360         14.3   245     8\n 8 Merc 240D          24.4    62     4\n 9 Merc 230           22.8    95     4\n10 Merc 280           19.2   123     6\n# ℹ 22 more rows\n\n\nUse helper functions like starts_with(), ends_with(), and contains() for powerful selections.\n\n\nCode\n# Select all columns that start with the letter \"d\"\nmtcars_df %&gt;% select(starts_with(\"d\"))\n\n\n# A tibble: 32 × 2\n    disp  drat\n   &lt;dbl&gt; &lt;dbl&gt;\n 1  160   3.9 \n 2  160   3.9 \n 3  108   3.85\n 4  258   3.08\n 5  360   3.15\n 6  225   2.76\n 7  360   3.21\n 8  147.  3.69\n 9  141.  3.92\n10  168.  3.92\n# ℹ 22 more rows\n\n\nUse the - sign to deselect or drop columns.\n\n\nCode\n# Select all columns except `vs` and `am`\nmtcars_df %&gt;% select(-vs, -am)\n\n\n# A tibble: 32 × 10\n   car_name            mpg   cyl  disp    hp  drat    wt  qsec  gear  carb\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4          21       6  160    110  3.9   2.62  16.5     4     4\n 2 Mazda RX4 Wag      21       6  160    110  3.9   2.88  17.0     4     4\n 3 Datsun 710         22.8     4  108     93  3.85  2.32  18.6     4     1\n 4 Hornet 4 Drive     21.4     6  258    110  3.08  3.22  19.4     3     1\n 5 Hornet Sportabout  18.7     8  360    175  3.15  3.44  17.0     3     2\n 6 Valiant            18.1     6  225    105  2.76  3.46  20.2     3     1\n 7 Duster 360         14.3     8  360    245  3.21  3.57  15.8     3     4\n 8 Merc 240D          24.4     4  147.    62  3.69  3.19  20       4     2\n 9 Merc 230           22.8     4  141.    95  3.92  3.15  22.9     4     2\n10 Merc 280           19.2     6  168.   123  3.92  3.44  18.3     4     4\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#select-by-index",
    "href": "data manipulation/3 data manipulation with tidyverse.html#select-by-index",
    "title": "Data Manipulation with tidyverse",
    "section": "Select by Index",
    "text": "Select by Index\nYou can also select columns by their position.\n\n\nCode\nmtcars_df %&gt;% select(1, 2) \n\n\n# A tibble: 32 × 2\n   car_name            mpg\n   &lt;chr&gt;             &lt;dbl&gt;\n 1 Mazda RX4          21  \n 2 Mazda RX4 Wag      21  \n 3 Datsun 710         22.8\n 4 Hornet 4 Drive     21.4\n 5 Hornet Sportabout  18.7\n 6 Valiant            18.1\n 7 Duster 360         14.3\n 8 Merc 240D          24.4\n 9 Merc 230           22.8\n10 Merc 280           19.2\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#drop-columns",
    "href": "data manipulation/3 data manipulation with tidyverse.html#drop-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "Drop Columns",
    "text": "Drop Columns\nUse the - sign to deselect or drop columns.\n\n\nCode\nmtcars_df %&gt;% select(-cyl)\n\n\n# A tibble: 32 × 11\n   car_name            mpg  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4          21    160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 Wag      21    160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710         22.8  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 Drive     21.4  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Sportabout  18.7  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant            18.1  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360         14.3  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D          24.4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230           22.8  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280           19.2  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#filter-pick-rows-by-condition",
    "href": "data manipulation/3 data manipulation with tidyverse.html#filter-pick-rows-by-condition",
    "title": "Data Manipulation with tidyverse",
    "section": "filter(): Pick rows by condition",
    "text": "filter(): Pick rows by condition\nfilter() subsets rows based on logical conditions. Only rows where the condition is TRUE are kept.\n\n\nCode\n# Filter for cars with 8 cylinders\nmtcars_df %&gt;% filter(cyl == 8)\n\n\n# A tibble: 14 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 2 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 3 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3\n 4 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3\n 5 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 6 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 7 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 8 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n11 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n12 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     2\n13 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n14 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n\n\nCombine conditions with logical operators: - , or & for AND - | for OR - ! for NOT\n\n\nCode\n# Filter for 8-cylinder cars with more than 200 horsepower\nmtcars_df %&gt;% filter(cyl == 8 & hp &gt; 200)\n\n\n# A tibble: 7 × 12\n  car_name       mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n  &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 Duster 360    14.3     8   360   245  3.21  3.57  15.8     0     0     3     4\n2 Cadillac Fl…  10.4     8   472   205  2.93  5.25  18.0     0     0     3     4\n3 Lincoln Con…  10.4     8   460   215  3     5.42  17.8     0     0     3     4\n4 Chrysler Im…  14.7     8   440   230  3.23  5.34  17.4     0     0     3     4\n5 Camaro Z28    13.3     8   350   245  3.73  3.84  15.4     0     0     3     4\n6 Ford Panter…  15.8     8   351   264  4.22  3.17  14.5     0     1     5     4\n7 Maserati Bo…  15       8   301   335  3.54  3.57  14.6     0     1     5     8\n\n\nCode\n# Filter for cars that are either 8-cylinder OR have more than 300 horsepower\nmtcars_df %&gt;% filter(cyl == 8 | hp &gt; 300)\n\n\n# A tibble: 14 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 2 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 3 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3\n 4 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3\n 5 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 6 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 7 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 8 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n11 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n12 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     2\n13 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n14 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#arrange-reorder-rows",
    "href": "data manipulation/3 data manipulation with tidyverse.html#arrange-reorder-rows",
    "title": "Data Manipulation with tidyverse",
    "section": "arrange(): Reorder rows",
    "text": "arrange(): Reorder rows\narrange() sorts the rows of a data frame by one or more columns.\n\n\nCode\n# Sort cars by miles per gallon (mpg) in ascending order (the default)\nmtcars_df %&gt;% arrange(mpg)\n\n\n# A tibble: 32 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Cadillac F…  10.4     8  472    205  2.93  5.25  18.0     0     0     3     4\n 2 Lincoln Co…  10.4     8  460    215  3     5.42  17.8     0     0     3     4\n 3 Camaro Z28   13.3     8  350    245  3.73  3.84  15.4     0     0     3     4\n 4 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 5 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n 6 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n 7 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 8 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n 9 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n10 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n# ℹ 22 more rows\n\n\nUse desc() to sort in descending order.\n\n\nCode\n# Sort by cylinder count (desc) and then by mpg (desc) for tie-breaking\nmtcars_df %&gt;% arrange(desc(cyl), desc(mpg))\n\n\n# A tibble: 32 × 12\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Pontiac Fi…  19.2     8  400    175  3.08  3.84  17.0     0     0     3     2\n 2 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 3 Merc 450SL   17.3     8  276.   180  3.07  3.73  17.6     0     0     3     3\n 4 Merc 450SE   16.4     8  276.   180  3.07  4.07  17.4     0     0     3     3\n 5 Ford Pante…  15.8     8  351    264  4.22  3.17  14.5     0     1     5     4\n 6 Dodge Chal…  15.5     8  318    150  2.76  3.52  16.9     0     0     3     2\n 7 Merc 450SLC  15.2     8  276.   180  3.07  3.78  18       0     0     3     3\n 8 AMC Javelin  15.2     8  304    150  3.15  3.44  17.3     0     0     3     2\n 9 Maserati B…  15       8  301    335  3.54  3.57  14.6     0     1     5     8\n10 Chrysler I…  14.7     8  440    230  3.23  5.34  17.4     0     0     3     4\n# ℹ 22 more rows",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#mutate-create-new-columns",
    "href": "data manipulation/3 data manipulation with tidyverse.html#mutate-create-new-columns",
    "title": "Data Manipulation with tidyverse",
    "section": "mutate(): Create new columns",
    "text": "mutate(): Create new columns\nmutate() adds new columns or transforms existing ones, while keeping all existing columns.\n\n\nCode\n# Create a new column for horsepower-to-weight ratio\nmtcars_df %&gt;% mutate(hp_per_wt = hp / wt)\n\n\n# A tibble: 32 × 13\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 …  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 D…  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows\n# ℹ 1 more variable: hp_per_wt &lt;dbl&gt;\n\n\nUse case_when() for complex conditional logic, which is like a more powerful version of an if-else statement.\n\n\nCode\n# Create a column for cylinder category\nmtcars_df %&gt;% mutate(cyl_group = case_when(\n    cyl == 4 ~ \"Four-Cylinder\",\n    cyl == 6 ~ \"Six-Cylinder\",\n    cyl == 8 ~ \"Eight-Cylinder\",\n    TRUE ~ \"Other\" # Fallback for any other case\n  ))\n\n\n# A tibble: 32 × 13\n   car_name      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb\n   &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1 Mazda RX4    21       6  160    110  3.9   2.62  16.5     0     1     4     4\n 2 Mazda RX4 …  21       6  160    110  3.9   2.88  17.0     0     1     4     4\n 3 Datsun 710   22.8     4  108     93  3.85  2.32  18.6     1     1     4     1\n 4 Hornet 4 D…  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1\n 5 Hornet Spo…  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2\n 6 Valiant      18.1     6  225    105  2.76  3.46  20.2     1     0     3     1\n 7 Duster 360   14.3     8  360    245  3.21  3.57  15.8     0     0     3     4\n 8 Merc 240D    24.4     4  147.    62  3.69  3.19  20       1     0     4     2\n 9 Merc 230     22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2\n10 Merc 280     19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4\n# ℹ 22 more rows\n# ℹ 1 more variable: cyl_group &lt;chr&gt;",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#summarise-and-group_by-collapse-rows-to-a-summary",
    "href": "data manipulation/3 data manipulation with tidyverse.html#summarise-and-group_by-collapse-rows-to-a-summary",
    "title": "Data Manipulation with tidyverse",
    "section": "summarise() and group_by(): Collapse rows to a summary",
    "text": "summarise() and group_by(): Collapse rows to a summary\nThis is one of the most powerful combinations in dplyr. group_by() groups the data by one or more variables. Subsequent operations are then performed on each group independently. summarise() then collapses each group into a single-row summary.\n\n\nCode\n# Calculate summary statistics for each cylinder group\nmtcars_df %&gt;% \n  group_by(cyl) %&gt;% \n  summarise(\n    avg_mpg = mean(mpg, na.rm = TRUE),\n    median_hp = median(hp, na.rm = TRUE),\n    min_wt = min(wt, na.rm = TRUE),\n    max_wt = max(wt, na.rm = TRUE),\n    car_count = n() # n() counts the number of rows in the group\n  )\n\n\n# A tibble: 3 × 6\n    cyl avg_mpg median_hp min_wt max_wt car_count\n  &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;     &lt;int&gt;\n1     4    26.7       91    1.51   3.19        11\n2     6    19.7      110    2.62   3.46         7\n3     8    15.1      192.   3.17   5.42        14",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#find-missing-data",
    "href": "data manipulation/3 data manipulation with tidyverse.html#find-missing-data",
    "title": "Data Manipulation with tidyverse",
    "section": "Find Missing Data",
    "text": "Find Missing Data\nis.na() returns a logical vector indicating which values are missing.\n\n\nCode\nis.na(missing_df)\n\n\n         x     y\n[1,] FALSE FALSE\n[2,] FALSE  TRUE\n[3,]  TRUE FALSE\n[4,] FALSE FALSE",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#filter-out-missing-data",
    "href": "data manipulation/3 data manipulation with tidyverse.html#filter-out-missing-data",
    "title": "Data Manipulation with tidyverse",
    "section": "Filter Out Missing Data",
    "text": "Filter Out Missing Data\nYou can use filter() with !is.na() to remove rows with missing values in a specific column.\n\n\nCode\nmissing_df %&gt;% filter(!is.na(y))\n\n\n   x y\n1  1 a\n2 NA c\n3  4 d\n\n\ntidyr::drop_na() removes rows with any missing values.\n\n\nCode\nmissing_df %&gt;% drop_na()\n\n\n  x y\n1 1 a\n2 4 d",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#ranking-with-row_number",
    "href": "data manipulation/3 data manipulation with tidyverse.html#ranking-with-row_number",
    "title": "Data Manipulation with tidyverse",
    "section": "Ranking with row_number",
    "text": "Ranking with row_number\nrow_number() assigns a unique rank to each row within a group.\n\n\nCode\nsmall_mtcars %&gt;% \n  group_by(cyl) %&gt;% \n  mutate(rank = row_number(desc(mpg))) %&gt;% \n  select(cyl, mpg, rank)\n\n\n# A tibble: 6 × 3\n# Groups:   cyl [3]\n    cyl   mpg  rank\n  &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;\n1     6  21       2\n2     6  21       3\n3     4  22.8     1\n4     6  21.4     1\n5     8  18.7     1\n6     6  18.1     4",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#accessing-previousnext-values-with-lag-and-lead",
    "href": "data manipulation/3 data manipulation with tidyverse.html#accessing-previousnext-values-with-lag-and-lead",
    "title": "Data Manipulation with tidyverse",
    "section": "Accessing Previous/Next Values with lag and lead",
    "text": "Accessing Previous/Next Values with lag and lead\nlag() and lead() are useful for comparing a value to its predecessor or successor.\n\n\nCode\nsmall_mtcars %&gt;% \n  select(cyl, mpg) %&gt;% \n  mutate(mpg_previous = lag(mpg, n = 1))\n\n\n  cyl  mpg mpg_previous\n1   6 21.0           NA\n2   6 21.0         21.0\n3   4 22.8         21.0\n4   6 21.4         22.8\n5   8 18.7         21.4\n6   6 18.1         18.7",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/3 data manipulation with tidyverse.html#cumulative-summaries",
    "href": "data manipulation/3 data manipulation with tidyverse.html#cumulative-summaries",
    "title": "Data Manipulation with tidyverse",
    "section": "Cumulative Summaries",
    "text": "Cumulative Summaries\ncumsum() calculates the cumulative sum.\n\n\nCode\nsmall_mtcars %&gt;% \n  select(cyl, mpg) %&gt;% \n  mutate(mpg_running_total = cumsum(mpg))\n\n\n  cyl  mpg mpg_running_total\n1   6 21.0              21.0\n2   6 21.0              42.0\n3   4 22.8              64.8\n4   6 21.4              86.2\n5   8 18.7             104.9\n6   6 18.1             123.0",
    "crumbs": [
      "data manipulation",
      "Data Manipulation with tidyverse"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html",
    "href": "data manipulation/7 SQL database.html",
    "title": "Working with SQL Databases in R",
    "section": "",
    "text": "This document provides a comprehensive guide on how to connect to and interact with SQL databases directly from R. We will explore three primary methods: writing raw SQL queries, using the modern dbplyr package for a tidyverse-like experience, and using sqldf to query local data frames with SQL syntax.",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#create-and-populate-a-database",
    "href": "data manipulation/7 SQL database.html#create-and-populate-a-database",
    "title": "Working with SQL Databases in R",
    "section": "Create and Populate a Database",
    "text": "Create and Populate a Database\nFirst, we establish a connection to a database file. If the file doesn’t exist, dbConnect() will create it. Then, we’ll copy the mtcars and iris R data frames into the database, creating new tables.\n\n\nCode\n# Add car names as a column in mtcars, as they are originally row names\nmtcars_df &lt;- mtcars %&gt;% \n  rownames_to_column(var = \"car_name\")\n\n# Create a connection to an SQLite database file in the 'data' subdirectory\ncon &lt;- dbConnect(RSQLite::SQLite(), \"data/my_sql_database.db\")\n\n# Write the R data frames to the database\n# `overwrite = TRUE` will replace the table if it already exists\ndbWriteTable(con, \"mtcars\", mtcars_df, overwrite = TRUE)\ndbWriteTable(con, \"iris\", iris, overwrite = TRUE)\n\n\nWe can list the tables to confirm they were successfully created.\n\n\nCode\ndbListTables(con)\n\n\n[1] \"car_parts\" \"iris\"      \"mtcars\"    \"part_info\"",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#select-statement",
    "href": "data manipulation/7 SQL database.html#select-statement",
    "title": "Working with SQL Databases in R",
    "section": "SELECT Statement",
    "text": "SELECT Statement\nSelect all columns (*) from the mtcars table. LIMIT restricts the output to the first 3 rows.\n\n\nCode\nsql_select &lt;- \"SELECT * FROM mtcars LIMIT 3\"\ndbGetQuery(con, sql_select)\n\n\n       car_name  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1     Mazda RX4 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\n2 Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\n3    Datsun 710 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#column-aliasing-and-creation",
    "href": "data manipulation/7 SQL database.html#column-aliasing-and-creation",
    "title": "Working with SQL Databases in R",
    "section": "Column Aliasing and Creation",
    "text": "Column Aliasing and Creation\nUse AS to rename a column in the query’s output. You can also create new columns based on calculations on existing ones.\n\n\nCode\nsql_create_col &lt;- \"SELECT mpg, mpg * 0.425 AS kpl FROM mtcars\" # Convert MPG to KPL\nhead(dbGetQuery(con, sql_create_col))\n\n\n   mpg    kpl\n1 21.0 8.9250\n2 21.0 8.9250\n3 22.8 9.6900\n4 21.4 9.0950\n5 18.7 7.9475\n6 18.1 7.6925",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#filtering-with-where",
    "href": "data manipulation/7 SQL database.html#filtering-with-where",
    "title": "Working with SQL Databases in R",
    "section": "Filtering with WHERE",
    "text": "Filtering with WHERE\nThe WHERE clause filters rows based on one or more conditions. AND requires both conditions to be true.\n\n\nCode\nsql_filter &lt;- \"SELECT * FROM mtcars WHERE hp &gt; 200 AND cyl = 8\"\nhead(dbGetQuery(con, sql_filter))\n\n\n             car_name  mpg cyl disp  hp drat    wt  qsec vs am gear carb\n1          Duster 360 14.3   8  360 245 3.21 3.570 15.84  0  0    3    4\n2  Cadillac Fleetwood 10.4   8  472 205 2.93 5.250 17.98  0  0    3    4\n3 Lincoln Continental 10.4   8  460 215 3.00 5.424 17.82  0  0    3    4\n4   Chrysler Imperial 14.7   8  440 230 3.23 5.345 17.42  0  0    3    4\n5          Camaro Z28 13.3   8  350 245 3.73 3.840 15.41  0  0    3    4\n6      Ford Pantera L 15.8   8  351 264 4.22 3.170 14.50  0  1    5    4",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#aggregation-with-group-by",
    "href": "data manipulation/7 SQL database.html#aggregation-with-group-by",
    "title": "Working with SQL Databases in R",
    "section": "Aggregation with GROUP BY",
    "text": "Aggregation with GROUP BY\nGROUP BY is a powerful tool for summarizing data. It collapses multiple rows into a single summary row based on a grouping variable. It is almost always used with aggregate functions like AVG() (average), COUNT() (count), MIN() (minimum), and MAX() (maximum).\nThis query calculates the average horsepower and the number of cars for each cylinder group.\n\n\nCode\nsql_groupby &lt;- \"SELECT cyl, AVG(hp) AS avg_hp, COUNT(*) AS num_cars FROM mtcars GROUP BY cyl\"\ndbGetQuery(con, sql_groupby)\n\n\n  cyl    avg_hp num_cars\n1   4  82.63636       11\n2   6 122.28571        7\n3   8 209.21429       14",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#sorting-with-order-by",
    "href": "data manipulation/7 SQL database.html#sorting-with-order-by",
    "title": "Working with SQL Databases in R",
    "section": "Sorting with ORDER BY",
    "text": "Sorting with ORDER BY\nORDER BY sorts the result set. The default is ascending order (ASC), but you can specify DESC for descending order.\n\n\nCode\nsql_orderby &lt;- \"SELECT car_name, mpg, hp FROM mtcars ORDER BY hp DESC LIMIT 5\"\ndbGetQuery(con, sql_orderby)\n\n\n           car_name  mpg  hp\n1     Maserati Bora 15.0 335\n2    Ford Pantera L 15.8 264\n3        Duster 360 14.3 245\n4        Camaro Z28 13.3 245\n5 Chrysler Imperial 14.7 230",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#joins",
    "href": "data manipulation/7 SQL database.html#joins",
    "title": "Working with SQL Databases in R",
    "section": "Joins",
    "text": "Joins\nJoins are used to combine rows from two or more tables based on a related column. We’ll create two new tables to demonstrate.\n\n\nCode\ndbWriteTable(con, \"car_parts\", data.frame(car_name = c(\"Mazda RX4\", \"Datsun 710\", \"Hornet 4 Drive\"), part_id = c(1, 2, 3)), overwrite = TRUE)\ndbWriteTable(con, \"part_info\", data.frame(part_id = c(1, 2, 4), part_name = c(\"Engine\", \"Tire\", \"Brake\")), overwrite = TRUE)\n\n\n\nINNER JOIN\nReturns only the rows where the join key (part_id) exists in both tables.\n\n\nCode\nsql_inner_join &lt;- \"\nSELECT cp.car_name, pi.part_name\nFROM car_parts cp\nINNER JOIN part_info pi ON cp.part_id = pi.part_id\"\ndbGetQuery(con, sql_inner_join)\n\n\n    car_name part_name\n1  Mazda RX4    Engine\n2 Datsun 710      Tire\n\n\n\n\nLEFT JOIN\nReturns all rows from the left table (car_parts) and any matched rows from the right table (part_info). If there is no match, the columns from the right table will be NA.\n\n\nCode\nsql_left_join &lt;- \"\nSELECT cp.car_name, pi.part_name\nFROM car_parts cp\nLEFT JOIN part_info pi ON cp.part_id = pi.part_id\"\ndbGetQuery(con, sql_left_join)\n\n\n        car_name part_name\n1      Mazda RX4    Engine\n2     Datsun 710      Tire\n3 Hornet 4 Drive      &lt;NA&gt;",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/7 SQL database.html#modifying-data",
    "href": "data manipulation/7 SQL database.html#modifying-data",
    "title": "Working with SQL Databases in R",
    "section": "Modifying Data",
    "text": "Modifying Data\nFor SQL commands that modify data but do not return a result set (like UPDATE, CREATE, DROP), use the dbExecute() function.\n\nUPDATE Table\nUPDATE modifies existing records in a table.\n\n\nCode\n# Set the horsepower to 120 for the 'Mazda RX4'\ndbExecute(con, \"UPDATE mtcars SET hp = 120 WHERE car_name = 'Mazda RX4'\")\n\n\n[1] 1\n\n\nCode\n# Verify the change\ndbGetQuery(con, \"SELECT car_name, hp FROM mtcars WHERE car_name = 'Mazda RX4'\")\n\n\n   car_name  hp\n1 Mazda RX4 120\n\n\n\n\nCREATE and DROP Table\nCREATE TABLE builds a new table, and DROP TABLE permanently deletes one.\n\n\nCode\n# Create a copy of the mtcars table\nsql_create &lt;- \"CREATE TABLE mtcars_copy AS SELECT * FROM mtcars\"\ndbExecute(con, sql_create)\n\n\n[1] 0\n\n\nCode\ndbListTables(con)\n\n\n[1] \"car_parts\"   \"iris\"        \"mtcars\"      \"mtcars_copy\" \"part_info\"  \n\n\n\n\nCode\n# Drop the copy\nsql_drop &lt;- \"DROP TABLE mtcars_copy\"\ndbExecute(con, sql_drop)\n\n\n[1] 0\n\n\nCode\ndbListTables(con)\n\n\n[1] \"car_parts\" \"iris\"      \"mtcars\"    \"part_info\"",
    "crumbs": [
      "data manipulation",
      "Working with SQL Databases in R"
    ]
  },
  {
    "objectID": "data manipulation/6 resample.html",
    "href": "data manipulation/6 resample.html",
    "title": "resample",
    "section": "",
    "text": "1. The Importance of Resampling\nIn machine learning, we want to build models that generalize well to new, unseen data. A common mistake is to train and evaluate a model on the same dataset. This often leads to overfitting, where the model learns the noise in the training data, not the underlying pattern. As a result, the model performs well on the data it has seen but fails miserably on new data.\nResampling is a collection of techniques used to combat this. It involves repeatedly drawing samples from a training set and refitting a model on each sample. This process allows us to:\n\nEstimate model performance: Get a more accurate and robust estimate of how the model will perform on unseen data.\nUnderstand variability: See how much the model’s performance changes across different subsets of the data.\nTune hyperparameters: Find the best settings for a model by evaluating them across multiple validation sets.\n\nThe rsample package, part of the tidymodels ecosystem, provides a consistent and intuitive interface for creating different types of resamples.\n\n\nCode\nlibrary(rsample)\nlibrary(tidyverse)\n\n# We will use the iris dataset for demonstration\ndata(iris)\n\n\n\n\n2. k-Fold Cross-Validation (CV)\nThis is the most common resampling method. The data is randomly split into k equal-sized partitions (or “folds”). For each fold, the model is trained on the other k-1 folds (the analysis set) and tested on the held-out fold (the assessment set). The process is repeated k times, with each fold serving as the test set exactly once. The final performance is the average of the performances across all k folds.\n\nvfold_cv() creates the folds. A v of 10 is a common choice.\n\n\nCode\nk_fold_resample &lt;- vfold_cv(iris, v = 10)\nk_fold_resample\n\n\n#  10-fold cross-validation \n# A tibble: 10 × 2\n   splits           id    \n   &lt;list&gt;           &lt;chr&gt; \n 1 &lt;split [135/15]&gt; Fold01\n 2 &lt;split [135/15]&gt; Fold02\n 3 &lt;split [135/15]&gt; Fold03\n 4 &lt;split [135/15]&gt; Fold04\n 5 &lt;split [135/15]&gt; Fold05\n 6 &lt;split [135/15]&gt; Fold06\n 7 &lt;split [135/15]&gt; Fold07\n 8 &lt;split [135/15]&gt; Fold08\n 9 &lt;split [135/15]&gt; Fold09\n10 &lt;split [135/15]&gt; Fold10\n\n\nEach row in the output represents one fold. The &lt;split&gt; column contains rsplit objects, which are lightweight pointers to the actual data for the training (analysis) and testing (assessment) sets for that fold.\n\nWorking with rsplit objects\nYou can extract the analysis and assessment data for a specific split.\n\n\nCode\n# Get the first split object\nfirst_split &lt;- k_fold_resample$splits[[1]]\n\n# Get the training data for the first fold\nanalysis_data &lt;- analysis(first_split)\n\n# Get the testing data for the first fold\nassessment_data &lt;- assessment(first_split)\n\ncat(paste(\"Analysis (training) rows:\", nrow(analysis_data), \"\\n\"))\n\n\nAnalysis (training) rows: 135 \n\n\nCode\ncat(paste(\"Assessment (testing) rows:\", nrow(assessment_data), \"\\n\"))\n\n\nAssessment (testing) rows: 15 \n\n\n\n\n\n3. Monte Carlo Cross-Validation (MCCV)\nMCCV, also known as repeated random sub-sampling validation, involves randomly splitting the data into a training and a validation set a specified number of times. Unlike k-fold CV, the assessment sets are not mutually exclusive and can overlap.\nThis method is useful when you want to control the size of the validation set directly, rather than being constrained by the number of folds. It can be more computationally intensive than k-fold CV if many repetitions are used.\nmc_cv() creates the splits. prop is the proportion of data to be used for training, and times is the number of splits to create.\n\n\nCode\nmc_resample &lt;- mc_cv(iris, prop = 9/10, times = 20)\nmc_resample\n\n\n# Monte Carlo cross-validation (0.9/0.1) with 20 resamples \n# A tibble: 20 × 2\n   splits           id        \n   &lt;list&gt;           &lt;chr&gt;     \n 1 &lt;split [135/15]&gt; Resample01\n 2 &lt;split [135/15]&gt; Resample02\n 3 &lt;split [135/15]&gt; Resample03\n 4 &lt;split [135/15]&gt; Resample04\n 5 &lt;split [135/15]&gt; Resample05\n 6 &lt;split [135/15]&gt; Resample06\n 7 &lt;split [135/15]&gt; Resample07\n 8 &lt;split [135/15]&gt; Resample08\n 9 &lt;split [135/15]&gt; Resample09\n10 &lt;split [135/15]&gt; Resample10\n11 &lt;split [135/15]&gt; Resample11\n12 &lt;split [135/15]&gt; Resample12\n13 &lt;split [135/15]&gt; Resample13\n14 &lt;split [135/15]&gt; Resample14\n15 &lt;split [135/15]&gt; Resample15\n16 &lt;split [135/15]&gt; Resample16\n17 &lt;split [135/15]&gt; Resample17\n18 &lt;split [135/15]&gt; Resample18\n19 &lt;split [135/15]&gt; Resample19\n20 &lt;split [135/15]&gt; Resample20\n\n\n\n\n4. The Bootstrap\nA bootstrap sample is created by sampling from the original dataset with replacement. The resulting sample is the same size as the original dataset. Because of sampling with replacement, some data points will be selected multiple times, while others will not be selected at all (these are called the “out-of-bag” samples).\nBootstrapping is useful for estimating the uncertainty of a statistic (like a model coefficient) and is the foundation for ensemble methods like Random Forest. The out-of-bag sample can be used as a validation set.\n\nbootstraps() creates the bootstrap samples.\n\n\nCode\nbootstraps_resample &lt;- bootstraps(iris, times = 1000)\nbootstraps_resample\n\n\n# Bootstrap sampling \n# A tibble: 1,000 × 2\n   splits           id           \n   &lt;list&gt;           &lt;chr&gt;        \n 1 &lt;split [150/58]&gt; Bootstrap0001\n 2 &lt;split [150/52]&gt; Bootstrap0002\n 3 &lt;split [150/58]&gt; Bootstrap0003\n 4 &lt;split [150/56]&gt; Bootstrap0004\n 5 &lt;split [150/57]&gt; Bootstrap0005\n 6 &lt;split [150/55]&gt; Bootstrap0006\n 7 &lt;split [150/53]&gt; Bootstrap0007\n 8 &lt;split [150/56]&gt; Bootstrap0008\n 9 &lt;split [150/55]&gt; Bootstrap0009\n10 &lt;split [150/58]&gt; Bootstrap0010\n# ℹ 990 more rows\n\n\n\n\n5. Stratified Sampling\nWhen dealing with a classification problem where the outcome variable is imbalanced (i.e., some classes have very few samples), random splitting can lead to folds where one or more classes are missing entirely from the training or testing set.\nStratified sampling ensures that the class distribution in each fold is approximately the same as in the original dataset. You can do this by specifying the strata argument in the resampling functions. This is highly recommended for classification problems.\n\n\nCode\n# Create 10-fold cross-validation splits, stratified by the Species column\nstratified_k_fold &lt;- vfold_cv(iris, v = 10, strata = Species)\nstratified_k_fold\n\n\n#  10-fold cross-validation using stratification \n# A tibble: 10 × 2\n   splits           id    \n   &lt;list&gt;           &lt;chr&gt; \n 1 &lt;split [135/15]&gt; Fold01\n 2 &lt;split [135/15]&gt; Fold02\n 3 &lt;split [135/15]&gt; Fold03\n 4 &lt;split [135/15]&gt; Fold04\n 5 &lt;split [135/15]&gt; Fold05\n 6 &lt;split [135/15]&gt; Fold06\n 7 &lt;split [135/15]&gt; Fold07\n 8 &lt;split [135/15]&gt; Fold08\n 9 &lt;split [135/15]&gt; Fold09\n10 &lt;split [135/15]&gt; Fold10\n\n\n\n\n6. Visualizing Resamples\nIt can be helpful to visualize the resamples to understand how the data is being split. The code below defines a helper function to plot the distribution of a variable across the different resample splits.\n\n\nCode\n# Helper function to extract and plot data from splits\nplot_resample_dist &lt;- function(resample_obj, variable) {\n  resample_obj %&gt;% \n    mutate(fold_id = as.character(row_number())) %&gt;% \n    pull(splits) %&gt;% \n    map_dfr(~as_tibble(analysis(.)), .id = \"fold_id\") %&gt;% \n    ggplot(aes(x = {{variable}}, fill = fold_id)) + \n    geom_density(alpha = 0.5, show.legend = FALSE) + \n    labs(\n      title = paste(\"Distribution of\", rlang::as_name(enquo(variable)), \"across resamples\"),\n      x = rlang::as_name(enquo(variable)),\n      y = \"Density\"\n    ) + \n    theme_minimal()\n}\n\n# Visualize the distribution of Sepal.Length across the k-fold splits\nplot_resample_dist(k_fold_resample, Sepal.Length)\n\n\n\n\n\n\n\n\n\nThis visualization helps confirm that the splits are reasonably balanced and representative of the overall data distribution.\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "resample"
    ]
  },
  {
    "objectID": "data manipulation/8 data management.html",
    "href": "data manipulation/8 data management.html",
    "title": "Data management",
    "section": "",
    "text": "1. Introduction to Data Management\nEffective data management is crucial for reproducible and collaborative data science. It involves organizing, storing, and sharing data in a way that is efficient, secure, and easy to manage. In R, the pins package provides a powerful and straightforward solution for this challenge.\n\nThe pins package allows you to “pin” data objects—like data frames, models, or plots—to a “board.” A board is a location where you store your pins, which can be a local folder, a network drive, or a cloud service like Amazon S3, Google Cloud Storage, or Posit Connect. This makes it easy to share and access data across different projects, colleagues, or even between R and Python environments.\nThe key idea is to treat data like a package. You can publish data to a board, and then others (or your future self) can install and use that data with a simple command, without worrying about file paths or where the data is stored.\n\n\n2. Getting Started with pins\nFirst, you need to install the package from CRAN.\n\n\nCode\ninstall.packages(\"pins\")\n\n\nThen, load the necessary libraries. We will use pins and tidyverse.\n\n\nCode\nlibrary(pins)\nlibrary(tidyverse)\n\n\n\n\n3. Creating a Board\nA board is the storage location for your pins. For this example, we will create a simple board in a local folder. This is great for managing data for your own projects on a single machine.\n\n\nCode\n# Create a board in a subfolder named 'my_local_board'\n# This folder will be created in your current working directory.\nboard &lt;- board_folder(\"my_local_board\")\n\n\nYou can check the path of your board.\n\n\nCode\nboard\n\n\nPin board &lt;pins_board_folder&gt;\nPath: 'my_local_board'\nCache size: 0\n\n\n\n\n4. Pinning Data\n“Pinning” data means saving an R object to your board with a specific name. Let’s pin the built-in mtcars dataset.\nThe pin_write() function is used for this. It takes three main arguments: - x: The R object you want to pin. - name: A unique name for the pin. - board: The board where you want to store the pin. - type: The file format to save the pin as (e.g., “rds”, “csv”, “parquet”). pins will choose a sensible default if you don’t specify.\n\n\nCode\n# Pin the mtcars data frame to our local board\n# We can also add a description for context\npin_write(board, mtcars, name = \"mtcars_data\", description = \"Motor Trend Car Road Tests dataset\", type = \"rds\")\n\n\nYou can list the pins on your board to see what’s available.\n\n\nCode\npin_list(board)\n\n\n[1] \"mtcars_data\"\n\n\nYou can also search for pins with pin_search().\n\n\nCode\npin_search(board, \"mtcars\")\n\n\n# A tibble: 1 × 6\n  name        type  title               created             file_size meta      \n  &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;               &lt;dttm&gt;              &lt;fs::byt&gt; &lt;list&gt;    \n1 mtcars_data rds   mtcars_data: a pin… 2025-07-01 13:38:30     1.19K &lt;pins_met&gt;\n\n\n\n\n5. Reading Data from a Pin\nOnce data is pinned, you can easily read it back into your R session using pin_read(). This is incredibly useful for starting a new analysis without having to re-run a long data preparation script.\n\n\nCode\n# Read the 'mtcars_data' pin from our board\nmy_mtcars_data &lt;- pin_read(board, \"mtcars_data\")\n\nhead(my_mtcars_data)\n\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1\n\n\n\n\n6. Sharing Data with Others\nThe real power of pins comes from sharing data. While a local folder board is good for personal use, you can use other board types to collaborate with a team. Common choices include:\n\nboard_folder(): For a shared network drive.\nboard_s3(): For Amazon S3.\nboard_gcs(): For Google Cloud Storage.\nboard_connect(): For Posit Connect (formerly RStudio Connect), which is an excellent choice for teams within an organization.\n\nThe workflow remains the same regardless of the board type. For example, to pin to an S3 bucket, your code would look like this (after setting up authentication):\n\n\nCode\n# Connect to an S3 board (requires AWS credentials to be configured)\ns3_board &lt;- board_s3(\"my-team-s3-bucket\")\n\n# Write and read from the S3 board just like a local one\npin_write(s3_board, mtcars, name = \"shared_mtcars\")\nshared_data &lt;- pin_read(s3_board, \"shared_mtcars\")\n\n\nThis makes your data assets portable and accessible, whether you are working on your laptop, a cloud virtual machine, or a production server.\n\n\n7. Versioning\npins automatically versions your data. If you write to a pin with the same name multiple times, pins will save each version. This is a powerful feature for tracking changes and ensuring reproducibility. You can always go back to a previous version of your data if needed.\nLet’s modify our mtcars data and pin it again.\n\n\nCode\nmtcars_modified &lt;- mtcars %&gt;% mutate(hp_per_cyl = hp / cyl)\npin_write(board, mtcars_modified, name = \"mtcars_data\")\n\n\nNow, you can list the available versions for the “mtcars_data” pin.\n\n\nCode\npin_versions(board, \"mtcars_data\")\n\n\n# A tibble: 1 × 3\n  version                created             hash \n  &lt;chr&gt;                  &lt;dttm&gt;              &lt;chr&gt;\n1 20250701T053830Z-9365e 2025-07-01 13:38:30 9365e\n\n\nYou can read a specific version by providing its version hash to pin_read().\n\n\nCode\n# Get the hash for the first version we saved\nfirst_version_hash &lt;- pin_versions(board, \"mtcars_data\")$version[1]\n\n# Read the original data using the version hash\noriginal_data &lt;- pin_read(board, \"mtcars_data\", version = first_version_hash)\n\n# Check that it doesn't have the new column\nhead(original_data)\n\n\n                   mpg cyl disp  hp drat    wt  qsec vs am gear carb hp_per_cyl\nMazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4   18.33333\nMazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4   18.33333\nDatsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1   23.25000\nHornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1   18.33333\nHornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2   21.87500\nValiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1   17.50000\n\n\n\n\n8. References\n\npins for R Official Website\nGetting Started with pins\nManaging and Sharing Data with pins Blog Post\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "data manipulation",
      "Data management"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#convert-ggplot-to-plotly-for-interactivity",
    "href": "Plot/1 ggplot2.html#convert-ggplot-to-plotly-for-interactivity",
    "title": "ggplot2 in R",
    "section": "Convert ggplot to Plotly for Interactivity",
    "text": "Convert ggplot to Plotly for Interactivity\nThe plotly package can convert your static ggplot2 plots into interactive, web-based visualizations with features like tooltips and zooming.\n\n\nCode\np = ggplot(data = tips, aes(x = tip, y = total_bill, color = sex)) + \n  geom_point() + \n  scale_x_continuous(name = \"New X Name\") + \n  scale_y_continuous(name = \"New Y Name\")\n\npp = ggplotly(p)\npp",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#save-your-plots",
    "href": "Plot/1 ggplot2.html#save-your-plots",
    "title": "ggplot2 in R",
    "section": "Save Your Plots",
    "text": "Save Your Plots\nggsave() makes it easy to save your plots to a file. You can specify the filename, format, dimensions, and resolution.\n\n\nCode\np + theme_economist()\n\n\n\n\n\n\n\n\n\nCode\nggsave(\"myplot.png\", width = 6, height = 4, units = \"in\", dpi = 300)",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#add-images-to-your-charts",
    "href": "Plot/1 ggplot2.html#add-images-to-your-charts",
    "title": "ggplot2 in R",
    "section": "Add Images to Your Charts",
    "text": "Add Images to Your Charts\nThe magick package allows you to read and manipulate images, which you can then add to your ggplot2 plots using grid::grid.raster().\n\n\nCode\n# Add your company's logo to the graph you created\nlogo &lt;- image_read(\"images/logo1.png\")\n\np\ngrid::grid.raster(logo, x = 0.1, y = 0, just = c('left', 'bottom'), width = unit(0.4, 'inches'))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#create-animated-plots-with-gganimate",
    "href": "Plot/1 ggplot2.html#create-animated-plots-with-gganimate",
    "title": "ggplot2 in R",
    "section": "Create Animated Plots with gganimate",
    "text": "Create Animated Plots with gganimate\nThe gganimate package extends ggplot2 to create stunning animations, which are great for showing changes over time.\n\n\nCode\nlibrary(gganimate)\n\n# Note: country_colors is not defined in the original code. \n# We will use the default ggplot2 color palette.\np = ggplot(gapminder, aes(x = gdpPercap, y = lifeExp, size = pop, colour = continent)) +\n  geom_point(alpha = 0.7, show.legend = FALSE) +\n  scale_size(range = c(2, 12)) +\n  scale_x_log10() +\n  labs(title = 'Year: {as.integer(frame_time)}', x = 'GDP per capita', y = 'life expectancy') +\n  transition_time(year) +\n  ease_aes('linear')\n\n# To render the animation, you would typically use `animate(p)` or `anim_save()`\nanimate(p)",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#create-maps-with-ggplot2",
    "href": "Plot/1 ggplot2.html#create-maps-with-ggplot2",
    "title": "ggplot2 in R",
    "section": "Create Maps with ggplot2",
    "text": "Create Maps with ggplot2\nggplot2 can also be used to create maps. The sf package is commonly used for working with spatial data.\n\n\nCode\nlibrary(sf)\n\n# Data from https://geojson-maps.kyd.au/\ngeoj_data &lt;- read_sf(\"data/custom.geo.json\")\n\ngeoj_data_asia = geoj_data |&gt; filter(continent == \"Asia\")\n\nggplot() +\n  geom_sf(\n    data = geoj_data_asia,\n    aes(fill = income_grp),\n    linewidth = 0.2,\n    color = \"white\",\n    alpha = 1\n  )",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#patchwork-combining-multiple-plots",
    "href": "Plot/1 ggplot2.html#patchwork-combining-multiple-plots",
    "title": "ggplot2 in R",
    "section": "patchwork: Combining Multiple Plots",
    "text": "patchwork: Combining Multiple Plots\nThe patchwork package provides a simple and intuitive syntax for combining multiple ggplot2 plots into a single graphic.\n\n\nCode\nlibrary(patchwork)\n\np1 &lt;- ggplot(mtcars) + geom_point(aes(mpg, disp))\np2 &lt;- ggplot(mtcars) + geom_boxplot(aes(gear, disp, group = gear))\np3 &lt;- ggplot(mtcars) + geom_smooth(aes(disp, qsec))\np4 &lt;- ggplot(mtcars) + geom_bar(aes(carb))\n\n(p1 | p2 | p3) / p4",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/1 ggplot2.html#legendry-advanced-legend-customization",
    "href": "Plot/1 ggplot2.html#legendry-advanced-legend-customization",
    "title": "ggplot2 in R",
    "section": "legendry: Advanced Legend Customization",
    "text": "legendry: Advanced Legend Customization\nThe legendry package provides tools for creating more complex and customized legends.\n\n\nCode\n# pak::pak('legendry') # Uncomment to install\n\n\n\n\nCode\nlibrary(legendry)\n\nbase_plot &lt;- ggplot(mpg, aes(displ, hwy, colour = cty)) +\n  geom_point() +\n  labs(\n    x = \"Engine displacement\",\n    y = \"Highway miles per gallon\",\n    col = \"City miles\nper gallon\"\n  ) +\n  theme(axis.line = element_line())\n\n# A partial guide to display a bracket\nefficient_bracket &lt;- primitive_bracket(\n  key = key_range_manual(start = 25, end = Inf, name = \"Efficient\"),\n  bracket = \"square\",\n  theme = theme(\n    legend.text = element_text(angle = 90, hjust = 0.5),\n    axis.text.y.left = element_text(angle = 90, hjust = 0.5)\n  )\n)\n\nbase_plot + guides(y = guide_axis_stack(\"axis\", efficient_bracket))",
    "crumbs": [
      "Plot",
      "ggplot2 in R"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html",
    "href": "Plot/Map/3 leaflet US.html",
    "title": "US State GDP Map",
    "section": "",
    "text": "This document demonstrates how to create a choropleth map of the United States, where each state is colored based on its per capita GDP in 2022. We will use the leaflet package in R to create the interactive map.",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#scatter-plots",
    "href": "Plot/2 plotly.html#scatter-plots",
    "title": "Plotly in R",
    "section": "Scatter Plots",
    "text": "Scatter Plots\nScatter plots are used to display the relationship between two continuous variables. Each point on the plot represents an observation, and its position is determined by its values for the two variables.\n\n\nCode\n# Load the tips dataset\ndata(tips)\nhead(tips)\n\n\n  total_bill  tip    sex smoker day   time size\n1      16.99 1.01 Female     No Sun Dinner    2\n2      10.34 1.66   Male     No Sun Dinner    3\n3      21.01 3.50   Male     No Sun Dinner    3\n4      23.68 3.31   Male     No Sun Dinner    2\n5      24.59 3.61 Female     No Sun Dinner    4\n6      25.29 4.71   Male     No Sun Dinner    4\n\n\nHere, we create a basic scatter plot of total_bill versus tip from the tips dataset.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip, type = 'scatter', mode = 'markers')\nfig\n\n\n\n\n\n\n\nColor by Group\nYou can easily add a third variable to the scatter plot by mapping it to the color aesthetic. This helps in visualizing relationships within different categories.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip, color = ~sex, type = 'scatter', mode = 'markers')\nfig\n\n\n\n\n\n\n\n\nSize by Group\nSimilarly, a fourth variable can be mapped to the size of the points, providing another dimension for data exploration.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, y = ~tip, color = ~sex, size = ~size, type = 'scatter', mode = 'markers')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#line-plots",
    "href": "Plot/2 plotly.html#line-plots",
    "title": "Plotly in R",
    "section": "Line Plots",
    "text": "Line Plots\nLine plots are ideal for visualizing trends over time or across ordered categories.\nFirst, we prepare some aggregated data from the gapminder dataset to show population trends by continent.\n\n\nCode\ndata001 = gapminder\ndata002 = data001 %&gt;% group_by(continent, year) %&gt;% summarise(pop = sum(pop))\n\n\nHere, we create a line plot for the population of Asia over the years. The mode = 'lines' argument specifies that the points should be connected by lines.\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;% filter(continent == 'Asia'), x = ~year, y = ~pop, type = 'scatter', mode = 'lines')\nfig\n\n\n\n\n\n\n\nLine Width and Color\nYou can customize the appearance of the lines, such as their color and width, using the line argument within plot_ly().\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;% filter(continent == 'Asia'), x = ~year, y = ~pop, type = 'scatter', mode = 'lines', line = list(color = 'rgb(205, 12, 24)', width = 8))\nfig\n\n\n\n\n\n\n\n\nColor by Group\nTo display multiple lines, one for each group, you can map a categorical variable to the color argument.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, type = 'scatter', mode = 'lines')\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#histograms",
    "href": "Plot/2 plotly.html#histograms",
    "title": "Plotly in R",
    "section": "Histograms",
    "text": "Histograms\nHistograms are used to visualize the distribution of a single continuous variable. They show the frequency of data points falling into specified bins.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, type = \"histogram\")\nfig\n\n\n\n\n\n\n\nSet Bin Number\nYou can control the number of bins in a histogram using the nbinsx argument, which affects the granularity of the distribution visualization.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, type = \"histogram\", nbinsx = 5)\nfig\n\n\n\n\n\n\n\n\nColor by Group\nSimilar to scatter plots, you can color histogram bars by a categorical variable to compare distributions across different groups.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\")\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#bar-charts",
    "href": "Plot/2 plotly.html#bar-charts",
    "title": "Plotly in R",
    "section": "Bar Charts",
    "text": "Bar Charts\nBar charts are used to compare categorical data. The length of each bar represents the value of a category.\nFirst, we aggregate the tips data to get the total bill for each sex.\n\n\nCode\ntips2 = tips %&gt;% group_by(sex) %&gt;% summarise(total_bill = sum(total_bill))\n\n\nHere, we create a bar chart showing the total bill for each sex.\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, color = ~sex, type = \"bar\")\nfig\n\n\n\n\n\n\n\nShow Numbers on Bars\nYou can display the exact values on top of the bars using the text argument.\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, text = ~total_bill, type = \"bar\")\nfig\n\n\n\n\n\n\n\n\nHorizontal Bar Plot\nTo create a horizontal bar chart, simply swap the x and y arguments.\n\n\nCode\nfig &lt;- plot_ly(data = tips2, y = ~sex, x = ~total_bill, color = ~sex, type = \"bar\", orientation = 'h')\nfig\n\n\n\n\n\n\n\n\nBar Chart Order\nYou can control the order of categories on the x-axis using layout(xaxis = list(categoryorder = ...)). Options include \"total ascending\" and \"total descending\".\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, color = ~sex, type = \"bar\") %&gt;% \n  layout(xaxis = list(categoryorder = \"total ascending\"))\nfig\n\n\n\n\n\n\n\n\nCode\nfig &lt;- plot_ly(data = tips2, x = ~sex, y = ~total_bill, color = ~sex, type = \"bar\") %&gt;% \n  layout(xaxis = list(categoryorder = \"total descending\"))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#box-plots",
    "href": "Plot/2 plotly.html#box-plots",
    "title": "Plotly in R",
    "section": "Box Plots",
    "text": "Box Plots\nBox plots are useful for visualizing the distribution of a continuous variable and identifying potential outliers. They display the median, quartiles, and range of the data.\n\n\nCode\nfig &lt;- plot_ly(data = tips, y = ~total_bill, type = \"box\")\nfig\n\n\n\n\n\n\n\nColor by Group\nYou can create separate box plots for different groups by mapping a categorical variable to the x-axis and coloring by it.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~sex, y = ~total_bill, color = ~sex, type = \"box\")\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#strip-plots",
    "href": "Plot/2 plotly.html#strip-plots",
    "title": "Plotly in R",
    "section": "Strip Plots",
    "text": "Strip Plots\nStrip plots (or jitter plots) display individual data points, often used to show the distribution of a continuous variable for different categories.\n\n\nCode\np = ggplot(tips, aes(day, tip)) + geom_jitter(width = 0.1)\nggplotly(p)\n\n\n\n\n\n\n\nColor by Group\n\n\nCode\np = ggplot(tips, aes(day, tip, color = sex)) + geom_jitter(position = position_jitterdodge())\nggplotly(p)",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#facet-plots",
    "href": "Plot/2 plotly.html#facet-plots",
    "title": "Plotly in R",
    "section": "Facet Plots",
    "text": "Facet Plots\nFacet plots (or small multiples) create a grid of plots, with each plot showing a subset of the data. ggplotly() can also handle faceted ggplot2 plots.\n\n\nCode\np = ggplot(tips, aes(tip, total_bill)) + geom_point(aes(color = sex)) + facet_wrap(~day)\nggplotly(p)",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#change-axis-labels",
    "href": "Plot/2 plotly.html#change-axis-labels",
    "title": "Plotly in R",
    "section": "Change Axis Labels",
    "text": "Change Axis Labels\nCustomize the labels for the x and y axes using layout(xaxis = list(title = ...), yaxis = list(title = ...)).\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\") %&gt;% \n  layout(title = 'Distribution of Total Bill by Sex',\n         xaxis = list(title = 'Total Bill'),\n         yaxis = list(title = 'Frequency'))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#change-axis-range",
    "href": "Plot/2 plotly.html#change-axis-range",
    "title": "Plotly in R",
    "section": "Change Axis Range",
    "text": "Change Axis Range\nYou can set specific ranges for the x and y axes using the range argument within the xaxis and yaxis lists.\n\n\nCode\nfig &lt;- plot_ly(data = tips, x = ~total_bill, color = ~sex, type = \"histogram\") %&gt;% \n  layout(title = 'Distribution of Total Bill by Sex',\n         xaxis = list(title = 'Total Bill', range = c(0, 60)),\n         yaxis = list(title = 'Frequency', range = c(0, 50)))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#legend-customization",
    "href": "Plot/2 plotly.html#legend-customization",
    "title": "Plotly in R",
    "section": "Legend Customization",
    "text": "Legend Customization\n\nHide Legend\nYou can hide the legend by setting showlegend = FALSE in the layout() function.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, mode = 'lines') %&gt;% layout(showlegend = FALSE)\nfig\n\n\n\n\n\n\n\n\nShow Legend and Change Legend Name\nTo explicitly show the legend and customize the name of a trace, use the name argument within plot_ly() and ensure showlegend = TRUE.\n\n\nCode\nfig &lt;- plot_ly(data = data002 %&gt;% filter(continent == 'Asia'), x = ~year, y = ~pop, color = ~continent, mode = 'lines', name = 'Asia Population') %&gt;% layout(showlegend = TRUE)\nfig\n\n\n\n\n\n\n\n\nChange Legend Position and Orientation\nYou can adjust the legend’s position and orientation (e.g., horizontal) using the legend argument within layout().\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, mode = 'lines') %&gt;% layout(legend = list(orientation = 'h', x = 0.1, y = 1.1))\nfig",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#adding-images",
    "href": "Plot/2 plotly.html#adding-images",
    "title": "Plotly in R",
    "section": "Adding Images",
    "text": "Adding Images\nYou can embed images directly into your Plotly graphs, either from a URL or a local file.\n\nAdd Online Image\nTo add an image from a URL, specify the source and its position using xref, yref, x, y, sizex, sizey, and xanchor.\n\n\nCode\nfig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, mode = 'lines') %&gt;% layout(\n    images = list(  \n      list(  \n        source =  \"https://raw.githubusercontent.com/cldougl/plot_images/add_r_img/vox.png\",\n        xref = \"paper\",\n        yref = \"paper\", \n        x = 0.1,\n        y = 0.9,\n        sizex = 0.2, \n        sizey = 0.2,\n        xanchor = \"left\",\n        yanchor = \"top\"\n      )  \n    )\n)\nfig\n\n\n\n\n\n\n\n\nAdd Local Image\nFor local images, you need to convert them to a base64 data URI using base64enc::dataURI(). You can also control the layer of the image (e.g., layer = \"below\" to place it behind the plot elements).\n\n\nCode\n# Note: You need a local image file named \"bee.png\" in your working directory for this code to run.\nif (file.exists(\"images/bee.png\")) {\n  fig &lt;- plot_ly(data = data002, x = ~year, y = ~pop, color = ~continent, mode = 'lines') %&gt;% layout(\n      images = list(  \n        list(  \n          source = base64enc::dataURI(file = \"images/bee.png\"),\n          xref = \"paper\",\n          yref = \"paper\", \n          x = 0.5,\n          y = 0.5,\n          sizex = 0.2, \n          sizey = 0.2,\n          xanchor = \"center\",\n          yanchor = \"middle\",\n          layer = \"below\"\n        )  \n      )\n  )\n  fig\n}",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#applying-themes-with-ggplotly",
    "href": "Plot/2 plotly.html#applying-themes-with-ggplotly",
    "title": "Plotly in R",
    "section": "Applying Themes with ggplotly()",
    "text": "Applying Themes with ggplotly()\nWhen converting ggplot2 plots to Plotly, you can apply ggplot2 themes to control the overall aesthetic of the plot.\n\ntheme_bw()theme_light()theme_economist()\n\n\nThe theme_bw() provides a black and white theme, often preferred for publications.\n\n\nCode\np = ggplot(tips, aes(tip, total_bill, color = sex)) + geom_point() + scale_x_continuous(name = \"new x name\") + scale_y_continuous(name = \"new y name\")\nggplotly(p + theme_bw())\n\n\n\n\n\n\n\n\nThe theme_light() offers a light theme with a subtle gray background.\n\n\nCode\nggplotly(p + theme_light())\n\n\n\n\n\n\n\n\nThe theme_economist() from the ggthemes package mimics the style of plots found in The Economist magazine.\n\n\nCode\nlibrary(\"ggthemes\")\nggplotly(p + theme_economist())",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#saving-plots",
    "href": "Plot/2 plotly.html#saving-plots",
    "title": "Plotly in R",
    "section": "Saving Plots",
    "text": "Saving Plots\nTo save Plotly plots as static image files (e.g., PNG, JPEG, SVG), you need to install orca, a command-line utility developed by Plotly. You can also save them as interactive HTML files.\nSaving as an HTML file:\n\n\nCode\nlibrary(htmlwidgets)\nsaveWidget(fig, \"my_interactive_plot.html\")\n\n\nSaving as a static image:\nInstall orca from its GitHub repository: https://github.com/plotly/orca#installation\nA common way to install it is via conda: conda install -c plotly plotly-orca\nYou might also need the processx R package for orca to work correctly.\n\n\nCode\n#install.packages('processx')\n# orca(fig, \"my_static_plot.png\") # Assuming 'fig' is your plotly object",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#animated-plots",
    "href": "Plot/2 plotly.html#animated-plots",
    "title": "Plotly in R",
    "section": "Animated Plots",
    "text": "Animated Plots\nPlotly allows you to create animated plots, which are excellent for visualizing changes over time or across different states of data. The frame argument in plot_ly() is key for defining the animation variable.\n\n\nCode\nfig &lt;- plot_ly(data = gapminder, x = ~gdpPercap, y = ~lifeExp, color = ~continent, type = \"scatter\", mode = \"markers\", frame = ~year, text = ~country)\n\nfig %&gt;% animation_opts(\n    1000, easing = \"elastic\", redraw = FALSE\n  )",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/2 plotly.html#subplots",
    "href": "Plot/2 plotly.html#subplots",
    "title": "Plotly in R",
    "section": "Subplots",
    "text": "Subplots\nYou can combine multiple Plotly graphs into a single figure using the subplot() function. This is useful for displaying related visualizations together for comparison.\n\n\nCode\n# Prepare data for two different plots\ndata_scatter &lt;- tips\ndata_bar &lt;- tips %&gt;% group_by(sex) %&gt;% summarise(total_bill = sum(total_bill))\n\n# Create the first plot (scatter plot)\np1 &lt;- plot_ly(data = data_scatter, x = ~total_bill, y = ~tip, type = \"scatter\", mode = \"markers\", name = \"Scatter Plot\") %&gt;%\n  layout(title = \"Total Bill vs. Tip\")\n\n# Create the second plot (bar chart)\np2 &lt;- plot_ly(data = data_bar, x = ~sex, y = ~total_bill, type = \"bar\", name = \"Bar Chart\") %&gt;%\n  layout(title = \"Total Bill by Sex\")\n\n# Combine the plots into a subplot\nsubplot(p1, p2, nrows = 1, shareX = FALSE, shareY = FALSE) %&gt;% \n  layout(title = \"Combined Plots: Scatter and Bar Chart\")",
    "crumbs": [
      "Plot",
      "Plotly in R"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#reading-an-image",
    "href": "Plot/3 image processing.html#reading-an-image",
    "title": "image processing",
    "section": "Reading an Image",
    "text": "Reading an Image\n\n\nCode\n# Read an image from a local file\nraw_logo &lt;- image_read('./images/comb.webp')",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#getting-image-information",
    "href": "Plot/3 image processing.html#getting-image-information",
    "title": "image processing",
    "section": "Getting Image Information",
    "text": "Getting Image Information\nThe image_info() function provides useful information about an image, such as its format, width, height, and colorspace.\n\n\nCode\nimage_info(raw_logo)\n\n\n  format width height colorspace matte filesize density\n1   WEBP   450    303       sRGB  TRUE    49650   72x72",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#changing-image-format",
    "href": "Plot/3 image processing.html#changing-image-format",
    "title": "image processing",
    "section": "Changing Image Format",
    "text": "Changing Image Format\nThe image_convert() function allows you to convert an image from one format to another.\n\n\nCode\nnew_png &lt;- image_convert(raw_logo, \"png\")\nimage_info(new_png)\n\n\n  format width height colorspace matte filesize density\n1    PNG   450    303       sRGB  TRUE        0   72x72",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#writing-an-image",
    "href": "Plot/3 image processing.html#writing-an-image",
    "title": "image processing",
    "section": "Writing an Image",
    "text": "Writing an Image\nThe image_write() function saves an image to a file. You can specify the path and format of the output file.\n\n\nCode\nimage_write(new_png, path = \"./images/new_png.png\", format = \"png\")",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#filling-with-color",
    "href": "Plot/3 image processing.html#filling-with-color",
    "title": "image processing",
    "section": "Filling with Color",
    "text": "Filling with Color\nThe image_fill() function can be used to fill areas of an image with a specified color. Here, we fill the white corners of the logo with green. The fuzz argument controls the tolerance of the color matching.\n\n\nCode\nimg_filled &lt;- raw_logo %&gt;% \n    image_fill(\"green\", \"+1+1\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"green\", \"+140+1\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"green\", \"+1+99\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"green\", \"+140+99\", fuzz = 50, refcolor = \"white\")\n\nimg_filled",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#rotating-an-image",
    "href": "Plot/3 image processing.html#rotating-an-image",
    "title": "image processing",
    "section": "Rotating an Image",
    "text": "Rotating an Image\nThe image_rotate() function rotates an image by a specified angle.\n\n\nCode\nimg_filled %&gt;% image_rotate(45)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adding-a-border",
    "href": "Plot/3 image processing.html#adding-a-border",
    "title": "image processing",
    "section": "Adding a Border",
    "text": "Adding a Border\nThe image_border() function adds a border to an image. You can specify the color and size of the border.\n\n\nCode\nimg_filled %&gt;% image_border(\"#CD5C5C\", \"20x20\")",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#making-a-background-transparent",
    "href": "Plot/3 image processing.html#making-a-background-transparent",
    "title": "image processing",
    "section": "Making a Background Transparent",
    "text": "Making a Background Transparent\nThe image_transparent() function makes a specified color transparent. This is useful for creating images with transparent backgrounds.\n\n\nCode\n# The fuzz argument (0-100) controls how similar colors need to be to be made transparent.\nb = img_filled %&gt;% image_transparent(color = 'green', fuzz = 10)\nb\n\n\n\n\n\n\n\n\n\nCode\nimage_write(b, path = \"images/b.png\", format = \"png\")",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adjusting-opacity",
    "href": "Plot/3 image processing.html#adjusting-opacity",
    "title": "image processing",
    "section": "Adjusting Opacity",
    "text": "Adjusting Opacity\nThe image_colorize() function can be used to adjust the opacity of an image.\n\n\nCode\nb = img_filled %&gt;% image_colorize(opacity = 80, color = 'white')\nb",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adjusting-brightness",
    "href": "Plot/3 image processing.html#adjusting-brightness",
    "title": "image processing",
    "section": "Adjusting Brightness",
    "text": "Adjusting Brightness\nThe image_modulate() function can be used to adjust the brightness, saturation, and hue of an image.\n\n\nCode\nb = img_filled %&gt;% image_modulate(brightness = 30)\nb",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#applying-a-blur-effect",
    "href": "Plot/3 image processing.html#applying-a-blur-effect",
    "title": "image processing",
    "section": "Applying a Blur Effect",
    "text": "Applying a Blur Effect\nThe image_blur() function applies a blur effect to an image. You can control the radius and sigma of the blur.\n\n\nCode\nb = img_filled %&gt;%  image_blur(10, 5)\nb",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adding-text-to-an-image",
    "href": "Plot/3 image processing.html#adding-text-to-an-image",
    "title": "image processing",
    "section": "Adding Text to an Image",
    "text": "Adding Text to an Image\nThe image_annotate() function adds text to an image. You can specify the text, font, size, color, and gravity (position).\n\n\nCode\nb = img_filled %&gt;% image_annotate(\"The quick brown fox\", font = 'Times', size = 20, gravity = \"southwest\", color = \"red\")\nb",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#resizing-an-image",
    "href": "Plot/3 image processing.html#resizing-an-image",
    "title": "image processing",
    "section": "Resizing an Image",
    "text": "Resizing an Image\nThe image_resize() and image_scale() functions can be used to resize an image. image_resize() allows you to specify the new dimensions, while image_scale() scales the image by a factor.\n\n\nCode\nb = img_filled %&gt;% image_resize(\"200x200\")\nb\n\n\n\n\n\n\n\n\n\nCode\nimage_info(b)\n\n\n  format width height colorspace matte filesize density\n1    PNG   200    143       sRGB  TRUE        0   72x72",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#creating-a-black-and-white-logo",
    "href": "Plot/3 image processing.html#creating-a-black-and-white-logo",
    "title": "image processing",
    "section": "Creating a Black and White Logo",
    "text": "Creating a Black and White Logo\nBy combining several magick functions, we can perform more complex image manipulations. Here, we create a black and white version of the logo with a transparent background.\n\n\nCode\nimg_filled2 &lt;- raw_logo %&gt;% \n    image_fill(\"transparent\", \"+1+1\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"transparent\", \"+140+1\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"transparent\", \"+1+99\", fuzz = 50, refcolor = \"white\") %&gt;% \n    image_fill(\"transparent\", \"+140+99\", fuzz = 50, refcolor = \"white\")\n\nimg_filled2 %&gt;% \n    image_channel(\"Opacity\") %&gt;% \n    image_convert(matte = FALSE)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adding-a-background-image-to-a-plot",
    "href": "Plot/3 image processing.html#adding-a-background-image-to-a-plot",
    "title": "image processing",
    "section": "Adding a Background Image to a Plot",
    "text": "Adding a Background Image to a Plot\nWe can use annotation_custom() and rasterGrob() to add an image as the background of a ggplot2 plot.\n\n\nCode\nlibrary(ggplot2)\nlibrary(png)\nlibrary(grid)\n\nimg &lt;- readPNG(\"./images/new_png.png\")\n\nbees &lt;- data.frame(distance = c(0.5, 1, 1.5, 2, 2.5, 3),\n                  number = c(40, 34, 32, 22, 18, 10))\n\nggplot(data = bees, aes(x = distance, y = number)) +\n  annotation_custom(rasterGrob(img, \n                               width = unit(1, \"npc\"),\n                               height = unit(1, \"npc\")), \n                    -Inf, Inf, -Inf, Inf) +\n  geom_point() +\n  xlab(\"Distance (km)\") +\n  ylab(\"Number of Bees\") +\n  ylim(0, 45)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#replacing-scatter-points-with-images",
    "href": "Plot/3 image processing.html#replacing-scatter-points-with-images",
    "title": "image processing",
    "section": "Replacing Scatter Points with Images",
    "text": "Replacing Scatter Points with Images\nThe ggimage package provides geom_image(), which allows you to use images as points in a scatter plot.\n\n\nCode\nlibrary(ggimage)\n\nbees$image &lt;- \"./images/bee.png\"\n\nggplot(data = bees, aes(x = distance, y = number)) +\n  annotation_custom(rasterGrob(img, \n                               width = unit(1, \"npc\"),\n                               height = unit(1, \"npc\")), \n                    -Inf, Inf, -Inf, Inf) +\n  geom_image(aes(image = image), size = 0.15) +\n  xlab(\"Distance (km)\") +\n  ylab(\"Number of Bees\") +\n  ylim(0, 45)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/3 image processing.html#adding-a-logo-to-a-plot",
    "href": "Plot/3 image processing.html#adding-a-logo-to-a-plot",
    "title": "image processing",
    "section": "Adding a Logo to a Plot",
    "text": "Adding a Logo to a Plot\nThe cowplot package provides ggdraw() and draw_image() which make it easy to add a logo or other images to your ggplot2 plots.\n\n\nCode\nlibrary(cowplot)\n\nimg2 = image_read(\"./images/logo1.png\")\n\np = ggplot(data = bees, aes(x = distance, y = number)) +\n  annotation_custom(rasterGrob(img, \n                               width = unit(1, \"npc\"),\n                               height = unit(1, \"npc\")), \n                    -Inf, Inf, -Inf, Inf) +\n  geom_image(aes(image = image), size = 0.15) +\n  xlab(\"Distance (km)\") +\n  ylab(\"Number of Bees\") +\n  ylim(0, 45)\n\nggdraw() + \n  draw_plot(p, x = 0, y = 0.15, width = 1, height = 0.85) + \n  draw_image(img2, x = 0.1, y = 0.1, width = 0.1, height = 0.1)",
    "crumbs": [
      "Plot",
      "image processing"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html#using-yahoofinancer",
    "href": "Plot/4 Financial data.html#using-yahoofinancer",
    "title": "Plot Financial data",
    "section": "Using yahoofinancer",
    "text": "Using yahoofinancer\nThe yahoofinancer package provides a simple and intuitive interface for retrieving data from Yahoo Finance.\n\nRetrieving Index Data\nHere, we retrieve the historical data for the NIFTY 50 index (^NSEI). We then normalize the adjusted close price to compare its performance with other assets.\n\n\nCode\nnifty_50 &lt;- Index$new('^NSEI')\n\ndata001 = nifty_50$get_history(start = '2023-01-01', interval = '1d') %&gt;% unnest(cols = adj_close)\n\na = head(data001$adj_close, 1)[[1]]\n\ndata001b = data001 %&gt;% mutate(adj_close2 = adj_close / a)\n\n\n\n\nRetrieving Stock Data\nSimilarly, we can retrieve the historical data for an individual stock, such as Apple Inc. (AAPL).\n\n\nCode\naapl &lt;- Ticker$new('aapl')\n\ndata002 = aapl$get_history(start = '2023-01-01', interval = '1d') %&gt;% mutate(adj_close = as.numeric(adj_close))\n\na = head(data002$adj_close, 1)[[1]]\n\ndata002b = data002 %&gt;% mutate(adj_close2 = adj_close / a)\n\n\n\n\nVisualizing Stock Prices\nWe can use plotly to create an interactive chart comparing the normalized performance of the NIFTY 50 and Apple stock.\n\n\nCode\n# Initialize plot\nfig &lt;- plot_ly()\n\n# Add data from the first dataframe\nfig &lt;- fig %&gt;%\n    add_lines(data = data001b, name = \"NSEI50\", x = ~date, y = ~adj_close2)\n\n# Add data from the second dataframe\nfig &lt;- fig %&gt;%\n    add_lines(data = data002b, name = \"Apple\", x = ~date, y = ~adj_close2)\n\n# Show figure\nfig",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html#quantmod",
    "href": "Plot/4 Financial data.html#quantmod",
    "title": "Plot Financial data",
    "section": "quantmod",
    "text": "quantmod\nThe quantmod package is another popular choice for financial data analysis in R. It provides a wide range of functions for retrieving, analyzing, and visualizing financial data.",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html#finreportr",
    "href": "Plot/4 Financial data.html#finreportr",
    "title": "Plot Financial data",
    "section": "finreportr",
    "text": "finreportr\nThe finreportr package provides functions for retrieving financial reports from the SEC’s EDGAR database.",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/4 Financial data.html#quandl",
    "href": "Plot/4 Financial data.html#quandl",
    "title": "Plot Financial data",
    "section": "Quandl",
    "text": "Quandl\nThe Quandl package provides access to a vast collection of financial and economic data from the Quandl platform.",
    "crumbs": [
      "Plot",
      "Plot Financial data"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#loading-packages",
    "href": "Plot/5 chart club.html#loading-packages",
    "title": "Chart club",
    "section": "Loading Packages",
    "text": "Loading Packages\nWe start by loading the necessary packages: tidyverse for data manipulation and plotting, showtext for using custom fonts, and ggtext for advanced text rendering.\n\n\nCode\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(ggtext)\n\n# Load a custom font from Google Fonts\nfont_add_google(\"Libre Franklin\", \"franklin\")\nshowtext_opts(dpi = 300)\nshowtext_auto()",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#sourcing-the-data",
    "href": "Plot/5 chart club.html#sourcing-the-data",
    "title": "Chart club",
    "section": "Sourcing the Data",
    "text": "Sourcing the Data\nThe data for this chart is sourced from the Centers for Disease Control and Prevention (CDC).\n\nPre-pandemic data: Weekly Counts of Deaths by Jurisdiction and and Age\nPost-pandemic data: Provisional COVID-19 Death Counts by Week Ending Date and State\n\n\n\nCode\n# Load pre-pandemic data\npre0 &lt;- read_csv(\"./data/Weekly_Counts_of_Deaths_by_Jurisdiction_and_Age_20250615.csv\", \n         col_types = cols(`Week Ending Date` = col_date(format = \"%m/%d/%Y\")))\n\npre &lt;- pre0 %&gt;% \n  filter(Jurisdiction == \"United States\" & Type == \"Unweighted\") %&gt;% \n  summarize(pre_deaths = sum(`Number of Deaths`), .by = `Week Ending Date`) %&gt;% \n  rename(date = `Week Ending Date`)\n\n# Load post-pandemic data\npost0 &lt;- read_csv(\"./data/Provisional_COVID-19_Death_Counts_by_Week_Ending_Date_and_State_20250615.csv\",\n         col_types = cols(`End Date` = col_date(format = \"%m/%d/%Y\")))\n\npost &lt;- post0 %&gt;% \n  filter(State == \"United States\" & Group == \"By Week\") %&gt;% \n  select(date = `End Date`, post_deaths = `Total Deaths`) %&gt;% \n  group_by(date) %&gt;% \n  summarise(post_deaths = sum(post_deaths))",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#data-cleaning-and-preparation",
    "href": "Plot/5 chart club.html#data-cleaning-and-preparation",
    "title": "Chart club",
    "section": "Data Cleaning and Preparation",
    "text": "Data Cleaning and Preparation\nWe combine the pre- and post-pandemic data into a single data frame and create a new variable to distinguish between the two periods.\n\n\nCode\ndeaths_by_week &lt;- full_join(pre, post, by = \"date\") %&gt;% \n  mutate(deaths = if_else(is.na(post_deaths), pre_deaths, post_deaths)) %&gt;% \n  select(date, deaths) %&gt;% \n  mutate(pre_post = if_else(date &lt; \"2020-03-01\", \"pre\", \"post\")) %&gt;% \n  filter(date &gt;= \"2015-03-01\" & date &lt;= \"2025-05-17\")\n\npre_deaths &lt;- deaths_by_week %&gt;% \n  filter(pre_post == \"pre\") %&gt;% \n  summarize(mean = mean(deaths)) %&gt;% \n  pull(mean)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#creating-the-chart",
    "href": "Plot/5 chart club.html#creating-the-chart",
    "title": "Chart club",
    "section": "Creating the Chart",
    "text": "Creating the Chart\nWe use ggplot2 to create a line chart showing the weekly deaths over time. We use geom_rect to highlight the post-pandemic period and geom_hline to show the average pre-pandemic death rate.\n\n\nCode\ngg &lt;- deaths_by_week %&gt;% \n  ggplot(aes(x = date, y = deaths, color = pre_post)) + \n  geom_rect(xmin = ymd(\"2020-03-01\"), xmax = ymd(\"2026-03-01\"), \n            ymin = 0, ymax = 1e6, fill = \"#FCF0E9\", color = \"white\") + \n  geom_hline(yintercept = c(60000, 80000, pre_deaths), \n             linewidth = c(0.2, 0.2, 0.4), \n             color = c(\"gray80\", \"gray80\", \"black\"), \n             linetype = c(1, 1, 2)) + \n  geom_line(show.legend = FALSE, \n            linewidth = 0.75) + \n  annotate(geom = \"text\", hjust = 0, vjust = -0.2, \n           family = \"franklin\", size = 8.5, size.unit = \"pt\", \n           x = ymd(\"2015-03-01\"), \n           y = c(60000, 80000), \n           label = c(\"60,000\", \"80,000 deaths per week\")) + \n  annotate(geom = \"text\", family = \"franklin\", \n           x = ymd(\"2022-09-01\"), \n           y = pre_deaths * 0.98, \n           label = \"2015-19 average\") + \n  coord_cartesian(expand = FALSE, clip = \"off\") + \n  scale_y_continuous(breaks = c(60000, 80000), \n                     limits = c(45000, 89000)) + \n  scale_x_date(breaks = ymd(c(\"2016-01-01\", \"2018-01-01\", \"2020-03-01\", \n                              \"2022-01-01\", \"2024-01-01\")), \n               labels = c(\"2016\", \"2018\", \"March 2020\", \"2022\", \"2024\")) + \n  scale_color_manual(breaks = c(\"pre\", \"post\"), \n                     values = c(\"#58595B\", \"#F05A27\")) + \n  labs(x = NULL, \n       y = NULL, \n       title = \"Total U.S. deaths\") + \n  theme(\n    text = element_text(family = \"franklin\"),\n    plot.background = element_rect(fill = \"#EEEEEE\"),\n    plot.title = element_textbox_simple(face = \"bold\", size = 11.5,\n                                        fill = \"white\", width = NULL,\n                                        padding = margin(5, 4, 5, 4),\n                                        hjust = 0),\n    plot.margin = margin(4, 15, 10, 10),\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank(),\n    axis.text.x = element_text(size = 8.5, margin = margin(t = 3),\n                               color = \"black\"),\n    axis.ticks.length.x = unit(4, \"pt\"),\n    axis.ticks.x = element_line(linewidth = 0.4),\n    panel.grid.minor = element_blank(),\n    panel.grid.major = element_blank(),\n    panel.background = element_rect(fill = NA)\n  )\ngg\n\n\n\n\n\n\n\n\n\n\nSaving and Displaying the Chart\nWe can save the chart as a PNG file using ggsave() and also display it as an interactive plotly chart using ggplotly().\n\n\nCode\nggsave(\"pre_post_covid.png\", width = 6, height = 4.26)\n\nlibrary(plotly)\nggplotly(gg)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#resources",
    "href": "Plot/5 chart club.html#resources",
    "title": "Chart club",
    "section": "Resources",
    "text": "Resources\n\nYouTube Tutorial: Creating this chart",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#loading-packages-1",
    "href": "Plot/5 chart club.html#loading-packages-1",
    "title": "Chart club",
    "section": "Loading Packages",
    "text": "Loading Packages\nWe load quantmod for retrieving financial data.\n\n\nCode\nlibrary(quantmod)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#sourcing-the-data-1",
    "href": "Plot/5 chart club.html#sourcing-the-data-1",
    "title": "Chart club",
    "section": "Sourcing the Data",
    "text": "Sourcing the Data\nWe use the getSymbols() function from quantmod to retrieve the historical data for the S&P 500 index (^GSPC).\n\n\nCode\nbeginning &lt;- as.Date(\"2025-01-01\")\nending &lt;- Sys.Date()\n\nsandp &lt;- getSymbols(\"^GSPC\", auto.assign = FALSE) %&gt;% \n  as_tibble(rownames = \"date\") %&gt;% \n  select(date, close = GSPC.Close) %&gt;% \n  mutate(date = parse_date(date), \n         week = isoweek(date), \n         year = year(date)) %&gt;% \n  filter((date &gt;= beginning - 7 & date &lt;= ending) & \n           ((year == 2024 & week == 52) | year == 2025)) %&gt;% \n  nest(weekly = -c(week, year)) %&gt;% \n  mutate(\n    weekly_close = map_dbl(weekly, \n                           ~slice_max(.x, order_by = date) %&gt;% pull(close)), \n    prev_weekly_close = lag(weekly_close), \n    weekly_loss = weekly_close &lt; prev_weekly_close) %&gt;% \n  drop_na(prev_weekly_close) %&gt;% \n  unnest(weekly)\n\nrectangles &lt;- sandp %&gt;% \n  summarize(first = min(date), \n            last = max(date), \n            weekly_loss = unique(weekly_loss), .by = c(week, year)) %&gt;% \n  select(first, last, weekly_loss)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#creating-the-chart-1",
    "href": "Plot/5 chart club.html#creating-the-chart-1",
    "title": "Chart club",
    "section": "Creating the Chart",
    "text": "Creating the Chart\nWe create a line chart of the S&P 500 closing price and use geom_rect to highlight the weeks with losses.\n\n\nCode\nmonth_label &lt;- sandp %&gt;% \n  filter(day(date) &lt;= 7) %&gt;% \n  distinct(month = month(date, label = TRUE), year, date) %&gt;% \n  group_by(month, year) %&gt;% \n  filter(date == min(date)) %&gt;% \n  ungroup()\n\ngap &lt;- 0.005\nymax &lt;- (1 + gap) * max(sandp$close)\nymin &lt;- (1 - gap) * min(sandp$close) \nmonth_y &lt;- ymin * 0.97\n\ngg &lt;- sandp %&gt;% \n  ggplot(aes(x = date, y = close, group = week)) + \n  geom_rect(data = rectangles, \n            aes(xmin = first, xmax = last, \n                ymin = ymin, ymax = ymax, fill = weekly_loss), \n            inherit.aes = FALSE) + \n  geom_hline(yintercept = seq(5100, 6100, 200), \n             color = \"gray80\", linewidth = 0.2) + \n  geom_line(color = \"#016C90\", linewidth = 0.75) + \n  geom_point(color = \"#016C90\") + \n  geom_text(data = month_label, \n            aes(x = date, y = month_y, label = paste0(month, \" \", year - 2000)), inherit.aes = FALSE, \n            family = \"franklin\", size = 9, size.unit = \"pt\") + \n  labs(\n    title = \"Investors recoil from Trump's pledge to remake the\\nglobal economy.\", \n    subtitle = \"&lt;span style = 'color:#F6904C'&gt;**Orange bars**&lt;/span&gt; indicate weekly losses from end of previous week.\", \n    caption = \"Source: Yahoo\"\n  ) + \n  scale_fill_manual(\n    breaks = c(TRUE, FALSE), \n    values = c(\"#FDE3D4\", \"#E9F0F3\")\n  ) + \n  coord_cartesian(expand = FALSE, clip = \"off\", \n                  ylim = c(ymin, ymax)) + \n  scale_y_continuous(breaks = seq(5100, 6100, 200), \n                     labels = scales::label_number(big.mark = \",\")) + \n  scale_x_date(limits = c(min(sandp$date) - 2, max(sandp$date) + 2), \n               breaks = seq(as.Date(\"2025-01-06\"), max(sandp$date), 14), \n               date_labels = \"%e\") + \n  theme(\n    text = element_text(family = \"franklin\"), \n    panel.grid = element_blank(), \n    panel.background = element_blank(), \n    legend.position = \"none\", \n    plot.title.position = \"plot\", \n    plot.title = element_text(family = \"domine\", size = 16, face = \"bold\", \n                              lineheight = 1.2), \n    plot.subtitle = element_markdown(family = \"domine\", size = 10, \n                                     color = \"gray30\", \n                                     margin = margin(t = 23, b = 19)), \n    plot.caption.position = \"plot\", \n    plot.caption = element_text(hjust = 0, size = 8, color = \"gray30\", \n                                margin = margin(t = 29)), \n    plot.margin = margin(t = 8, r = 10, b = 8, l = 7), \n    axis.title = element_blank(), \n    axis.ticks = element_blank(), \n    axis.text.x = element_text(margin = margin(t = 3))\n  )\ngg\n\n\n\n\n\n\n\n\n\n\nSaving the Chart\n\n\nCode\nggsave(\"sandp500_weekly.png\", width = 6, height = 5.17)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#resources-1",
    "href": "Plot/5 chart club.html#resources-1",
    "title": "Chart club",
    "section": "Resources",
    "text": "Resources\n\nRiffomonas Code Club: S&P 500 Weekly Chart\nYouTube Tutorial: Creating this chart",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#loading-packages-2",
    "href": "Plot/5 chart club.html#loading-packages-2",
    "title": "Chart club",
    "section": "Loading Packages",
    "text": "Loading Packages\nWe use the tabulapdf package to extract tables from a PDF document.\n\n\nCode\nlibrary(tabulapdf)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#sourcing-the-data-2",
    "href": "Plot/5 chart club.html#sourcing-the-data-2",
    "title": "Chart club",
    "section": "Sourcing the Data",
    "text": "Sourcing the Data\nThe data for this chart is sourced from a PDF document from the Center on Budget and Policy Priorities.\n\n\nCode\n# Function to create the waffle data\nwaffler &lt;- function(d, n_rows = 7){  \n  n_cols &lt;- ceiling(sum(d$billions) / n_rows)\n  n_na &lt;- n_cols * n_rows - sum(d$billions)\n  \n  d &lt;- uncount(d, billions) %&gt;% \n    arrange(budget) \n  \n  if(n_na != 0) {\n    d &lt;- bind_rows(d, tibble(budget = rep(NA, n_na)))\n  }\n  \n  bind_cols(d, expand_grid(col = 1:n_cols, row = 1:n_rows))\n}\n\nscale_factor &lt;- 5 # $billions\nnrows &lt;- 5\n\n# Extract table from PDF\nout &lt;- extract_tables('./data/60870-By-the-Numbers.pdf')\npdf_data &lt;- out[[1]] |&gt; janitor::clean_names()\n\npdf_data002 &lt;- pdf_data[-c(1, 2), ] \npdf_data003 &lt;- pdf_data002 |&gt; separate_wider_delim(cols = x6, delim = \" \", names = c(\"left\", \"right\"), too_few = \"debug\")\npdf_data004 &lt;- pdf_data003 |&gt; \n  select(name = the_budget_outlook_by_fiscal_year, right) |&gt; \n  filter(name %in% c(\"Social Security\", \"Medicare\", 'Medicaid, CHIP, and marketplace subsidies', 'Defense', 'Nondefense', 'Other mandatory')) |&gt; \n  mutate(\n    new_name = case_when(\n      name == \"Social Security\" ~ \"social_security\",\n      name == \"Medicare\" ~ \"medicare\",\n      name == \"Medicaid, CHIP, and marketplace subsidies\" ~ \"medicaid\",\n      name == \"Defense\" ~ \"defense\",\n      name == \"Nondefense\" ~ \"nondefense\",\n      name == \"Other mandatory\" ~ \"other_benefits\"\n    ),\n    order = case_when(\n      name == \"Nondefense\" ~ 1,\n      name == \"Defense\" ~ 2,\n      name == \"Medicaid, CHIP, and marketplace subsidies\" ~ 3,\n      name == \"Medicare\" ~ 5,\n      name == \"Social Security\"  ~ 6\n    )\n  ) |&gt; \n  arrange(order) |&gt; \n  select(category = new_name, billions = right)\n\nbudget0 &lt;- tribble(\n  ~percent_cut, ~pretty,\n  16, \"**Nondefense discretionary funding**&lt;br&gt;&lt;span style='color:gray40;font-size:8pt;'&gt;Federal programs, contracts, grants and employment&lt;/span&gt;\",\n  16, \"**Defense**\",\n  16, \"**Medicaid, Obamacare, CHIP**&lt;br&gt;&lt;span style='color:gray40;font-size:8pt;'&gt;CHIP is Children's Health Insurance Program&lt;/span&gt;\",\n  16, \"**Other benefits to individuals**&lt;br&gt;&lt;span style='color:gray40;font-size:8pt;'&gt;Anti-poverty programs, farm aid, military retirement, other \\\"mandatory\\\" spending&lt;/span&gt;\",\n  16, \"**Medicare**\",\n  16, \"**Social Security**\"\n)\n\nbudget &lt;- cbind(pdf_data004, budget0) |&gt; \n  mutate(billions = billions |&gt; str_remove_all(\",\") |&gt; as.numeric(),\n         bill_cut = billions * percent_cut / 100,\n         bill_remain = billions - bill_cut,\n         category = factor(category, levels = category)\n  )",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#creating-the-chart-2",
    "href": "Plot/5 chart club.html#creating-the-chart-2",
    "title": "Chart club",
    "section": "Creating the Chart",
    "text": "Creating the Chart\nWe use geom_tile to create the waffle chart, with each tile representing $5 billion in spending.\n\n\nCode\ndata &lt;- budget %&gt;% \n  select(category, cut = bill_cut, remain = bill_remain) %&gt;% \n  pivot_longer(-category, values_to = \"billions\", names_to = \"budget\") %&gt;% \n  mutate(billions = round(billions / scale_factor, digits = 0), \n         budget = factor(budget, levels = c(\"remain\", \"cut\"))) %&gt;% \n  nest(data = -category) %&gt;% \n  mutate(waffle = map(data, waffler, n_row = nrows)) %&gt;% \n  select(category, waffle) %&gt;% \n  unnest(waffle)\n\npretty_labels &lt;- pull(budget, pretty)\nnames(pretty_labels) &lt;- pull(budget, category)\n\npretty_cut &lt;- budget %&gt;% \n  mutate(y = nrows, \n         x = ceiling(max(billions) / scale_factor / nrows), \n         label = paste0(percent_cut, \"% cut\")) %&gt;% \n  select(category, x, y, label)\n\ngg &lt;- data %&gt;% \n  ggplot(aes(x = col, y = row, fill = budget)) + \n  geom_tile(color = \"white\", linewidth = 0.3, show.legend = FALSE) + \n  geom_point(data = tibble(category = factor(\"social_security\"), \n                           col = 1, row = -2, \n                           budget = \"remain\"), \n             shape = \"square\", color = \"#9E9E9E\", size = 2, \n             show.legend = FALSE) + \n  geom_text(data = tibble(category = factor(\"social_security\"), \n                          col = 2, row = -2, \n                          budget = \"remain\"), \n            label = \"Each box represents $5 billion in projected fiscal year 2026 spending. Defense and nondefense\\ndiscretionary amounts represent budget authority.\", \n            color = \"#9E9E9E\", family = \"franklin\", size = 8, size.unit = \"pt\", \n            hjust = 0, vjust = 0.8, lineheight = 1, show.legend = FALSE) + \n  geom_text(data = pretty_cut, \n            aes(x = x, y = y, label = label), \n            hjust = 0.95, vjust = -0.8, \n            family = \"franklin\", fontface = \"bold\", \n            size = 10, size.unit = \"pt\", color = \"#FC1F76\", \n            inherit.aes = FALSE) + \n  facet_wrap(vars(category), ncol = 1, \n             labeller = labeller(category = pretty_labels)) + \n  labs(\n    title = \"How to reach $1 trillion &lt;span style='color:#FC1F76;'&gt;if Social Security and Medicare are added as equal cuts:&lt;/span&gt;\", \n    caption = \"Source: Analysis of Congressional Budget Office data by Richard Kogan, Center on Budget and Policy Priorities • Note: Interest payments on the federal debt are not shown. • The New York Times\"\n  ) + \n  scale_fill_manual(\n    breaks = c(\"remain\", \"cut\"), \n    values = c(\"#9E9E9E\", \"#FFADC9\"), na.value = \"#FFFFFF\"\n  ) + \n  coord_cartesian(expand = FALSE, clip = \"off\") + \n  theme(\n    text = element_text(family = \"franklin\"), \n    panel.grid = element_blank(), \n    panel.background = element_blank(), \n    axis.title = element_blank(), \n    axis.text = element_blank(), \n    axis.ticks = element_blank(), \n    plot.title = element_textbox_simple(face = \"bold\", size = 14, \n                                        margin = margin(b = 10)), \n    plot.caption = element_textbox_simple(color = \"gray40\", size = 8.5, \n                                          lineheight = 1.3, \n                                          margin = margin(t = 20, b = 5)), \n    strip.text = element_markdown(hjust = 0, size = 10, lineheight = 1, \n                                  margin = margin(0, 0, 2, 0)), \n    strip.background = element_blank(), \n    panel.spacing.y = unit(-10, \"pt\")\n  )\ngg\n\n\n\n\n\n\n\n\n\n\nSaving the Chart\n\n\nCode\nggsave(\"budget_waffle.png\", width = 6, height = 6.4)",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/5 chart club.html#resources-2",
    "href": "Plot/5 chart club.html#resources-2",
    "title": "Chart club",
    "section": "Resources",
    "text": "Resources\n\nRiffomonas Code Club: Waffle Chart\nYouTube Tutorial: Creating this chart",
    "crumbs": [
      "Plot",
      "Chart club"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html",
    "href": "Plot/Map/1 leaflet.html",
    "title": "Interactive Maps with Leaflet in R",
    "section": "",
    "text": "This document provides a comprehensive guide to creating interactive maps using the leaflet package in R. We will explore various features of leaflet, from basic map creation to advanced customizations like adding markers, popups, and choropleth layers. This guide is intended for users who have a basic understanding of R and are interested in data visualization and geospatial analysis.",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#loading-geospatial-and-gdp-data",
    "href": "Plot/Map/1 leaflet.html#loading-geospatial-and-gdp-data",
    "title": "Interactive Maps with Leaflet in R",
    "section": "8.1 Loading Geospatial and GDP Data",
    "text": "8.1 Loading Geospatial and GDP Data\nWe’ll start by loading the world administrative boundaries from a GeoJSON file and then merge it with per capita GDP data from an Excel file.\n\n\nCode\n# The maptools package is now archived, so we are not using it.\n# install.packages(\"https://cran.r-project.org/src/contrib/Archive/maptools/maptools_1.1-8.tar.gz\")\n\n\n\n\nCode\n# Read the world administrative boundaries from a GeoJSON file.\njson_data=read_sf(\"world-administrative-boundaries.geojson\")\n\n\n\n\nCode\n# Convert the sf object to a data frame.\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\n# This is an example of how you could create a data frame manually.\n# name&lt;-c(\"Ghana\", \"Grenada\", \"Guyana\", \"India\", \"Jamaica\", \"Kenya\", \"United States\",\"Canada\")\n# val&lt;-c(1,2,4,5,5,1000,20000, 100)\n# per_gdp_usd&lt;-data.frame(name,val)\n\n\n\n\nCode\n# Load the openxlsx and readxl packages for reading Excel files.\nlibrary(openxlsx)\nlibrary(readxl)\n\n# Read the world GDP data from an Excel file and clean up the country names to match the GeoJSON data.\nper_gdp_usd=read_excel('world data.xlsx') %&gt;% mutate(\n  name=case_when(\n    name == \"United States\" ~ \"United States of America\",\n    name == \"Russia\" ~ \"Russian Federation\",\n    name == \"U.K. of Great Britain and Northern Ireland\" ~ \"United Kingdom\",\n    name == \"South Korea\"~ \"Republic of Korea\",\n    name == \"Lao People's Democratic Republic\" ~ \"Laos\",\n    TRUE ~ name\n  )\n)",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#merging-and-preparing-the-data",
    "href": "Plot/Map/1 leaflet.html#merging-and-preparing-the-data",
    "title": "Interactive Maps with Leaflet in R",
    "section": "8.2 Merging and Preparing the Data",
    "text": "8.2 Merging and Preparing the Data\nWe’ll merge the geospatial data with the GDP data and convert it back to an sf object.\n\n\nCode\n# These lines are for debugging and checking the data.\n# test=full_join(map_df, per_gdp_usd, by=\"name\")\n# left =test %&gt;% filter(is.na(iso3)==TRUE)\n# right=test %&gt;% filter(is.na(per_gdp_total)==TRUE)\n\n\n\n\nCode\n# Merge the map data frame with the GDP data frame by country name.\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"name\")\n\n\n\n\nCode\n# Get a glimpse of the merged data frame.\nglimpse(map_df002)\n\n\nRows: 158\nColumns: 12\n$ name                     &lt;chr&gt; \"Albania\", \"Algeria\", \"Andorra\", \"Angola\", \"A…\n$ geo_point_2d             &lt;chr&gt; \"{ \\\"lon\\\": 20.068384605918776, \\\"lat\\\": 41.1…\n$ iso3                     &lt;chr&gt; \"ALB\", \"DZA\", \"AND\", \"AGO\", \"ARG\", \"ARM\", \"AU…\n$ status                   &lt;chr&gt; \"Member State\", \"Member State\", \"Member State…\n$ color_code               &lt;chr&gt; \"ALB\", \"DZA\", \"AND\", \"AGO\", \"ARG\", \"ARM\", \"AU…\n$ continent                &lt;chr&gt; \"Europe\", \"Africa\", \"Europe\", \"Africa\", \"Amer…\n$ region                   &lt;chr&gt; \"Southern Europe\", \"Northern Africa\", \"Southe…\n$ iso_3166_1_alpha_2_codes &lt;chr&gt; \"AL\", \"DZ\", \"AD\", \"AO\", \"AR\", \"AM\", \"AU\", \"AT…\n$ french_short             &lt;chr&gt; \"Albanie\", \"Algérie\", \"Andorre\", \"Angola\", \"A…\n$ geometry                 &lt;MULTIPOLYGON [°]&gt; MULTIPOLYGON (((20.07142 42..., …\n$ per_gdp_total            &lt;dbl&gt; 1.888210e+10, 1.919130e+11, 3.352033e+09, 1.0…\n$ per_gdp_usd              &lt;dbl&gt; 6643, 4274, 41993, 2999, 13904, 7014, 64003, …\n\n\n\n\nCode\n# Convert the merged data frame back to an sf object.\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#creating-the-choropleth-map",
    "href": "Plot/Map/1 leaflet.html#creating-the-choropleth-map",
    "title": "Interactive Maps with Leaflet in R",
    "section": "8.3 Creating the Choropleth Map",
    "text": "8.3 Creating the Choropleth Map\nNow we can create the choropleth map.\n\n\nCode\n# Create a color palette for the choropleth map.\npal &lt;- colorNumeric(\"viridis\", NULL)\n\n# Create the leaflet map.\nleaflet(map_sf002) %&gt;%\n  addTiles() %&gt;%\n  # Add polygons to the map, representing the countries.\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    # Set the fill color based on the per capita GDP.\n    fillColor = ~ pal(per_gdp_usd),\n    # Create a popup with information about the country.\n    popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_gdp_usd, \"（千 美元）\", \"&lt;br/&gt;\"\n    ),\n    # Create a label with more detailed information.\n     label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", round(map_sf002$per_gdp_usd/1000), \"K &lt;br/&gt;\",\n       \"总gpd 美元：\", round(map_sf002$per_gdp_total/1000000), \"M &lt;br/&gt;\"\n    ), htmltools::HTML)\n    ) %&gt;%\n  # Add a legend to the map.\n  addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_gdp_usd, opacity = 1.0\n    )",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#china-one-city-map-shenzhen",
    "href": "Plot/Map/1 leaflet.html#china-one-city-map-shenzhen",
    "title": "Interactive Maps with Leaflet in R",
    "section": "9.1 China One City Map (Shenzhen)",
    "text": "9.1 China One City Map (Shenzhen)\nHere, we’ll create a map of Shenzhen.\n\n\nCode\n# Read the GeoJSON data for Shenzhen.\njson_data &lt;- sf::read_sf(\"./GeoMapData_CN/citys/440300.json\")\n# You can also load the data directly from a URL.\n# json_data=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/440300_full.json\")\n\n\nShenzhen City: ::: {.cell}\n\nCode\n# Create a color palette.\npal &lt;- colorNumeric(\"viridis\", NULL)\n\n# Create the map of Shenzhen.\nleaflet(json_data) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.1)\n\n\n\n\n\n:::",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#all-china-each-province-gdp-map",
    "href": "Plot/Map/1 leaflet.html#all-china-each-province-gdp-map",
    "title": "Interactive Maps with Leaflet in R",
    "section": "9.2 All China Each Province GDP Map",
    "text": "9.2 All China Each Province GDP Map\nNext, we’ll create a choropleth map of China’s provinces, colored by their per capita GDP in 2022.\n\n\nCode\n# Read the GeoJSON data for China's provinces.\njson_data=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/100000_full.json\")\n\n\nChina 2022 Per Capita GDP by Province (USD):\n\n\nCode\n# Load the openxlsx and readxl packages.\nlibrary(openxlsx)\nlibrary(readxl)\n# Read the GDP data for China's provinces.\nper_gdp_usd=read_excel('china gdp2022.xlsx')\n\n\n\n\nCode\n# Convert the sf object to a data frame.\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\n# Merge the map data with the GDP data.\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"city\")\n\n\n\n\nCode\n# Convert the merged data frame back to an sf object.\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")\n\n\n\n\nCode\n# Create a color palette.\npal &lt;- colorNumeric(\"viridis\", NULL)\n\n# Create the choropleth map of China's provinces.\nleaflet(map_sf002) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(per_gpd_usd),\n    popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_gpd_usd, \"（美万）\", \"&lt;br/&gt;\"\n    ),\n     label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", map_sf002$per_gpd_usd, \"&lt;br/&gt;\",\n      \"人均gpd 人民币：\", map_sf002$per_gpd_rmb, \"&lt;br/&gt;\",\n       \"人口：\", round(map_sf002$total_gpd_rmb/map_sf002$per_gpd_rmb), \"&lt;br/&gt;\"\n    ), htmltools::HTML)\n    ) %&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_gpd_usd, opacity = 1.0\n    )\n\n\n\n\n\n\nGDP data source: National Bureau of Statistics of China",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#china-one-province-map-with-each-citys-gdp-guangdong",
    "href": "Plot/Map/1 leaflet.html#china-one-province-map-with-each-citys-gdp-guangdong",
    "title": "Interactive Maps with Leaflet in R",
    "section": "9.3 China One Province Map with Each City’s GDP (Guangdong)",
    "text": "9.3 China One Province Map with Each City’s GDP (Guangdong)\nHere, we’ll create a choropleth map of Guangdong province, with each city colored by its per capita GDP in 2021.\n\n\nCode\n# Read the GeoJSON data for Guangdong province.\njson_data &lt;- sf::read_sf(\"./GeoMapData_CN/province/440000.json\")\n\n\nGuangdong 2021 Per Capita GDP by City (USD):\n\n\nCode\n# Load the openxlsx and readxl packages.\nlibrary(openxlsx)\nlibrary(readxl)\n# Read the GDP data for Guangdong's cities.\nper_gdp_usd=read_excel('guangdong city gdp2021.xlsx')\n\n\n\n\nCode\n# Convert the sf object to a data frame.\nmap_df &lt;- as.data.frame(json_data)\n\n\n\n\nCode\n# Merge the map data with the GDP data.\nmap_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"city\")\n\n\n\n\nCode\n# Convert the merged data frame back to an sf object.\nmap_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")\n\n\nData source: Guangdong Statistical Yearbook 2022 ::: {.cell}\n\nCode\n# Create a color palette.\npal &lt;- colorNumeric(\"viridis\", NULL)\n\n# Create the choropleth map of Guangdong province.\nleaflet(map_sf002) %&gt;%\n  addTiles() %&gt;%\n  addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(per_gpd_usd),\n    popup = ~ paste0(\n      \"城市：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", per_gpd_usd, \"（美万）\", \"&lt;br/&gt;\"\n    ),\n     label = lapply(paste0(\n      \"城市：\", \"&lt;b&gt;\", map_sf002$name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", map_sf002$per_gpd_usd, \"&lt;br/&gt;\",\n      \"人均gpd 人民币：\", map_sf002$per_gpd_rmb, \"&lt;br/&gt;\",\n       \"人口：\", round(map_sf002$total_gpd_rmb*10000000/map_sf002$per_gpd_rmb), \"&lt;br/&gt;\"\n    ), htmltools::HTML)\n    ) %&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~per_gpd_usd, opacity = 1.0\n    )\n\n\n\n\n\n:::\nhttps://zh.wikipedia.org/wiki/%E5%B9%BF%E4%B8%9C%E5%90%84%E5%9C%B0%E7%BA%A7%E5%B8%82%E5%9C%B0%E5%8C%BA%E7%94%9F%E4%BA%A7%E6%80%BB%E5%80%BC%E5%88%97%E8%A1%A8",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/1 leaflet.html#add-provincial-capitals",
    "href": "Plot/Map/1 leaflet.html#add-provincial-capitals",
    "title": "Interactive Maps with Leaflet in R",
    "section": "10.1 Add Provincial Capitals",
    "text": "10.1 Add Provincial Capitals\nNow, let’s add the provincial capitals to the map.\n\n\nCode\n# Read the GeoJSON data for China's provinces.\nChina=read_sf(\"https://geo.datav.aliyun.com/areas_v2/bound/100000_full.json\")\n\n\n\n\nCode\n# Extract the coordinates of the provincial capitals.\nChina002=China %&gt;% as_data_frame() %&gt;% mutate(\n                                            center2=as.character(center) %&gt;% str_replace('c','_')%&gt;% str_replace('[(]','') %&gt;% str_replace('[)]','')\n                                               )\n\n\n\n\nCode\n# Separate the coordinates into x and y columns.\nChina003=China002%&gt;%separate(center2, c(\"x\", \"y\"), \", \")\n\n\n\n\nCode\n# Add the provincial capitals to the map.\nChina_point = China003 %&gt;%\n  slice(-35)\n\nm %&gt;%\n  addCircles(data = China_point,\n                  lng = ~as.numeric(x), lat = ~as.numeric(y),color = \"red\",weight = 10,\n                  fillOpacity =2)",
    "crumbs": [
      "Plot",
      "Map",
      "Interactive Maps with Leaflet in R"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html",
    "href": "Plot/Map/2 China accident map with mapview.html",
    "title": "China accident map",
    "section": "",
    "text": "This document demonstrates how to create an interactive map of accidents in China using the mapview package in R. The data is sourced from the chinese_incident_tracker GitHub repository, which contains a collection of incident reports.",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#loading-a-single-file",
    "href": "Plot/Map/2 China accident map with mapview.html#loading-a-single-file",
    "title": "China accident map",
    "section": "1.1 Loading a Single File",
    "text": "1.1 Loading a Single File\nWe start by loading a single JSON file to understand its structure.\n\n\nCode\n# You can uncomment these lines to download the file from the URL.\n# url &lt;- \"https://raw.githubusercontent.com/percent4/chinese_incident_tracker/main/elk/data/00105670-df53-4be8-9039-8a07fe2d2b4d.json\"\n# download.file(url,\"./data/SAFI.json\", mode = \"wb\")\n\n\n\n\nCode\n# Read the JSON file into a list.\ndata001 &lt;- read_json(\"./data/SAFI.json\")\n\n\n\n\nCode\n# Convert the list to a data frame and rename the coordinate columns.\ndata002=data001 %&gt;% as.data.frame()\ncolnames(data002)[14] = \"latitude\"\ncolnames(data002)[15] = \"longitude\"\n# Get a glimpse of the data frame.\nglimpse(data002)\n\n\nRows: 1\nColumns: 22\n$ item_id            &lt;chr&gt; \"00105670-df53-4be8-9039-8a07fe2d2b4d\"\n$ news_channel       &lt;chr&gt; \"新闻坊\"\n$ title              &lt;chr&gt; \"一养老院突发火灾，已致3死10伤！\"\n$ report             &lt;chr&gt; \"4月4日\\n\\n“东莞应急管理”\\n\\n发布情况通报\\n\\n↓↓↓\\n\\n4月4日4时21分，东莞万…\n$ original_websites  &lt;chr&gt; \"https://mp.weixin.qq.com/s/xUZR8gZ_N0UqGj0GvH6L8A\"\n$ start_date         &lt;chr&gt; \"2024-04-04\"\n$ start_time         &lt;chr&gt; \"2024-04-04 04:21:00\"\n$ update_time        &lt;chr&gt; \"2024-05-03 10:50:01\"\n$ incident_type      &lt;chr&gt; \"火灾\"\n$ incident_reason    &lt;chr&gt; \"该建筑为一栋11层楼房，起火部位为第三层303房，过火面积约20平方米。\"…\n$ person_death_num   &lt;int&gt; 3\n$ person_injury_num  &lt;int&gt; 10\n$ person_missing_num &lt;int&gt; 0\n$ latitude           &lt;dbl&gt; 113.6952\n$ longitude          &lt;dbl&gt; 23.07464\n$ place              &lt;chr&gt; \"东莞万江街道康怡护理院（公助民办养老院）\"\n$ province           &lt;chr&gt; \"广东省\"\n$ city               &lt;chr&gt; \"东莞市\"\n$ county             &lt;chr&gt; \"\"\n$ town               &lt;chr&gt; \"万江街道\"\n$ village            &lt;chr&gt; \"\"\n$ is_final           &lt;lgl&gt; TRUE",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#loading-all-files",
    "href": "Plot/Map/2 China accident map with mapview.html#loading-all-files",
    "title": "China accident map",
    "section": "1.2 Loading All Files",
    "text": "1.2 Loading All Files\nNow, we will load all the JSON files from the repository.\n\n\nCode\n# You can uncomment these lines to download the entire repository as a zip file.\n# url=\"https://github.com/percent4/chinese_incident_tracker/archive/refs/heads/main.zip\"\n# download.file(url,\"./data/data.zip\", mode = \"wb\")\n\n\n\n\nCode\n# You can uncomment this line to unzip the downloaded file.\n# unzip(\"./data/data.zip\",exdir=\"./data/out\")\n\n\n\n\nCode\n# Copy the JSON files from the unzipped folder to a new folder.\nfrom &lt;- \"./data/out/chinese_incident_tracker-main/elk/data\"\nto   &lt;- \"./data/json_folder\"\nfile.copy(list.files(from, full.names = TRUE), \n          to, \n          recursive = TRUE)\n\n\n [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[16] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[31] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n[46] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE\n\n\n\n\nCode\n# You can uncomment this line to list the files in the new folder.\n# list.files(\"./data/json_folder\")\n\n\n\n\nCode\n# Create an empty tibble to store all the data.\nall_data=tibble()\n\n# Loop through each JSON file in the folder.\nfor (i in list.files(\"./data/json_folder\")) {\n  # Read the JSON file.\n  data001=read_json(paste0(\"./data/json_folder/\",i))\n  # Convert the list to a data frame.\n  data002=data001 %&gt;% as.data.frame()\n  # Rename the coordinate columns.\n  colnames(data002)[14] = \"Longitude\"\n  colnames(data002)[15] = \"Latitude\"\n  # Bind the data to the main tibble.\n  all_data=rbind(all_data,data002)\n}\n\n\n\n\nCode\n# Create a text column for the map labels and a month_year column for charting.\nall_data=all_data %&gt;% mutate(text=paste0(incident_type,\" \",\"死亡人数:\",person_death_num,\" 受伤人数:\",person_injury_num)\n                             ,month_year= format_ISO8601(ymd(start_date), precision = \"ym\")\n                             )\n\n\n\n\nCode\n# Get a glimpse of the final data frame.\nglimpse(all_data)\n\n\nRows: 60\nColumns: 24\n$ item_id            &lt;chr&gt; \"00105670-df53-4be8-9039-8a07fe2d2b4d\", \"0683ba1e-7…\n$ news_channel       &lt;chr&gt; \"新闻坊\", \"中国新闻网\", \"凤凰网\", \"搜狐网\", \"每日经济新闻\", \"中国新闻网\", \"杭…\n$ title              &lt;chr&gt; \"一养老院突发火灾，已致3死10伤！\", \"江西于都一矿企发生事故 致3死2伤\", \"#云南镇雄突发山…\n$ report             &lt;chr&gt; \"4月4日\\n\\n“东莞应急管理”\\n\\n发布情况通报\\n\\n↓↓↓\\n\\n4月4日4时21分，东莞万…\n$ original_websites  &lt;chr&gt; \"https://mp.weixin.qq.com/s/xUZR8gZ_N0UqGj0GvH6L8A\"…\n$ start_date         &lt;chr&gt; \"2024-04-04\", \"2024-04-24\", \"2024-01-22\", \"2024-02-…\n$ start_time         &lt;chr&gt; \"2024-04-04 04:21:00\", \"2024-04-24 00:08:48\", \"2024…\n$ update_time        &lt;chr&gt; \"2024-05-03 10:50:01\", \"2024-05-03 00:08:48\", \"2024…\n$ incident_type      &lt;chr&gt; \"火灾\", \"溃水\", \"山体滑坡\", \"房屋坍塌\", \"燃气爆炸\", \"火灾\", \"摔伤\", \"摔伤…\n$ incident_reason    &lt;chr&gt; \"该建筑为一栋11层楼房，起火部位为第三层303房，过火面积约20平方米。\", \"企业清理排洪隧洞时溃…\n$ person_death_num   &lt;int&gt; 3, 3, 44, 1, 7, 4, 1, 1, 7, 1, 18, 4, 5, 1, 15, 12,…\n$ person_injury_num  &lt;int&gt; 10, 2, 2, 0, 27, 4, 0, 0, 0, 11, 1155, 0, 3, 2, 44,…\n$ person_missing_num &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 6, 0, …\n$ Longitude          &lt;dbl&gt; 113.69524, 115.32158, 104.95514, 113.28304, 116.808…\n$ Latitude           &lt;dbl&gt; 23.07464, 25.72126, 27.49063, 32.22574, 39.95258, 4…\n$ place              &lt;chr&gt; \"东莞万江街道康怡护理院（公助民办养老院）\", \"于都县龙鑫矿业有限公司选矿厂\", \"云南省昭通市镇雄…\n$ province           &lt;chr&gt; \"广东省\", \"江西省\", \"云南省\", \"湖北省\", \"河北省\", \"内蒙古自治区\", \"新疆维吾尔…\n$ city               &lt;chr&gt; \"东莞市\", \"赣州市\", \"昭通市\", \"随州市\", \"廊坊市\", \"呼和浩特市\", \"伊犁哈萨克自…\n$ county             &lt;chr&gt; \"\", \"于都县\", \"镇雄县\", \"随县\", \"三河市\", \"新城区\", \"富蕴县\", \"富蕴县\",…\n$ town               &lt;chr&gt; \"万江街道\", \"祁禄山镇\", \"塘房镇\", \"万和镇\", \"燕郊镇\", \"\", \"\", \"\", \"宁…\n$ village            &lt;chr&gt; \"\", \"金沙村\", \"\", \"\", \"小张各庄\", \"\", \"\", \"\", \"乔家沟\", \"\", \"…\n$ is_final           &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRU…\n$ text               &lt;chr&gt; \"火灾 死亡人数:3 受伤人数:10\", \"溃水 死亡人数:3 受伤人数:2\", \"山体滑坡 死亡人数…\n$ month_year         &lt;chr&gt; \"2024-04\", \"2024-04\", \"2024-01\", \"2024-02\", \"2024-0…\n\n\n\n\nCode\n# You can uncomment this line to save the data to an Excel file.\n# write.xlsx(all_data,'all_data.xlsx')",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#grouping-by-month",
    "href": "Plot/Map/2 China accident map with mapview.html#grouping-by-month",
    "title": "China accident map",
    "section": "2.1 Grouping by Month",
    "text": "2.1 Grouping by Month\nWe’ll group the data by month and summarize the number of deaths and injuries.\n\n\nCode\n# Group the data by month_year and summarize the number of deaths and injuries.\nchartdata001=all_data %&gt;% group_by(month_year)  %&gt;%  summarise(person_death_num=sum(person_death_num)\n                                                           ,person_injury_num=sum(person_injury_num)\n                                                           )",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#reshaping-the-data",
    "href": "Plot/Map/2 China accident map with mapview.html#reshaping-the-data",
    "title": "China accident map",
    "section": "2.2 Reshaping the Data",
    "text": "2.2 Reshaping the Data\nWe’ll reshape the data from a wide format to a long format for easier plotting.\n\n\nCode\n# Reshape the data from wide to long format.\nchartdata002=chartdata001 %&gt;%select(month_year,person_death_num,person_injury_num) %&gt;% \n  pivot_longer(!c(month_year), names_to = 'type', values_to = 'DATA')",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/2 China accident map with mapview.html#creating-the-charts",
    "href": "Plot/Map/2 China accident map with mapview.html#creating-the-charts",
    "title": "China accident map",
    "section": "2.3 Creating the Charts",
    "text": "2.3 Creating the Charts\nWe’ll create a bar chart of the number of deaths per month and a grouped bar chart of both deaths and injuries.\n\n\nCode\n# Create a bar chart of the number of deaths per month.\ngg=ggplot(chartdata001, aes(x=month_year, y=person_death_num,label = person_death_num))+\n  geom_bar(stat=\"identity\",fill='red')+ geom_text(vjust = -1,\n              position = position_dodge(width = 0.9))+ theme_bw()\n\n# Convert the ggplot object to a plotly object for interactivity.\nggplotly(gg)\n\n\n\n\n\n\n\n\nCode\n# Create a grouped bar chart of the number of deaths and injuries per month.\ngg=ggplot(chartdata002, aes(fill=type, y=DATA, x=month_year)) +\n    geom_col(position = \"dodge\") +\n    geom_text(aes(label = DATA), vjust = 1.5,\n              position = position_dodge(width = 0.9))+scale_y_log10()+ theme_light()\n\n# Convert the ggplot object to a plotly object.\npp=ggplotly(gg)\n\n# Display the plotly object.\npp",
    "crumbs": [
      "Plot",
      "Map",
      "China accident map"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html#loading-geospatial-and-gdp-data",
    "href": "Plot/Map/3 leaflet US.html#loading-geospatial-and-gdp-data",
    "title": "US State GDP Map",
    "section": "1.1 Loading Geospatial and GDP Data",
    "text": "1.1 Loading Geospatial and GDP Data\nWe will load the US states geospatial data from a GeoJSON file and the GDP data from an Excel file.\n{ r} # Load the US states map data from the maps package. library(maps) mapStates = map(\"state\", fill = TRUE, plot = FALSE)\nUS location data: { r} # Read the US states GeoJSON file. json_data=read_sf(\"us-states.json\")\n{ r} # Convert the sf object to a data frame. map_df &lt;- as.data.frame(json_data)\n{ r} # Get a glimpse of the mapStates data. glimpse(mapStates)\nUS 2022 GDP data:\n```{ r} # Load the openxlsx and readxl packages for reading Excel files. library(openxlsx) library(readxl)",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html#merging-and-preparing-the-data",
    "href": "Plot/Map/3 leaflet US.html#merging-and-preparing-the-data",
    "title": "US State GDP Map",
    "section": "2.1 Merging and Preparing the Data",
    "text": "2.1 Merging and Preparing the Data\nWe will merge the geospatial data with the GDP data.\n{ r} # Merge the map data with the GDP data by state name. map_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"names\")\n{ r} # Get a glimpse of the merged data. glimpse(map_df002)\n{ r} # Convert the merged data frame back to an sf object. map_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html#loading-geospatial-and-gdp-data-1",
    "href": "Plot/Map/3 leaflet US.html#loading-geospatial-and-gdp-data-1",
    "title": "US State GDP Map",
    "section": "6.1 Loading Geospatial and GDP Data",
    "text": "6.1 Loading Geospatial and GDP Data\nWe will load the US states geospatial data from a GeoJSON file and the GDP data from an Excel file.\n{ r} # Load the US states map data from the maps package. library(maps) mapStates = map(\"state\", fill = TRUE, plot = FALSE)\nUS location data: { r} # Read the US states GeoJSON file. json_data=read_sf(\"us-states.json\")\n{ r} # Convert the sf object to a data frame. map_df &lt;- as.data.frame(json_data)\n{ r} # Get a glimpse of the mapStates data. glimpse(mapStates)\nUS 2022 GDP data:\n```{ r} # Load the openxlsx and readxl packages for reading Excel files. library(openxlsx) library(readxl)",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/Map/3 leaflet US.html#merging-and-preparing-the-data-1",
    "href": "Plot/Map/3 leaflet US.html#merging-and-preparing-the-data-1",
    "title": "US State GDP Map",
    "section": "7.1 Merging and Preparing the Data",
    "text": "7.1 Merging and Preparing the Data\nWe will merge the geospatial data with the GDP data.\n{ r} # Merge the map data with the GDP data by state name. map_df002 &lt;- merge(map_df, per_gdp_usd, by.x = \"name\", by.y = \"names\")\n{ r} # Get a glimpse of the merged data. glimpse(map_df002)\n{ r} # Convert the merged data frame back to an sf object. map_sf002 &lt;- sf::st_as_sf(map_df002, sf_column_name = \"geometry\")",
    "crumbs": [
      "Plot",
      "Map",
      "US State GDP Map"
    ]
  },
  {
    "objectID": "Plot/Map/4 HK whisky bar.html",
    "href": "Plot/Map/4 HK whisky bar.html",
    "title": "Mapping Hong Kong Whisky Bars",
    "section": "",
    "text": "This document demonstrates how to create an interactive map of whisky bars in Hong Kong using the leaflet and tidygeocoder packages in R. We will start by creating a dataset of whisky bars, then geocode their addresses to obtain latitude and longitude coordinates, and finally create a map with custom markers, popups, and labels.",
    "crumbs": [
      "Plot",
      "Map",
      "Mapping Hong Kong Whisky Bars"
    ]
  },
  {
    "objectID": "Plot/Map/4 HK whisky bar.html#map-1-markers-with-custom-icons",
    "href": "Plot/Map/4 HK whisky bar.html#map-1-markers-with-custom-icons",
    "title": "Mapping Hong Kong Whisky Bars",
    "section": "3.1 Map 1: Markers with Custom Icons",
    "text": "3.1 Map 1: Markers with Custom Icons\nWe can use the bar logos as custom icons for the markers on the map.\n\n\nCode\n# Create a list of custom icons from the logo URLs\nleafIcons &lt;- icons(data002$bar_logo, iconWidth = 60, iconHeight = 50)\n\n# Create the leaflet map\nm &lt;- leaflet() %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # Add markers to the map using the custom icons\n  addMarkers(lng=data002$longitude, lat=data002$latitude, icon = leafIcons)\n \n# Display the map\nm",
    "crumbs": [
      "Plot",
      "Map",
      "Mapping Hong Kong Whisky Bars"
    ]
  },
  {
    "objectID": "Plot/Map/4 HK whisky bar.html#map-2-markers-with-popups",
    "href": "Plot/Map/4 HK whisky bar.html#map-2-markers-with-popups",
    "title": "Mapping Hong Kong Whisky Bars",
    "section": "3.2 Map 2: Markers with Popups",
    "text": "3.2 Map 2: Markers with Popups\nPopups are useful for displaying information when a user clicks on a marker.\n\n\nCode\n# Create a leaflet map\nm &lt;- leaflet(height=2000, width=2000) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # Add popups that appear on click, showing the bar's name\n  addPopups(lng=data002$longitude, lat=data002$latitude, data002$bar_name,\n             options = popupOptions(closeButton = FALSE) # Optionally remove the close button\n            )\n \n# Display the map\nm",
    "crumbs": [
      "Plot",
      "Map",
      "Mapping Hong Kong Whisky Bars"
    ]
  },
  {
    "objectID": "Plot/Map/4 HK whisky bar.html#map-3-markers-with-permanent-labels",
    "href": "Plot/Map/4 HK whisky bar.html#map-3-markers-with-permanent-labels",
    "title": "Mapping Hong Kong Whisky Bars",
    "section": "3.3 Map 3: Markers with Permanent Labels",
    "text": "3.3 Map 3: Markers with Permanent Labels\nUnlike popups, labels can be configured to be always visible, which is great for labeling a small number of locations directly on the map.\n\n\nCode\n# Create a leaflet map\nm &lt;- leaflet(height=2500, width=2000) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n  # Add markers with labels\n  addMarkers(\n    lng=data002$longitude, lat=data002$latitude,\n    label = data002$bar_name, # Set the label text\n    # Configure label options\n    labelOptions = labelOptions(noHide = TRUE, direction = \"bottom\", # Make label permanently visible below the marker\n      style = list( # Apply custom CSS styling to the label\n        \"color\" = \"red\",\n        \"font-family\" = \"serif\",\n        \"font-style\" = \"italic\",\n        \"box-shadow\" = \"2px 2px rgba(0,0,0,0.25)\",\n        \"font-size\" = \"12px\",\n        \"border-color\" = \"rgba(0,0,0,0.5)\"\n      )))\n\n# Display the map\nm",
    "crumbs": [
      "Plot",
      "Map",
      "Mapping Hong Kong Whisky Bars"
    ]
  },
  {
    "objectID": "Plot/Map/5 world map.html",
    "href": "Plot/Map/5 world map.html",
    "title": "World map with GPD per capita",
    "section": "",
    "text": "1 Download data\n\n\nCode\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(chromote)\nlibrary(janitor)\nlibrary(tidygeocoder)\nlibrary(leaflet)\nlibrary(sf)\n\n\nworld geojson\n\n\nCode\n# From http://data.okfn.org/data/datasets/geo-boundaries-world-110m\n#countries &lt;- sf::read_sf(\"https://rstudio.github.io/leaflet/json/countries.geojson\")\ncountries &lt;- sf::read_sf(\"https://raw.githubusercontent.com/johan/world.geo.json/refs/heads/master/countries.geo.json\")\n\n\nworld gpd per capita data\n\n\nCode\nworld_gdp_per_capita=read.csv(\"https://gist.githubusercontent.com/vr-23/d6a4a0aadcf3a2640091ca43c25e1955/raw/57b9cb74b24dc87b489c74cc4e11209cd5720642/world-data-2023.csv\")\n\n\n\n\nCode\n# data source: https://data.worldbank.org/\ndownload.file(\"https://api.worldbank.org/v2/en/indicator/NY.GDP.PCAP.CD?downloadformat=csv\",destfile='world_data.zip')\n\n\n\n\nCode\nunzip('world_data.zip')\n\n\n\n\nCode\nworld_gdp_per_capita=read.csv(\"API_NY.GDP.PCAP.CD_DS2_en_csv_v2_76317.csv\",skip = 3) |&gt; clean_names()\n\n\n\n\nCode\ndata001=countries |&gt; left_join(world_gdp_per_capita,by = join_by(id ==country_code))\n\n\n\n\nCode\npal &lt;- colorNumeric(palette = c('red','orange','yellow','pink','blue', 'green'),\n                    domain = data001$x2023\n  )\n\n\n\nm &lt;- leaflet(data001) %&gt;%\n   # Add default OpenStreetMap map tiles\n  addTiles() %&gt;%  \n   addPolygons(smoothFactor = 0.3, fillOpacity = 0.5,weight = 1,\n    fillColor = ~ pal(x2023)\n    ,color = ~pal(x2023)\n   #color = ~binpal(x2023)\n    ,popup = ~ paste0(\n      \"地区：\", name, \"&lt;br/&gt;\",\n      \"&lt;hr/&gt;\",\n      \"人均gpd：\", x2023, \"（美元）\", \"&lt;br/&gt;\"\n      \n    )\n     ,label = lapply(paste0(\n      \"地区：\", \"&lt;b&gt;\", data001$country_name, \"&lt;/b&gt;\", \"&lt;br/&gt;\",\n      \"人均gpd 美元：\", round(data001$x2023), \" USD&lt;br/&gt;\"\n     # , \"总gpd 美元：\", round(data001$total_2022_usd), \"M &lt;br/&gt;\"\n\n    ), htmltools::HTML)\n    )%&gt;% addLegend(\n    position = \"bottomright\", title = \"人均gpd(美元)\",\n    pal = pal, values = ~x2023, opacity = 1.0\n    )\n\n\n\n\nCode\nm  |&gt;  setView(lng = -10, lat = 45, zoom = 2)\n\n\n\n\n\n\n\n\n2 resouce:\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "Plot",
      "Map",
      "World map with GPD per capita"
    ]
  },
  {
    "objectID": "Publish/2 quarto/4 quarto presentation .html#if-add-to-a-quart-websiteneed-to-install-embedio-in-project-folder",
    "href": "Publish/2 quarto/4 quarto presentation .html#if-add-to-a-quart-websiteneed-to-install-embedio-in-project-folder",
    "title": "quarto presentation",
    "section": "7.1 if add to a quart website,need to install embedio in project folder",
    "text": "7.1 if add to a quart website,need to install embedio in project folder\n\n\nCode\nquarto add coatless-quarto/embedio\n\n\n---\ntitle: \"Quarto revealjs Presentation\"\nformat:\n  revealjs:\n    embed-resources: true\n    transition: slide\n    background-transition: fade\n    \n---\n\n\n## Getting up\n\n- Turn off alarm\n- Get out of bed\n\n\n\n## Going to sleep\n\n- Get in bed\n- Count sheep\n    View slides in full screen",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "Publish/2 quarto/4 quarto presentation .html#if-produce-a-standalone-html-file-with-no-external-dependencies",
    "href": "Publish/2 quarto/4 quarto presentation .html#if-produce-a-standalone-html-file-with-no-external-dependencies",
    "title": "quarto presentation",
    "section": "3.1 if Produce a standalone HTML file with no external dependencies",
    "text": "3.1 if Produce a standalone HTML file with no external dependencies\n\n\nCode\nformat:\n  revealjs:\n    embed-resources:true",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "Publish/2 quarto/4 quarto presentation .html#if-add-to-a-quart-websiteneed-to-install-embedio-quarto-extension-in-project-folder-first",
    "href": "Publish/2 quarto/4 quarto presentation .html#if-add-to-a-quart-websiteneed-to-install-embedio-quarto-extension-in-project-folder-first",
    "title": "quarto presentation",
    "section": "7.1 if add to a quart website,need to install embedio quarto extension in project folder first",
    "text": "7.1 if add to a quart website,need to install embedio quarto extension in project folder first\n\n\nCode\nquarto add coatless-quarto/embedio",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "Publish/2 quarto/4 quarto presentation .html#quarto-code",
    "href": "Publish/2 quarto/4 quarto presentation .html#quarto-code",
    "title": "quarto presentation",
    "section": "7.2 quarto code",
    "text": "7.2 quarto code\n---\ntitle: \"Quarto revealjs Presentation\"\nformat:\n  revealjs:\n    embed-resources: true\n    transition: slide\n    background-transition: fade\n    \n---\n\n\n## Getting up\n\n- Turn off alarm\n- Get out of bed\n\n---\n\n## Going to sleep\n\n- Get in bed\n- Count sheep\n\n\n---\n\n&lt;div style=\"display: flex; justify-content: center; align-items: center; height: 60vh;\"&gt;\n  &lt;div style=\"font-size: 100px; font-weight: bold;\"&gt;Thank you&lt;/div&gt;\n&lt;/div&gt;\n    View slides in full screen",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "Publish/2 quarto/4 quarto presentation .html#section",
    "href": "Publish/2 quarto/4 quarto presentation .html#section",
    "title": "quarto presentation",
    "section": "7.3 ",
    "text": "7.3 \nThank you\n    View slides in full screen",
    "crumbs": [
      "Publish",
      "2 quarto",
      "quarto presentation"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#manage-r-version-with-rig",
    "href": "intro/1 basic R.html#manage-r-version-with-rig",
    "title": "Basic R",
    "section": "1.1 manage R version with rig",
    "text": "1.1 manage R version with rig\nhttps://github.com/r-lib/rig\n\n1.1.1 install rig\n\n\nCode\nbrew tap r-lib/rig\nbrew install --cask rig\n\n\n\n\n1.1.2 show current downloaded R version\n\n\nCode\nrig list\n\n\n* name       version    aliases\n------------------------------------------\n  4.4-arm64  (R 4.4.3)  \n* 4.5-arm64  (R 4.5.1)  \n\n\n\n\n1.1.3 show current which R version can be downloaded\n\n\nCode\nrig available\n\n\nname   version  release date  type\n------------------------------------------\n4.1.3  4.1.3    2022-03-10    release\n4.2.3  4.2.3    2023-03-15    release\n4.3.3  4.3.3    2024-02-29    release\n4.4.3  4.4.3    2025-02-28    release\n4.5.1  4.5.1    2025-06-13    release\nnext   4.5.1                  patched\ndevel  4.6.0                  devel\n\n\n\n\n1.1.4 download R version\n\n\nCode\nrig add 4.4.3\n\n\n\n\n1.1.5 use R 4.4.3 version\n\n\nCode\n#rig default 4.4-arm64\n\n\n\n\n1.1.6 use R 4.5.1 version\n\n\nCode\nrig default 4.5-arm64\n\n\nor you can choose with UI\n\n\nCode\nopen -a Rig",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#find-folder-name-with-upper-case-letter",
    "href": "intro/1 basic R.html#find-folder-name-with-upper-case-letter",
    "title": "Basic R",
    "section": "2.8 find folder name with Upper Case letter",
    "text": "2.8 find folder name with Upper Case letter\n\n\nCode\nroot_path &lt;- \".\"            # or \"c:/my_project\", \"~/GitHub\", etc.\n\n## ==== STEP 1 : find folders with uppercase ----------------------------\ndirs &lt;- list.dirs(root_path, recursive = FALSE, full.names = FALSE)\n\n## Drop the root itself so we don't try to rename it\ndirs &lt;- setdiff(dirs, root_path)\n\n## Posix-compliant: only paths whose last component has at least one A-Z\nneeds_rename &lt;- dirs[grepl(\"[A-Z]\", basename(dirs))]\n\nif (length(needs_rename) == 0) {\n  message(\"  no folder needs renaming\")\n  quit(save = \"no\")\n}\nneeds_rename",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  },
  {
    "objectID": "intro/1 basic R.html#rename-folder-with-upper-case-letter-to-lower-case-letter",
    "href": "intro/1 basic R.html#rename-folder-with-upper-case-letter-to-lower-case-letter",
    "title": "Basic R",
    "section": "2.9 Rename folder with Upper Case letter to lower case letter",
    "text": "2.9 Rename folder with Upper Case letter to lower case letter\n\n\nCode\nfor (old_path in needs_rename) {\n  dir_name   &lt;- basename(old_path)\n  new_name   &lt;- tolower(dir_name)\n  parent_dir &lt;- dirname(old_path)\n  new_path   &lt;- file.path(parent_dir, new_name)\n\n  # On case-insensitive filesystems (like macOS default), we can't\n  # rename 'A' to 'a' directly if 'a' is considered the same file as 'A'.\n  # We rename to a temporary name first.\n  temp_path &lt;- file.path(parent_dir, paste0(\"temp__\", new_name))\n\n  # 1. Rename to a temporary name that is guaranteed not to exist (or clash)\n  rename_ok &lt;- file.rename(old_path, temp_path)\n\n  if (rename_ok) {\n    # 2. Rename from temporary to the final lowercase name\n    rename_ok &lt;- file.rename(temp_path, new_path)\n  }\n\n  message(sprintf(\"%s -&gt; %s  %s\",\n                  old_path,\n                  new_path,\n                  ifelse(rename_ok, \"✓\", \"✗ failed\")))\n}",
    "crumbs": [
      "Intro",
      "Basic R"
    ]
  }
]